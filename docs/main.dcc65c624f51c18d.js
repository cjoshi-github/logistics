"use strict";(self.webpackChunklogistics_primeng=self.webpackChunklogistics_primeng||[]).push([[179],{2011:(vt,Se,V)=>{V.d(Se,{Dh:()=>de,GT:()=>re,cc:()=>xe,hO:()=>Ze,on:()=>j,pX:()=>oe,xv:()=>ue});var s=V(4650),te=V(9260),L=V(2122);vt=V.hmd(vt);const se=["ngOnDestroy"],oe=(Me,Ae,$e,De={})=>new Proxy(Me,{get:(Te,Re)=>$e.runOutsideAngular(()=>{var Ue;if(Me[Re])return!(null===(Ue=De?.spy)||void 0===Ue)&&Ue.get&&De.spy.get(Re,Me[Re]),Me[Re];if(se.indexOf(Re)>-1)return()=>{};const Be=Ae.toPromise().then(G=>{const Ce=G&&G[Re];return"function"==typeof Ce?Ce.bind(G):Ce&&Ce.then?Ce.then(Ke=>$e.run(()=>Ke)):$e.run(()=>Ce)});return new Proxy(()=>{},{get:(G,Ce)=>Be[Ce],apply:(G,Ce,Ke)=>Be.then(nt=>{var Ct;const lt=nt&&nt(...Ke);return!(null===(Ct=De?.spy)||void 0===Ct)&&Ct.apply&&De.spy.apply(Re,Ke,lt),lt})})})}),re=(Me,Ae)=>{Ae.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(De=>{Object.defineProperty(Me.prototype,De,Object.getOwnPropertyDescriptor($e.prototype||$e,De))})})};class me{constructor(Ae){return Ae}}const de=new s.OlP("angularfire2.app.options"),ue=new s.OlP("angularfire2.app.name");function j(Me,Ae,$e){const Te="object"==typeof $e&&$e||{};Te.name=Te.name||"string"==typeof $e&&$e||"[DEFAULT]";const Ue=te.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||Ae.runOutsideAngular(()=>te.Z.initializeApp(Me,Te));try{JSON.stringify(Me)!==JSON.stringify(Ue.options)&&q("error",`${Ue.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Ue)}const q=(Me,...Ae)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Me](...Ae)},Y={provide:me,useFactory:j,deps:[de,s.R0b,[new s.FiY,ue]]};let Ze=(()=>{class Me{constructor($e){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",s.q4F.full,$e.toString())}static initializeApp($e,De){return{ngModule:Me,providers:[{provide:de,useValue:$e},{provide:ue,useValue:De}]}}}return Me.\u0275fac=function($e){return new($e||Me)(s.LFG(s.Lbi))},Me.\u0275mod=s.oAB({type:Me}),Me.\u0275inj=s.cJS({providers:[Y]}),Me})();function xe(Me,Ae,$e,De,Te){const[,Re,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Me)||[];if(Re)return function Xe(Me,Ae){try{return Me.toString()===Ae.toString()}catch{return Me===Ae}}(Te,Ue)||(fe("error",`${Ae} was already initialized on the ${$e} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Te,was:Ue})),Re;{const Be=De();return globalThis.\u0275AngularfireInstanceCache.push([Me,Be,Te]),Be}}const _t=!!vt.hot,fe=(Me,...Ae)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Me](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(vt,Se,V)=>{V.d(Se,{q4:()=>Mc,iC:()=>ei,fc:()=>cm,HU:()=>Xp,vb:()=>Zn,JM:()=>lr});var s=V(4650),te=V(259),L=V(5861),se=V(9681),oe=V(2090),re=V(4859),me=V(1877),de=V(8766);const ue="@firebase/installations",j="0.6.3",Y=`w:${j}`,Ze="FIS_v2",Ae=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(I){return I instanceof oe.ZR&&I.code.includes("request-failed")}function De({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Te(I){return{token:I.token,requestStatus:2,expiresIn:nt(I.expiresIn),creationTime:Date.now()}}function Re(I,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,L.Z)(function*(I,D){const U=(yield D.json()).error;return Ae.create("request-failed",{requestName:I,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Be({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function G(I,{refreshToken:D}){const k=Be(I);return k.append("Authorization",function Ct(I){return`${Ze} ${I}`}(D)),k}function Ce(I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,L.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function nt(I){return Number(I.replace("s","000"))}function lt(I,D){return le.apply(this,arguments)}function le(){return(le=(0,L.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:k}){const U=De(I),J=Be(I),ee=D.getImmediate({optional:!0});if(ee){const We=yield ee.getHeartbeatsHeader();We&&J.append("x-firebase-client",We)}const et={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:Ze,appId:I.appId,sdkVersion:Y})},wt=yield Ce(()=>fetch(U,et));if(wt.ok){const We=yield wt.json();return{fid:We.fid||k,registrationStatus:2,refreshToken:We.refreshToken,authToken:Te(We.authToken)}}throw yield Re("Create Installation",wt)})).apply(this,arguments)}function he(I){return new Promise(D=>{setTimeout(D,I)})}const Oe=/^[cdef][\w-]{21}$/;function Qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function st(I){return function we(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Oe.test(k)?k:""}catch{return""}}function tt(I){return`${I.appName}!${I.appId}`}const gn=new Map;function Mt(I,D){const k=tt(I);Ht(k,D),function Ln(I,D){const k=function Vn(){return!Gn&&"BroadcastChannel"in self&&(Gn=new BroadcastChannel("[Firebase] FID Change"),Gn.onmessage=I=>{Ht(I.data.key,I.data.fid)}),Gn}();k&&k.postMessage({key:I,fid:D}),function Bn(){0===gn.size&&Gn&&(Gn.close(),Gn=null)}()}(k,D)}function Ht(I,D){const k=gn.get(I);if(k)for(const U of k)U(D)}let Gn=null;const Dr="firebase-installations-store";let tr=null;function no(){return tr||(tr=(0,de.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Dr)}})),tr}function In(I,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,L.Z)(function*(I,D){const k=tt(I),J=(yield no()).transaction(Dr,"readwrite"),ee=J.objectStore(Dr),ve=yield ee.get(k);return yield ee.put(D,k),yield J.done,(!ve||ve.fid!==D.fid)&&Mt(I,D.fid),D})).apply(this,arguments)}function St(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,L.Z)(function*(I){const D=tt(I),U=(yield no()).transaction(Dr,"readwrite");yield U.objectStore(Dr).delete(D),yield U.done})).apply(this,arguments)}function Hr(I,D){return $n.apply(this,arguments)}function $n(){return($n=(0,L.Z)(function*(I,D){const k=tt(I),J=(yield no()).transaction(Dr,"readwrite"),ee=J.objectStore(Dr),ve=yield ee.get(k),et=D(ve);return void 0===et?yield ee.delete(k):yield ee.put(et,k),yield J.done,et&&(!ve||ve.fid!==et.fid)&&Mt(I,et.fid),et})).apply(this,arguments)}function Gi(I){return io.apply(this,arguments)}function io(){return(io=(0,L.Z)(function*(I){let D;const k=yield Hr(I.appConfig,U=>{const J=Ut(U),ee=xt(I,J);return D=ee.registrationPromise,ee.installationEntry});return""===k.fid?{installationEntry:yield D}:{installationEntry:k,registrationPromise:D}})).apply(this,arguments)}function Ut(I){return Ni(I||{fid:Qe(),registrationStatus:0})}function xt(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ae.create("app-offline"))};const k={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},U=function Rt(I,D){return Is.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:U}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:jn(I)}:{installationEntry:D}}function Is(){return(Is=(0,L.Z)(function*(I,D){try{const k=yield lt(I,D);return In(I.appConfig,k)}catch(k){throw $e(k)&&409===k.customData.serverCode?yield St(I.appConfig):yield In(I.appConfig,{fid:D.fid,registrationStatus:0}),k}})).apply(this,arguments)}function jn(I){return Un.apply(this,arguments)}function Un(){return(Un=(0,L.Z)(function*(I){let D=yield zr(I.appConfig);for(;1===D.registrationStatus;)yield he(100),D=yield zr(I.appConfig);if(0===D.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield Gi(I);return U||k}return D})).apply(this,arguments)}function zr(I){return Hr(I,D=>{if(!D)throw Ae.create("installation-not-found");return Ni(D)})}function Ni(I){return function pa(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function fn(I,D){return os.apply(this,arguments)}function os(){return(os=(0,L.Z)(function*({appConfig:I,heartbeatServiceProvider:D},k){const U=an(I,k),J=G(I,k),ee=D.getImmediate({optional:!0});if(ee){const We=yield ee.getHeartbeatsHeader();We&&J.append("x-firebase-client",We)}const et={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Y,appId:I.appId}})},wt=yield Ce(()=>fetch(U,et));if(wt.ok)return Te(yield wt.json());throw yield Re("Generate Auth Token",wt)})).apply(this,arguments)}function an(I,{fid:D}){return`${De(I)}/${D}/authTokens:generate`}function $i(I){return as.apply(this,arguments)}function as(){return(as=(0,L.Z)(function*(I,D=!1){let k;const U=yield Hr(I.appConfig,ee=>{if(!Gt(ee))throw Ae.create("not-registered");const ve=ee.authToken;if(!D&&$(ve))return ee;if(1===ve.requestStatus)return k=Ye(I,D),ee;{if(!navigator.onLine)throw Ae.create("app-offline");const et=Z(ee);return k=Ot(I,et),et}});return k?yield k:U.authToken})).apply(this,arguments)}function Ye(I,D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(I,D){let k=yield dt(I.appConfig);for(;1===k.authToken.requestStatus;)yield he(100),k=yield dt(I.appConfig);const U=k.authToken;return 0===U.requestStatus?$i(I,D):U})).apply(this,arguments)}function dt(I){return Hr(I,D=>{if(!Gt(D))throw Ae.create("not-registered");return function _e(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ot(I,D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,L.Z)(function*(I,D){try{const k=yield fn(I,D),U=Object.assign(Object.assign({},D),{authToken:k});return yield In(I.appConfig,U),k}catch(k){if(!$e(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield In(I.appConfig,U)}else yield St(I.appConfig);throw k}})).apply(this,arguments)}function Gt(I){return void 0!==I&&2===I.registrationStatus}function $(I){return 2===I.requestStatus&&!function H(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function Z(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function ft(){return(ft=(0,L.Z)(function*(I){const D=I,{installationEntry:k,registrationPromise:U}=yield Gi(D);return U?U.catch(console.error):$i(D).catch(console.error),k.fid})).apply(this,arguments)}function rn(){return(rn=(0,L.Z)(function*(I,D=!1){const k=I;return yield qn(k),(yield $i(k,D)).token})).apply(this,arguments)}function qn(I){return At.apply(this,arguments)}function At(){return(At=(0,L.Z)(function*(I){const{registrationPromise:D}=yield Gi(I);D&&(yield D)})).apply(this,arguments)}function nc(I){return Ae.create("missing-app-config-values",{valueName:I})}const wu="installations",Wn=I=>{const D=I.getProvider("app").getImmediate(),k=function ll(I){if(!I||!I.options)throw nc("App Configuration");if(!I.name)throw nc("App Name");const D=["projectId","apiKey","appId"];for(const k of D)if(!I.options[k])throw nc(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:k,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},th=I=>{const D=I.getProvider("app").getImmediate(),k=(0,se._getProvider)(D,wu).getImmediate();return{getId:()=>function ie(I){return ft.apply(this,arguments)}(k),getToken:J=>function $t(I){return rn.apply(this,arguments)}(k,J)}};(function Cu(){(0,se._registerComponent)(new re.wA(wu,Wn,"PUBLIC")),(0,se._registerComponent)(new re.wA("installations-internal",th,"PRIVATE"))})(),(0,se.registerVersion)(ue,j),(0,se.registerVersion)(ue,j,"esm2017");const cl="@firebase/remote-config",li=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Io{constructor(D,k,U,J){this.client=D,this.storage=k,this.storageCache=U,this.logger=J}isCachedDataFresh(D,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,J=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${J}.`),J}fetch(D){var k=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(D.cacheMaxAgeMillis,U))return J;D.eTag=J&&J.eTag;const ee=yield k.client.fetch(D),ve=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&ve.push(k.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(ve),ee})()}}function Ar(I=navigator){return I.languages&&I.languages[0]||I.language}class Cn{constructor(D,k,U,J,ee,ve){this.firebaseInstallations=D,this.sdkVersion=k,this.namespace=U,this.projectId=J,this.apiKey=ee,this.appId=ve}fetch(D){var k=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},wt={sdk_version:k.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:k.appId,language_code:Ar()},We={method:"POST",headers:et,body:JSON.stringify(wt)},Nt=fetch(ve,We),ke=new Promise((Zr,Rs)=>{D.signal.addEventListener(()=>{const zo=new Error("The operation was aborted.");zo.name="AbortError",Rs(zo)})});let Hn;try{yield Promise.race([Nt,ke]),Hn=yield Nt}catch(Zr){let Rs="fetch-client-network";throw"AbortError"===Zr?.name&&(Rs="fetch-timeout"),li.create(Rs,{originalErrorMessage:Zr?.message})}let Ci=Hn.status;const uo=Hn.headers.get("ETag")||void 0;let cr,Va;if(200===Hn.status){let Zr;try{Zr=yield Hn.json()}catch(Rs){throw li.create("fetch-client-parse",{originalErrorMessage:Rs?.message})}cr=Zr.entries,Va=Zr.state}if("INSTANCE_STATE_UNSPECIFIED"===Va?Ci=500:"NO_CHANGE"===Va?Ci=304:("NO_TEMPLATE"===Va||"EMPTY_CONFIG"===Va)&&(cr={}),304!==Ci&&200!==Ci)throw li.create("fetch-status",{httpStatus:Ci});return{status:Ci,eTag:uo,config:cr}})()}}class ls{constructor(D,k){this.client=D,this.storage=k}fetch(D){var k=this;return(0,L.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:k,backoffCount:U}){var J=this;return(0,L.Z)(function*(){yield function xn(I,D){return new Promise((k,U)=>{const J=Math.max(D-Date.now(),0),ee=setTimeout(k,J);I.addEventListener(()=>{clearTimeout(ee),U(li.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,k);try{const ee=yield J.client.fetch(D);return yield J.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Tn(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ee))throw ee;const ve={throttleEndTimeMillis:Date.now()+(0,oe.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(ve),J.attemptFetch(D,ve)}})()}}class _a{constructor(D,k,U,J,ee){this.app=D,this._client=k,this._storageCache=U,this._storage=J,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Do(I,D){const k=I.target.error||void 0;return li.create(D,{originalErrorMessage:k&&k?.message})}const ir="app_namespace_store";class $r{constructor(D,k,U,J=function gr(){return new Promise((I,D)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=U=>{D(Do(U,"storage-open"))},k.onsuccess=U=>{I(U.target.result)},k.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(ir,{keyPath:"compositeKey"})}}catch(k){D(li.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=D,this.appName=k,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((J,ee)=>{const et=U.transaction([ir],"readonly").objectStore(ir),wt=k.createCompositeKey(D);try{const We=et.get(wt);We.onerror=Nt=>{ee(Do(Nt,"storage-get"))},We.onsuccess=Nt=>{const ke=Nt.target.result;J(ke?ke.value:void 0)}}catch(We){ee(li.create("storage-get",{originalErrorMessage:We?.message}))}})})()}set(D,k){var U=this;return(0,L.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ee,ve)=>{const wt=J.transaction([ir],"readwrite").objectStore(ir),We=U.createCompositeKey(D);try{const Nt=wt.put({compositeKey:We,value:k});Nt.onerror=ke=>{ve(Do(ke,"storage-set"))},Nt.onsuccess=()=>{ee()}}catch(Nt){ve(li.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(D){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((J,ee)=>{const et=U.transaction([ir],"readwrite").objectStore(ir),wt=k.createCompositeKey(D);try{const We=et.delete(wt);We.onerror=Nt=>{ee(Do(Nt,"storage-delete"))},We.onsuccess=()=>{J()}}catch(We){ee(li.create("storage-delete",{originalErrorMessage:We?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class dl{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,L.Z)(function*(){const k=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),J=D.storage.getActiveConfig(),ee=yield k;ee&&(D.lastFetchStatus=ee);const ve=yield U;ve&&(D.lastSuccessfulFetchTimestampMillis=ve);const et=yield J;et&&(D.activeConfig=et)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function hl(){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,L.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function jr(){(0,se._registerComponent)(new re.wA("remote-config",function I(D,{instanceIdentifier:k}){const U=D.getProvider("app").getImmediate(),J=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw li.create("registration-window");if(!(0,oe.hl)())throw li.create("indexed-db-unavailable");const{projectId:ee,apiKey:ve,appId:et}=U.options;if(!ee)throw li.create("registration-project-id");if(!ve)throw li.create("registration-api-key");if(!et)throw li.create("registration-app-id");const wt=new $r(et,U.name,k=k||"firebase"),We=new dl(wt),Nt=new me.Yd(cl);Nt.logLevel=me.in.ERROR;const ke=new Cn(J,se.SDK_VERSION,k,ee,ve,et),Hn=new ls(ke,wt),Ci=new Io(Hn,wt,We,Nt),uo=new _a(U,Ci,We,wt,Nt);return function Kn(I){const D=(0,oe.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(uo),uo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(cl,"0.4.3"),(0,se.registerVersion)(cl,"0.4.3","esm2017")}();const Iu="/firebase-messaging-sw.js",cs="/firebase-cloud-messaging-push-scope",ya="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Du="google.c.a.c_id",Vp="google.c.a.c_l",Bp="google.c.a.ts",nm="google.c.a.e";var xo=(()=>{return(I=xo||(xo={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",xo;var I})();function us(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function im(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),J=new Uint8Array(U.length);for(let ee=0;ee<U.length;++ee)J[ee]=U.charCodeAt(ee);return J}const vn="fcm_token_details_db",sr="fcm_token_object_Store";function Au(I){return rh.apply(this,arguments)}function rh(){return rh=(0,L.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(vn))return null;let D=null;return(yield(0,de.X3)(vn,5,{upgrade:(U=(0,L.Z)(function*(J,ee,ve,et){var wt;if(ee<2||!J.objectStoreNames.contains(sr))return;const We=et.objectStore(sr),Nt=yield We.index("fcmSenderId").get(I);if(yield We.clear(),Nt)if(2===ee){const ke=Nt;if(!ke.auth||!ke.p256dh||!ke.endpoint)return;D={token:ke.fcmToken,createTime:null!==(wt=ke.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:ke.auth,p256dh:ke.p256dh,endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:"string"==typeof ke.vapidKey?ke.vapidKey:us(ke.vapidKey)}}}else if(3===ee){const ke=Nt;D={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:us(ke.auth),p256dh:us(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:us(ke.vapidKey)}}}else if(4===ee){const ke=Nt;D={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:us(ke.auth),p256dh:us(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:us(ke.vapidKey)}}}}),function(ee,ve,et,wt){return U.apply(this,arguments)})})).close(),yield(0,de.Lj)(vn),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Up(D)?D:null;var U}),rh.apply(this,arguments)}function Up(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Mo="firebase-messaging-store";let rc=null;function ba(){return rc||(rc=(0,de.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Mo)}})),rc}function sc(I){return wa.apply(this,arguments)}function wa(){return(wa=(0,L.Z)(function*(I){const D=Ta(I),U=yield(yield ba()).transaction(Mo).objectStore(Mo).get(D);if(U)return U;{const J=yield Au(I.appConfig.senderId);if(J)return yield ko(I,J),J}})).apply(this,arguments)}function ko(I,D){return fl.apply(this,arguments)}function fl(){return(fl=(0,L.Z)(function*(I,D){const k=Ta(I),J=(yield ba()).transaction(Mo,"readwrite");return yield J.objectStore(Mo).put(D,k),yield J.done,D})).apply(this,arguments)}function sh(I){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,L.Z)(function*(I){const D=Ta(I),U=(yield ba()).transaction(Mo,"readwrite");yield U.objectStore(Mo).delete(D),yield U.done})).apply(this,arguments)}function Ta({appConfig:I}){return I.appId}const Jn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oc(I,D){return si.apply(this,arguments)}function si(){return(si=(0,L.Z)(function*(I,D){const k=yield Oo(I),U=gl(D),J={method:"POST",headers:k,body:JSON.stringify(U)};let ee;try{ee=yield(yield fetch(Ea(I.appConfig),J)).json()}catch(ve){throw Jn.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(ee.error)throw Jn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Jn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function ac(I,D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,L.Z)(function*(I,D){const k=yield Oo(I),U=gl(D.subscriptionOptions),J={method:"PATCH",headers:k,body:JSON.stringify(U)};let ee;try{ee=yield(yield fetch(`${Ea(I.appConfig)}/${D.token}`,J)).json()}catch(ve){throw Jn.create("token-update-failed",{errorInfo:ve?.toString()})}if(ee.error)throw Jn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Jn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ui(I,D){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,L.Z)(function*(I,D){const U={method:"DELETE",headers:yield Oo(I)};try{const ee=yield(yield fetch(`${Ea(I.appConfig)}/${D}`,U)).json();if(ee.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(J){throw Jn.create("token-unsubscribe-failed",{errorInfo:J?.toString()})}})).apply(this,arguments)}function Ea({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Oo(I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,L.Z)(function*({appConfig:I,installations:D}){const k=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function gl({p256dh:I,auth:D,endpoint:k,vapidKey:U}){const J={web:{endpoint:k,auth:D,p256dh:I}};return U!==ya&&(J.web.applicationPubKey=U),J}const Sa=6048e5;function lc(I){return xs.apply(this,arguments)}function xs(){return(xs=(0,L.Z)(function*(I){const D=yield ku(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:us(D.getKey("auth")),p256dh:us(D.getKey("p256dh"))},U=yield sc(I.firebaseDependencies);if(U){if(dc(U.subscriptionOptions,k))return Date.now()>=U.createTime+Sa?Bt(I,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield ui(I.firebaseDependencies,U.token)}catch(J){console.warn(J)}return oh(I.firebaseDependencies,k)}return oh(I.firebaseDependencies,k)})).apply(this,arguments)}function ml(I){return _l.apply(this,arguments)}function _l(){return(_l=(0,L.Z)(function*(I){const D=yield sc(I.firebaseDependencies);D&&(yield ui(I.firebaseDependencies,D.token),yield sh(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Bt(I,D){return cc.apply(this,arguments)}function cc(){return(cc=(0,L.Z)(function*(I,D){try{const k=yield ac(I.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:k,createTime:Date.now()});return yield ko(I.firebaseDependencies,U),k}catch(k){throw yield ml(I),k}})).apply(this,arguments)}function oh(I,D){return uc.apply(this,arguments)}function uc(){return(uc=(0,L.Z)(function*(I,D){const U={token:yield oc(I,D),createTime:Date.now(),subscriptionOptions:D};return yield ko(I,U),U.token})).apply(this,arguments)}function ku(I,D){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,L.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:im(D)})})).apply(this,arguments)}function dc(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function Hp(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Ou(I,D){if(!D.notification)return;I.notification={};const k=D.notification.title;k&&(I.notification.title=k);const U=D.notification.body;U&&(I.notification.body=U);const J=D.notification.image;J&&(I.notification.image=J);const ee=D.notification.icon;ee&&(I.notification.icon=ee)}(D,I),function ye(I,D){D.data&&(I.data=D.data)}(D,I),function cn(I,D){var k,U,J,ee,ve;if(!(D.fcmOptions||null!==(k=D.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const et=null!==(J=null===(U=D.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==J?J:null===(ee=D.notification)||void 0===ee?void 0:ee.click_action;et&&(I.fcmOptions.link=et);const wt=null===(ve=D.fcmOptions)||void 0===ve?void 0:ve.analytics_label;wt&&(I.fcmOptions.analyticsLabel=wt)}(D,I),D}function Nu(I){return"object"==typeof I&&!!I&&Du in I}function ah(I,D){const k=[];for(let U=0;U<I.length;U++)k.push(I.charAt(U)),U<D.length&&k.push(D.charAt(U));return k.join("")}function yl(I){return Jn.create("missing-app-config-values",{valueName:I})}ah("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ah("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hc{constructor(D,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Pi(I){if(!I||!I.options)throw yl("App Configuration Object");if(!I.name)throw yl("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const U of D)if(!k[U])throw yl(U);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:J,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function _r(I){return pc.apply(this,arguments)}function pc(){return(pc=(0,L.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Iu,{scope:cs}),I.swRegistration.update().catch(()=>{})}catch(D){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function fc(I,D){return lh.apply(this,arguments)}function lh(){return(lh=(0,L.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield _r(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function Pu(I,D){return gc.apply(this,arguments)}function gc(){return(gc=(0,L.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=ya)})).apply(this,arguments)}function yr(){return(yr=(0,L.Z)(function*(I,D){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield Pu(I,D?.vapidKey),yield fc(I,D?.serviceWorkerRegistration),lc(I)})).apply(this,arguments)}function so(I,D,k){return No.apply(this,arguments)}function No(){return(No=(0,L.Z)(function*(I,D,k){const U=ds(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[Du],message_name:k[Vp],message_time:k[Bp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ds(I){switch(I){case xo.NOTIFICATION_CLICKED:return"notification_open";case xo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vl(){return(vl=(0,L.Z)(function*(I,D){const k=D.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===xo.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Hp(k)):I.onMessageHandler.next(Hp(k)));const U=k.data;Nu(U)&&"1"===U[nm]&&(yield so(I,k.messageType,U))})).apply(this,arguments)}const uh="@firebase/messaging",Lu=I=>{const D=new hc(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function ch(I,D){return vl.apply(this,arguments)}(D,k)),D},As=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:U=>function wi(I,D){return yr.apply(this,arguments)}(D,U)}};function Vu(){return hh.apply(this,arguments)}function hh(){return(hh=(0,L.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dh(){(0,se._registerComponent)(new re.wA("messaging",Lu,"PUBLIC")),(0,se._registerComponent)(new re.wA("messaging-internal",As,"PRIVATE")),(0,se.registerVersion)(uh,"0.12.3"),(0,se.registerVersion)(uh,"0.12.3","esm2017")}();const ph="analytics",or="firebase_id",Da="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uu="https://www.googletagmanager.com/gtag/js",Fi=new me.Yd("@firebase/analytics");function $p(I){return Promise.all(I.map(D=>D.catch(k=>k)))}function om(I,D){const k=document.createElement("script");k.src=`${Uu}?l=${I}&id=${D}`,k.async=!0,document.head.appendChild(k)}function bl(I,D,k,U,J,ee){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(I,D,k,U,J,ee){const ve=U[J];try{if(ve)yield D[ve];else{const wt=(yield $p(k)).find(We=>We.measurementId===J);wt&&(yield D[wt.appId])}}catch(et){Fi.error(et)}I("config",J,ee)})).apply(this,arguments)}function xa(I,D,k,U,J){return kr.apply(this,arguments)}function kr(){return(kr=(0,L.Z)(function*(I,D,k,U,J){try{let ee=[];if(J&&J.send_to){let ve=J.send_to;Array.isArray(ve)||(ve=[ve]);const et=yield $p(k);for(const wt of ve){const We=et.find(ke=>ke.measurementId===wt),Nt=We&&D[We.appId];if(!Nt){ee=[];break}ee.push(Nt)}}0===ee.length&&(ee=Object.values(D)),yield Promise.all(ee),I("event",U,J||{})}catch(ee){Fi.error(ee)}})).apply(this,arguments)}function Aa(I){const D=window.document.getElementsByTagName("script");for(const k of Object.values(D))if(k.src&&k.src.includes(Uu)&&k.src.includes(I))return k;return null}const Rr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wl=new class Po{constructor(D={},k=1e3){this.throttleMetadata=D,this.intervalMillis=k}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,k){this.throttleMetadata[D]=k}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function yc(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Cl(I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,L.Z)(function*(I){var D;const{appId:k,apiKey:U}=I,J={method:"GET",headers:yc(U)},ee=Da.replace("{app-id}",k),ve=yield fetch(ee,J);if(200!==ve.status&&304!==ve.status){let et="";try{const wt=yield ve.json();null!==(D=wt.error)&&void 0!==D&&D.message&&(et=wt.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:et})}return ve.json()})).apply(this,arguments)}function An(I){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,L.Z)(function*(I,D=wl,k){const{appId:U,apiKey:J,measurementId:ee}=I.options;if(!U)throw Rr.create("no-app-id");if(!J){if(ee)return{measurementId:ee,appId:U};throw Rr.create("no-api-key")}const ve=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new vc;return setTimeout((0,L.Z)(function*(){et.abort()}),void 0!==k?k:6e4),Fo({appId:U,apiKey:J,measurementId:ee},ve,et,D)})).apply(this,arguments)}function Fo(I,D,k){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,L.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:k},U,J=wl){var ee;const{appId:ve,measurementId:et}=I;try{yield El(U,D)}catch(wt){if(et)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:ve,measurementId:et};throw wt}try{const wt=yield Cl(I);return J.deleteThrottleMetadata(ve),wt}catch(wt){const We=wt;if(!$u(We)){if(J.deleteThrottleMetadata(ve),et)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:ve,measurementId:et};throw wt}const Nt=503===Number(null===(ee=We?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,oe.$s)(k,J.intervalMillis,30):(0,oe.$s)(k,J.intervalMillis),ke={throttleEndTimeMillis:Date.now()+Nt,backoffCount:k+1};return J.setThrottleMetadata(ve,ke),Fi.debug(`Calling attemptFetch again in ${Nt} millis`),Fo(I,ke,U,J)}})).apply(this,arguments)}function El(I,D){return new Promise((k,U)=>{const J=Math.max(D-Date.now(),0),ee=setTimeout(k,J);I.addEventListener(()=>{clearTimeout(ee),U(Rr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function $u(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class vc{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let bc,Bo;function ao(){return(ao=(0,L.Z)(function*(I,D,k,U,J){if(J&&J.global)I("event",k,U);else{const ee=yield D;I("event",k,Object.assign(Object.assign({},U),{send_to:ee}))}})).apply(this,arguments)}function Tc(I){Bo=I}function Sl(I){bc=I}function qu(){return gh.apply(this,arguments)}function gh(){return(gh=(0,L.Z)(function*(){if(!(0,oe.hl)())return Fi.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(I){return Fi.warn(Rr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Oa(){return(Oa=(0,L.Z)(function*(I,D,k,U,J,ee,ve){var et;const wt=An(I);wt.then(Ci=>{k[Ci.measurementId]=Ci.appId,I.options.measurementId&&Ci.measurementId!==I.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>Fi.error(Ci)),D.push(wt);const We=qu().then(Ci=>{if(Ci)return U.getId()}),[Nt,ke]=yield Promise.all([wt,We]);Aa(ee)||om(ee,Nt.measurementId),Bo&&(J("consent","default",Bo),Tc(void 0)),J("js",new Date);const Hn=null!==(et=ve?.config)&&void 0!==et?et:{};return Hn.origin="firebase",Hn.update=!0,null!=ke&&(Hn[or]=ke),J("config",Nt.measurementId,Hn),bc&&(J("set",bc),Sl(void 0)),Nt.measurementId})).apply(this,arguments)}class jp{constructor(D){this.app=D}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}}let ks={},Il=[];const Ec={};let Ku,Wr,qr="dataLayer",Kr=!1;function Sc(I,D,k){!function Zu(){const I=[];if((0,oe.ru)()&&I.push("This is a browser extension environment."),(0,oe.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((U,J)=>`(${J+1}) ${U}`).join(" "),k=Rr.create("invalid-analytics-context",{errorInfo:D});Fi.warn(k.message)}}();const U=I.options.appId;if(!U)throw Rr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Rr.create("no-api-key");Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ks[U])throw Rr.create("already-exists",{id:U});if(!Kr){!function am(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(qr);const{wrappedGtag:ee,gtagCore:ve}=function _c(I,D,k,U,J){let ee=function(...ve){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ee=window[J]),window[J]=function Hu(I,D,k,U){function ee(){return(ee=(0,L.Z)(function*(ve,et,wt){try{"event"===ve?yield xa(I,D,k,et,wt):"config"===ve?yield bl(I,D,k,U,et,wt):"consent"===ve?I("consent","update",wt):I("set",et)}catch(We){Fi.error(We)}})).apply(this,arguments)}return function J(ve,et,wt){return ee.apply(this,arguments)}}(ee,I,D,k),{gtagCore:ee,wrappedGtag:window[J]}}(ks,Il,Ec,qr,"gtag");Wr=ee,Ku=ve,Kr=!0}return ks[U]=function Uo(I,D,k,U,J,ee,ve){return Oa.apply(this,arguments)}(I,Il,Ec,D,Ku,qr,k),new jp(I)}function Yu(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,L.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const sn="@firebase/analytics";!function lm(){(0,se._registerComponent)(new re.wA(ph,(D,{options:k})=>Sc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,se._registerComponent)(new re.wA("analytics-internal",function I(D){try{const k=D.getProvider(ph).getImmediate();return{logEvent:(U,J,ee)=>function lv(I,D,k,U){I=(0,oe.m9)(I),function wc(I,D,k,U,J){return ao.apply(this,arguments)}(Wr,ks[I.app.options.appId],D,k,U).catch(J=>Fi.error(J))}(k,U,J,ee)}}catch(k){throw Rr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,se.registerVersion)(sn,"0.9.3"),(0,se.registerVersion)(sn,"0.9.3","esm2017")}();var Dc=V(4408),Zp=V(7565);const Qp=new class yh extends Zp.v{}(class Kp extends Dc.o{constructor(D,k){super(D,k),this.scheduler=D,this.work=k}schedule(D,k=0){return k>0?super.schedule(D,k):(this.delay=k,this.state=D,this.scheduler.flush(this),this)}execute(D,k){return k>0||this.closed?super.execute(D,k):this._execute(D,k)}requestAsyncId(D,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,k,U):(D.flush(this),0)}});var Yp=V(4986),ed=V(8505),Mn=V(5363),Ac=V(9468);const Mc=new s.GfV("7.5.0"),td="__angularfire_symbol__analyticsIsSupportedValue",vr="__angularfire_symbol__analyticsIsSupported",hs="__angularfire_symbol__remoteConfigIsSupportedValue",kc="__angularfire_symbol__remoteConfigIsSupported",xl="__angularfire_symbol__messagingIsSupportedValue",Pa="__angularfire_symbol__messagingIsSupported";function lr(I,D,k){if(D){if(1===D.length)return D[0];const ee=D.filter(ve=>ve.app===k);if(1===ee.length)return ee[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[vr]||(globalThis[vr]=Yu().then(I=>globalThis[td]=I).catch(()=>globalThis[td]=!1)),globalThis[Pa]||(globalThis[Pa]=Vu().then(I=>globalThis[xl]=I).catch(()=>globalThis[xl]=!1)),globalThis[kc]||(globalThis[kc]=hl().then(I=>globalThis[hs]=I).catch(()=>globalThis[hs]=!1));const Zn=(I,D)=>{const k=D?[D]:(0,te.C6)(),U=[];return k.forEach(J=>{J.container.getProvider(I).instances.forEach(ve=>{U.includes(ve)||U.push(ve)})}),U};function He(){}class Fa{constructor(D,k=Qp){this.zone=D,this.delegate=k}now(){return this.delegate.now()}schedule(D,k,U){const J=this.zone;return this.delegate.schedule(function(ve){J.runGuarded(()=>{D.apply(this,[ve])})},k,U)}}class Oc{constructor(D){this.zone=D,this.task=null}call(D,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),k.pipe((0,ed.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xp=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Fa(Zone.current)),this.insideAngular=k.run(()=>new Fa(Zone.current,Yp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(s.LFG(s.R0b))},I.\u0275prov=s.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Xn(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function cm(I){return I.pipe((0,Mn.Q)(Xn().outsideAngular))}function ei(I){return Xn(),function La(I){return function(k){return(k=k.lift(new Oc(I.ngZone))).pipe((0,Ac.R)(I.outsideAngular),(0,Mn.Q)(I.insideAngular))}}(Xn())(I)}},2090:(vt,Se,V)=>{V.d(Se,{$s:()=>dt,BH:()=>Te,DV:()=>Dr,Dv:()=>jn,G6:()=>we,GJ:()=>pr,L:()=>de,LL:()=>gn,Pz:()=>De,Sg:()=>Re,UG:()=>G,UI:()=>no,US:()=>re,Wj:()=>Ni,Wl:()=>Ht,Yr:()=>he,ZB:()=>q,ZR:()=>tt,aH:()=>$e,b$:()=>nt,cI:()=>ct,dS:()=>fn,eu:()=>je,g5:()=>L,gK:()=>Un,gQ:()=>Gi,h$:()=>me,hl:()=>Oe,hu:()=>te,jU:()=>Ce,lb:()=>pa,m9:()=>Gt,ne:()=>io,p$:()=>j,pd:()=>$n,r3:()=>to,ru:()=>Ke,tV:()=>ue,uI:()=>Be,ug:()=>os,vZ:()=>In,w1:()=>lt,w9:()=>Bn,xO:()=>Ss,xb:()=>tr,z$:()=>Ue,zI:()=>Qe,zd:()=>Hr});const te=function($,H){if(!$)throw L(H)},L=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},se=function($){const H=[];let Z=0;for(let _e=0;_e<$.length;_e++){let ie=$.charCodeAt(_e);ie<128?H[Z++]=ie:ie<2048?(H[Z++]=ie>>6|192,H[Z++]=63&ie|128):55296==(64512&ie)&&_e+1<$.length&&56320==(64512&$.charCodeAt(_e+1))?(ie=65536+((1023&ie)<<10)+(1023&$.charCodeAt(++_e)),H[Z++]=ie>>18|240,H[Z++]=ie>>12&63|128,H[Z++]=ie>>6&63|128,H[Z++]=63&ie|128):(H[Z++]=ie>>12|224,H[Z++]=ie>>6&63|128,H[Z++]=63&ie|128)}return H},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ie=0;ie<$.length;ie+=3){const ft=$[ie],$t=ie+1<$.length,rn=$t?$[ie+1]:0,qn=ie+2<$.length,At=qn?$[ie+2]:0;let vi=(15&rn)<<2|At>>6,fa=63&At;qn||(fa=64,$t||(vi=64)),_e.push(Z[ft>>2],Z[(3&ft)<<4|rn>>4],Z[vi],Z[fa])}return _e.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(se($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let Z=0,_e=0;for(;Z<$.length;){const ie=$[Z++];if(ie<128)H[_e++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ft=$[Z++];H[_e++]=String.fromCharCode((31&ie)<<6|63&ft)}else if(ie>239&&ie<365){const qn=((7&ie)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;H[_e++]=String.fromCharCode(55296+(qn>>10)),H[_e++]=String.fromCharCode(56320+(1023&qn))}else{const ft=$[Z++],$t=$[Z++];H[_e++]=String.fromCharCode((15&ie)<<12|(63&ft)<<6|63&$t)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const Z=H?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ie=0;ie<$.length;){const ft=Z[$.charAt(ie++)],rn=ie<$.length?Z[$.charAt(ie)]:0;++ie;const At=ie<$.length?Z[$.charAt(ie)]:64;++ie;const Zt=ie<$.length?Z[$.charAt(ie)]:64;if(++ie,null==ft||null==rn||null==At||null==Zt)throw Error();_e.push(ft<<2|rn>>4),64!==At&&(_e.push(rn<<4&240|At>>2),64!==Zt&&_e.push(At<<6&192|Zt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},me=function($){const H=se($);return re.encodeByteArray(H,!0)},de=function($){return me($).replace(/\./g,"")},ue=function($){try{return re.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function j($){return q(void 0,$)}function q($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const Z in H)!H.hasOwnProperty(Z)||!Y(Z)||($[Z]=q($[Z],H[Z]));return $}function Y($){return"__proto__"!==$}const fe=()=>{try{return function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=$&&ue($[1]);return H&&JSON.parse(H)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},$e=()=>{var $;return null===($=fe())||void 0===$?void 0:$.config},De=$=>{var H;return null===(H=fe())||void 0===H?void 0:H[`_${$}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Z)=>{this.resolve=H,this.reject=Z})}wrapCallback(H){return(Z,_e)=>{Z?this.reject(Z):this.resolve(_e),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Z):H(Z,_e))}}}function Re($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=H||"demo-project",ie=$.iat||0,ft=$.sub||$.user_id;if(!ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $t=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ie,exp:ie+3600,auth_time:ie,sub:ft,user_id:ft,firebase:{sign_in_provider:"custom",identities:{}}},$);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify($t)),""].join(".")}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function G(){var $;const H=null===($=fe())||void 0===$?void 0:$.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Ke(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const $=Ue();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function he(){return!1}function we(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise(($,H)=>{try{let Z=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(_e);ie.onsuccess=()=>{ie.result.close(),Z||self.indexedDB.deleteDatabase(_e),$(!0)},ie.onupgradeneeded=()=>{Z=!1},ie.onerror=()=>{var ft;H((null===(ft=ie.error)||void 0===ft?void 0:ft.message)||"")}}catch(Z){H(Z)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(H,Z,_e){super(Z),this.code=H,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}}class gn{constructor(H,Z,_e){this.service=H,this.serviceName=Z,this.errors=_e}create(H,...Z){const _e=Z[0]||{},ie=`${this.service}/${H}`,ft=this.errors[H],$t=ft?function Mt($,H){return $.replace(un,(Z,_e)=>{const ie=H[_e];return null!=ie?String(ie):`<${_e}?>`})}(ft,_e):"Error";return new tt(ie,`${this.serviceName}: ${$t} (${ie}).`,_e)}}const un=/\{\$([^}]+)}/g;function ct($){return JSON.parse($)}function Ht($){return JSON.stringify($)}const Ln=function($){let H={},Z={},_e={},ie="";try{const ft=$.split(".");H=ct(ue(ft[0])||""),Z=ct(ue(ft[1])||""),ie=ft[2],_e=Z.d||{},delete Z.d}catch{}return{header:H,claims:Z,data:_e,signature:ie}},Bn=function($){const Z=Ln($).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},pr=function($){const H=Ln($).claims;return"object"==typeof H&&!0===H.admin};function to($,H){return Object.prototype.hasOwnProperty.call($,H)}function Dr($,H){if(Object.prototype.hasOwnProperty.call($,H))return $[H]}function tr($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function no($,H,Z){const _e={};for(const ie in $)Object.prototype.hasOwnProperty.call($,ie)&&(_e[ie]=H.call(Z,$[ie],ie,$));return _e}function In($,H){if($===H)return!0;const Z=Object.keys($),_e=Object.keys(H);for(const ie of Z){if(!_e.includes(ie))return!1;const ft=$[ie],$t=H[ie];if(fr(ft)&&fr($t)){if(!In(ft,$t))return!1}else if(ft!==$t)return!1}for(const ie of _e)if(!Z.includes(ie))return!1;return!0}function fr($){return null!==$&&"object"==typeof $}function Ss($){const H=[];for(const[Z,_e]of Object.entries($))Array.isArray(_e)?_e.forEach(ie=>{H.push(encodeURIComponent(Z)+"="+encodeURIComponent(ie))}):H.push(encodeURIComponent(Z)+"="+encodeURIComponent(_e));return H.length?"&"+H.join("&"):""}function Hr($){const H={};return $.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ie,ft]=_e.split("=");H[decodeURIComponent(ie)]=decodeURIComponent(ft)}}),H}function $n($){const H=$.indexOf("?");if(!H)return"";const Z=$.indexOf("#",H);return $.substring(H,Z>0?Z:void 0)}class Gi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,Z){Z||(Z=0);const _e=this.W_;if("string"==typeof H)for(let Zt=0;Zt<16;Zt++)_e[Zt]=H.charCodeAt(Z)<<24|H.charCodeAt(Z+1)<<16|H.charCodeAt(Z+2)<<8|H.charCodeAt(Z+3),Z+=4;else for(let Zt=0;Zt<16;Zt++)_e[Zt]=H[Z]<<24|H[Z+1]<<16|H[Z+2]<<8|H[Z+3],Z+=4;for(let Zt=16;Zt<80;Zt++){const vi=_e[Zt-3]^_e[Zt-8]^_e[Zt-14]^_e[Zt-16];_e[Zt]=4294967295&(vi<<1|vi>>>31)}let At,xi,ie=this.chain_[0],ft=this.chain_[1],$t=this.chain_[2],rn=this.chain_[3],qn=this.chain_[4];for(let Zt=0;Zt<80;Zt++){Zt<40?Zt<20?(At=rn^ft&($t^rn),xi=1518500249):(At=ft^$t^rn,xi=1859775393):Zt<60?(At=ft&$t|rn&(ft|$t),xi=2400959708):(At=ft^$t^rn,xi=3395469782);const vi=(ie<<5|ie>>>27)+At+qn+xi+_e[Zt]&4294967295;qn=rn,rn=$t,$t=4294967295&(ft<<30|ft>>>2),ft=ie,ie=vi}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+ft&4294967295,this.chain_[2]=this.chain_[2]+$t&4294967295,this.chain_[3]=this.chain_[3]+rn&4294967295,this.chain_[4]=this.chain_[4]+qn&4294967295}update(H,Z){if(null==H)return;void 0===Z&&(Z=H.length);const _e=Z-this.blockSize;let ie=0;const ft=this.buf_;let $t=this.inbuf_;for(;ie<Z;){if(0===$t)for(;ie<=_e;)this.compress_(H,ie),ie+=this.blockSize;if("string"==typeof H){for(;ie<Z;)if(ft[$t]=H.charCodeAt(ie),++$t,++ie,$t===this.blockSize){this.compress_(ft),$t=0;break}}else for(;ie<Z;)if(ft[$t]=H[ie],++$t,++ie,$t===this.blockSize){this.compress_(ft),$t=0;break}}this.inbuf_=$t,this.total_+=Z}digest(){const H=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&Z,Z/=256;this.compress_(this.buf_);let _e=0;for(let ie=0;ie<5;ie++)for(let ft=24;ft>=0;ft-=8)H[_e]=this.chain_[ie]>>ft&255,++_e;return H}}function io($,H){const Z=new Ut($,H);return Z.subscribe.bind(Z)}class Ut{constructor(H,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{H(this)}).catch(_e=>{this.error(_e)})}next(H){this.forEachObserver(Z=>{Z.next(H)})}error(H){this.forEachObserver(Z=>{Z.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Z,_e){let ie;if(void 0===H&&void 0===Z&&void 0===_e)throw new Error("Missing Observer.");ie=function Rt($,H){if("object"!=typeof $||null===$)return!1;for(const Z of H)if(Z in $&&"function"==typeof $[Z])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:Z,complete:_e},void 0===ie.next&&(ie.next=Is),void 0===ie.error&&(ie.error=Is),void 0===ie.complete&&(ie.complete=Is);const ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ft}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,H)}sendOne(H,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Z(this.observers[H])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Is(){}const jn=function($,H,Z,_e){let ie;if(_e<H?ie="at least "+H:_e>Z&&(ie=0===Z?"none":"no more than "+Z),ie)throw new Error($+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ie+".")};function Un($,H){return`${$} failed: ${H} argument `}function Ni($,H,Z,_e){if((!_e||Z)&&"function"!=typeof Z)throw new Error(Un($,H)+"must be a valid function.")}function pa($,H,Z,_e){if((!_e||Z)&&("object"!=typeof Z||null===Z))throw new Error(Un($,H)+"must be a valid context object.")}const fn=function($){const H=[];let Z=0;for(let _e=0;_e<$.length;_e++){let ie=$.charCodeAt(_e);if(ie>=55296&&ie<=56319){const ft=ie-55296;_e++,te(_e<$.length,"Surrogate pair missing trail surrogate."),ie=65536+(ft<<10)+($.charCodeAt(_e)-56320)}ie<128?H[Z++]=ie:ie<2048?(H[Z++]=ie>>6|192,H[Z++]=63&ie|128):ie<65536?(H[Z++]=ie>>12|224,H[Z++]=ie>>6&63|128,H[Z++]=63&ie|128):(H[Z++]=ie>>18|240,H[Z++]=ie>>12&63|128,H[Z++]=ie>>6&63|128,H[Z++]=63&ie|128)}return H},os=function($){let H=0;for(let Z=0;Z<$.length;Z++){const _e=$.charCodeAt(Z);_e<128?H++:_e<2048?H+=2:_e>=55296&&_e<=56319?(H+=4,Z++):H+=3}return H};function dt($,H=1e3,Z=2){const _e=H*Math.pow(Z,$),ie=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+ie)}function Gt($){return $&&$._delegate?$._delegate:$}},5910:(vt,Se,V)=>{var s=V(4650);let te=null;function L(){return te}class oe{}const re=new s.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function de(){return(0,s.LFG)(j)}()},providedIn:"platform"}),n})();const ue=new s.OlP("Location Initialized");let j=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Y(){return new j((0,s.LFG)(re))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let _t=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Me)},providedIn:"root"}),n})();const fe=new s.OlP("appBaseHref");let Me=(()=>{class n extends _t{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Xe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+Xe(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+Xe(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(me),s.LFG(fe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ae=(()=>{class n extends _t{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+Xe(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+Xe(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(me),s.LFG(fe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ue(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(xe(Re(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Xe(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,Re(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Ze,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(s.LFG(_t))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function De(){return new $e((0,s.LFG)(_t))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}var Ke=(()=>((Ke=Ke||{})[Ke.Format=0]="Format",Ke[Ke.Standalone=1]="Standalone",Ke))(),nt=(()=>((nt=nt||{})[nt.Narrow=0]="Narrow",nt[nt.Abbreviated=1]="Abbreviated",nt[nt.Wide=2]="Wide",nt[nt.Short=3]="Short",nt))(),Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.Medium=1]="Medium",Ct[Ct.Long=2]="Long",Ct[Ct.Full=3]="Full",Ct))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function gn(n,t){return In((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Mt(n,t){return In((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function un(n,t){return In((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function ct(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===lt.CurrencyDecimal)return e[s.wAp.NumberSymbols][lt.Decimal];if(t===lt.CurrencyGroup)return e[s.wAp.NumberSymbols][lt.Group]}return i}function to(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function In(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function fr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const $n=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gi={},io=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),xt=(()=>((xt=xt||{})[xt.FullYear=0]="FullYear",xt[xt.Month=1]="Month",xt[xt.Date=2]="Date",xt[xt.Hours=3]="Hours",xt[xt.Minutes=4]="Minutes",xt[xt.Seconds=5]="Seconds",xt[xt.FractionalSeconds=6]="FractionalSeconds",xt[xt.Day=7]="Day",xt))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function Is(n,t,e,i){let r=function ft(n){if(rn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,c=1]=n.split("-").map(d=>+d);return jn(r,o-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match($n))return function $t(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,f=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,c,d,f,y),t}(i)}const t=new Date(n);if(!rn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Un(e,t)||t;let d,c=[];for(;t;){if(d=io.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const w=c.pop();if(!w)break;t=w}}let f=r.getTimezoneOffset();i&&(f=Z(i,f),r=function ie(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function _e(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Z(t,r)-r))}(r,i,!0));let y="";return c.forEach(w=>{const E=function H(n){if($[n])return $[n];let t;switch(n){case"G":case"GG":case"GGG":t=an(Rt.Eras,nt.Abbreviated);break;case"GGGG":t=an(Rt.Eras,nt.Wide);break;case"GGGGG":t=an(Rt.Eras,nt.Narrow);break;case"y":t=fn(xt.FullYear,1,0,!1,!0);break;case"yy":t=fn(xt.FullYear,2,0,!0,!0);break;case"yyy":t=fn(xt.FullYear,3,0,!1,!0);break;case"yyyy":t=fn(xt.FullYear,4,0,!1,!0);break;case"Y":t=Gt(1);break;case"YY":t=Gt(2,!0);break;case"YYY":t=Gt(3);break;case"YYYY":t=Gt(4);break;case"M":case"L":t=fn(xt.Month,1,1);break;case"MM":case"LL":t=fn(xt.Month,2,1);break;case"MMM":t=an(Rt.Months,nt.Abbreviated);break;case"MMMM":t=an(Rt.Months,nt.Wide);break;case"MMMMM":t=an(Rt.Months,nt.Narrow);break;case"LLL":t=an(Rt.Months,nt.Abbreviated,Ke.Standalone);break;case"LLLL":t=an(Rt.Months,nt.Wide,Ke.Standalone);break;case"LLLLL":t=an(Rt.Months,nt.Narrow,Ke.Standalone);break;case"w":t=Vt(1);break;case"ww":t=Vt(2);break;case"W":t=Vt(1,!0);break;case"d":t=fn(xt.Date,1);break;case"dd":t=fn(xt.Date,2);break;case"c":case"cc":t=fn(xt.Day,1);break;case"ccc":t=an(Rt.Days,nt.Abbreviated,Ke.Standalone);break;case"cccc":t=an(Rt.Days,nt.Wide,Ke.Standalone);break;case"ccccc":t=an(Rt.Days,nt.Narrow,Ke.Standalone);break;case"cccccc":t=an(Rt.Days,nt.Short,Ke.Standalone);break;case"E":case"EE":case"EEE":t=an(Rt.Days,nt.Abbreviated);break;case"EEEE":t=an(Rt.Days,nt.Wide);break;case"EEEEE":t=an(Rt.Days,nt.Narrow);break;case"EEEEEE":t=an(Rt.Days,nt.Short);break;case"a":case"aa":case"aaa":t=an(Rt.DayPeriods,nt.Abbreviated);break;case"aaaa":t=an(Rt.DayPeriods,nt.Wide);break;case"aaaaa":t=an(Rt.DayPeriods,nt.Narrow);break;case"b":case"bb":case"bbb":t=an(Rt.DayPeriods,nt.Abbreviated,Ke.Standalone,!0);break;case"bbbb":t=an(Rt.DayPeriods,nt.Wide,Ke.Standalone,!0);break;case"bbbbb":t=an(Rt.DayPeriods,nt.Narrow,Ke.Standalone,!0);break;case"B":case"BB":case"BBB":t=an(Rt.DayPeriods,nt.Abbreviated,Ke.Format,!0);break;case"BBBB":t=an(Rt.DayPeriods,nt.Wide,Ke.Format,!0);break;case"BBBBB":t=an(Rt.DayPeriods,nt.Narrow,Ke.Format,!0);break;case"h":t=fn(xt.Hours,1,-12);break;case"hh":t=fn(xt.Hours,2,-12);break;case"H":t=fn(xt.Hours,1);break;case"HH":t=fn(xt.Hours,2);break;case"m":t=fn(xt.Minutes,1);break;case"mm":t=fn(xt.Minutes,2);break;case"s":t=fn(xt.Seconds,1);break;case"ss":t=fn(xt.Seconds,2);break;case"S":t=fn(xt.FractionalSeconds,1);break;case"SS":t=fn(xt.FractionalSeconds,2);break;case"SSS":t=fn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=as(Ut.Short);break;case"ZZZZZ":t=as(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=as(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=as(Ut.Long);break;default:return null}return $[n]=t,t}(w);y+=E?E(r,e,f):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function jn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Un(n,t){const e=function he(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Gi[e]=Gi[e]||{},Gi[e][t])return Gi[e][t];let i="";switch(t){case"shortDate":i=gn(n,Ct.Short);break;case"mediumDate":i=gn(n,Ct.Medium);break;case"longDate":i=gn(n,Ct.Long);break;case"fullDate":i=gn(n,Ct.Full);break;case"shortTime":i=Mt(n,Ct.Short);break;case"mediumTime":i=Mt(n,Ct.Medium);break;case"longTime":i=Mt(n,Ct.Long);break;case"fullTime":i=Mt(n,Ct.Full);break;case"short":const r=Un(n,"shortTime"),o=Un(n,"shortDate");i=zr(un(n,Ct.Short),[r,o]);break;case"medium":const c=Un(n,"mediumTime"),d=Un(n,"mediumDate");i=zr(un(n,Ct.Medium),[c,d]);break;case"long":const f=Un(n,"longTime"),y=Un(n,"longDate");i=zr(un(n,Ct.Long),[f,y]);break;case"full":const w=Un(n,"fullTime"),E=Un(n,"fullDate");i=zr(un(n,Ct.Full),[w,E])}return i&&(Gi[e][t]=i),i}function zr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ni(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.slice(c.length-t)),o+c}function fn(n,t,e=0,i=!1,r=!1){return function(o,c){let d=function os(n,t){switch(n){case xt.FullYear:return t.getFullYear();case xt.Month:return t.getMonth();case xt.Date:return t.getDate();case xt.Hours:return t.getHours();case xt.Minutes:return t.getMinutes();case xt.Seconds:return t.getSeconds();case xt.FractionalSeconds:return t.getMilliseconds();case xt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||d>-e)&&(d+=e),n===xt.Hours)0===d&&-12===e&&(d=12);else if(n===xt.FractionalSeconds)return function pa(n,t){return Ni(n,3).substring(0,t)}(d,t);const f=ct(c,lt.MinusSign);return Ni(d,t,f,i,r)}}function an(n,t,e=Ke.Format,i=!1){return function(r,o){return function $i(n,t,e,i,r,o){switch(e){case Rt.Months:return function je(n,t,e){const i=(0,s.cg1)(n),o=In([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return In(o,e)}(t,r,i)[n.getMonth()];case Rt.Days:return function Oe(n,t,e){const i=(0,s.cg1)(n),o=In([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return In(o,e)}(t,r,i)[n.getDay()];case Rt.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(o){const y=function Dr(n){const t=(0,s.cg1)(n);return to(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?fr(i):[fr(i[0]),fr(i[1])])}(t),w=function tr(n,t,e){const i=(0,s.cg1)(n);to(i);const o=In([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return In(o,e)||[]}(t,r,i),E=y.findIndex(M=>{if(Array.isArray(M)){const[O,F]=M,z=c>=O.hours&&d>=O.minutes,W=c<F.hours||c===F.hours&&d<F.minutes;if(O.hours<F.hours){if(z&&W)return!0}else if(z||W)return!0}else if(M.hours===c&&M.minutes===d)return!0;return!1});if(-1!==E)return w[E]}return function we(n,t,e){const i=(0,s.cg1)(n),o=In([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return In(o,e)}(t,r,i)[c<12?0:1];case Rt.Eras:return function Qe(n,t){return In((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function as(n){return function(t,e,i){const r=-1*i,o=ct(e,lt.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ut.Short:return(r>=0?"+":"")+Ni(c,2,o)+Ni(Math.abs(r%60),2,o);case Ut.ShortGMT:return"GMT"+(r>=0?"+":"")+Ni(c,1,o);case Ut.Long:return"GMT"+(r>=0?"+":"")+Ni(c,2,o)+":"+Ni(Math.abs(r%60),2,o);case Ut.Extended:return 0===i?"Z":(r>=0?"+":"")+Ni(c,2,o)+":"+Ni(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ot(n){return jn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Vt(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+o)/7)}else{const o=Ot(e),c=function dt(n){const t=jn(n,0,1).getDay();return jn(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),d=o.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return Ni(r,n,ct(i,lt.MinusSign))}}function Gt(n,t=!1){return function(e,i){return Ni(Ot(e).getFullYear(),n,ct(i,lt.MinusSign),t)}}const $={};function Z(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function rn(n){return n instanceof Date&&!isNaN(n.valueOf())}const xr=/\s+/,ot=[];let gt=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=ot,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(xr):ot}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(xr):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(xr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ci{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ci(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,c),Kn(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Kn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,t){n.context.$implicit=t.item}let Dn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new jt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Tu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Tu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class jt{constructor(){this.$implicit=null,this.ngIf=null}}function Tu(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let Cn=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),c=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),xn=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();const jr=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Su=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let rr=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Is(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw function ls(n,t){return new s.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(jr,24),s.Y36(Su,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),cs=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"json",type:n,pure:!1,standalone:!0}),n})(),vn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function ic(n){return"server"===n}let ba=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new sc((0,s.LFG)(re),window)}),n})();class sc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ko(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wa(this.window.history)||wa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function wa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oo extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xa extends oo{static makeCurrent(){!function se(n){te||(te=n)}(new xa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hu(){return kr=kr||document.querySelector("base"),kr?kr.getAttribute("href"):null}();return null==e?null:function Aa(n){_c=_c||document.createElement("a"),_c.setAttribute("href",n);const t=_c.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let _c,kr=null;const Ma=new s.OlP("TRANSITION_ID"),zu=[{provide:s.ip1,useFactory:function Rr(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ma,re,s.zs3],multi:!0}];let Po=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const wl=new s.OlP("EventManagerPlugins");let yc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Cl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Gu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),An=(()=>{class n extends Gu{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Tl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Tl))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Tl(n){L().remove(n)}const Fo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ms=/%COMP%/g;function Lo(n,t){return t.flat(100).map(e=>e.replace(Ms,n))}function Vo(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let lo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ka(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ra(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case s.ifc.ShadowDom:return new Bo(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Lo(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yc),s.LFG(An),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ka{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Fo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Cc(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Cc(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Fo[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Fo[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vo(i)):this.eventManager.addEventListener(t,e,Vo(i))}}function Cc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ra extends ka{constructor(t,e,i,r){super(t),this.component=i;const o=Lo(r+"-"+i.id,i.styles);e.addStyles(o),this.contentAttr=function wc(n){return"_ngcontent-%COMP%".replace(Ms,n)}(r+"-"+i.id),this.hostAttr=function ao(n){return"_nghost-%COMP%".replace(Ms,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Bo extends ka{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Lo(r.id,r.styles);for(let c=0;c<o.length;c++){const d=document.createElement("style");d.textContent=o[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Tc=(()=>{class n extends Cl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=["alt","control","meta","shift"],qu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Uo=(()=>{class n extends Cl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Sl.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),c+=y+".")}),c+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=c,f}static matchEventFullKeyCode(e,i){let r=qu[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Sl.forEach(c=>{c!==r&&(0,gh[c])(e)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Kr=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function qr(){xa.makeCurrent()},multi:!0},{provide:re,useFactory:function Ku(){return(0,s.RDi)(document),document},deps:[]}]),qp=new s.OlP(""),Zu=[{provide:s.rWj,useClass:class fh{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(f){c=c||f,o--,0==o&&i(c)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Sc=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Wu(){return new s.qLn},deps:[]},{provide:wl,useClass:Tc,multi:!0,deps:[re,s.R0b,s.Lbi]},{provide:wl,useClass:Uo,multi:!0,deps:[re]},{provide:lo,useClass:lo,deps:[yc,An,s.AFp]},{provide:s.FYo,useExisting:lo},{provide:Gu,useExisting:An},{provide:An,useClass:An,deps:[re]},{provide:yc,useClass:yc,deps:[wl,s.R0b]},{provide:class sh{},useClass:Po,deps:[]},[]];let Qu=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ma,useExisting:s.AFp},zu]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qp,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Sc,...Zu],imports:[vn,s.hGG]}),n})(),Na=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Dl(){return new Na((0,s.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var Zn=V(7579);class He{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,c,d,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((c=t.length)!=e.length)return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var f=t instanceof Date,y=e instanceof Date;if(f!=y)return!1;if(f&&y)return t.getTime()==e.getTime();var w=t instanceof RegExp,E=e instanceof RegExp;if(w!=E)return!1;if(w&&E)return t.toString()==e.toString();var M=Object.keys(t);if((c=M.length)!==Object.keys(e).length)return!1;for(o=c;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[d=M[o]],e[d]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,c=i.length;o<c;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let c=0;c<i.length;c++)if(this.findIndexInList(i[c],r)>e){i.splice(c,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let o=-1;const c=this.isEmpty(t),d=this.isEmpty(e);return o=c&&d?0:c?r:d?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,o}static sort(t,e,i=1,r,o=1){return(1===o?i:o)*He.compare(t,e,r,i)}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}}var Fa=0;function Oc(){return"pr_id_"+ ++Fa}var Xn=function Xp(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,c,d)=>{c&&(c.style.zIndex=String(((o,c)=>{let d=n.length>0?n[n.length-1]:{key:o,value:c},f=d.value+(d.key===o?0:c)+1;return n.push({key:o,value:f}),f})(o,d)))},clear:o=>{o&&((o=>{n=n.filter(c=>c.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Nc=["*"];let ei=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),La=(()=>{class n{}return n.AND="and",n.OR="or",n})(),Al=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=He.removeAccents(i.toString()).toLocaleLowerCase(r);return He.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=He.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==He.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=He.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===He.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=He.removeAccents(i.toString()).toLocaleLowerCase(r),c=He.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==c.indexOf(o,c.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():He.removeAccents(e.toString()).toLocaleLowerCase(r)==He.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():He.removeAccents(e.toString()).toLocaleLowerCase(r)==He.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(He.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,c){let d=[];if(e)for(let f of e)for(let y of i){let w=He.resolveFieldData(f,y);if(this.filters[o](w,r,c)){d.push(f);break}}return d}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I=(()=>{class n{constructor(){this.clickSource=new Zn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k=(()=>{class n{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[ei.STARTS_WITH,ei.CONTAINS,ei.NOT_CONTAINS,ei.ENDS_WITH,ei.EQUALS,ei.NOT_EQUALS],numeric:[ei.EQUALS,ei.NOT_EQUALS,ei.LESS_THAN,ei.LESS_THAN_OR_EQUAL_TO,ei.GREATER_THAN,ei.GREATER_THAN_OR_EQUAL_TO],date:[ei.DATE_IS,ei.DATE_IS_NOT,ei.DATE_BEFORE,ei.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Zn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Nc,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Nc,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),ee=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),ve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})(),et=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();var We=V(8996),Nt=V(3269);function ke(...n){const t=(0,Nt.yG)(n);return(0,We.D)(n,t)}class Hn extends Zn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const uo=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var cr=V(9751);const{isArray:Va}=Array,{getPrototypeOf:Zr,prototype:Rs,keys:zo}=Object;function tf(n){if(1===n.length){const t=n[0];if(Va(t))return{args:t,keys:null};if(function uv(n){return n&&"object"==typeof n&&Zr(n)===Rs}(t)){const e=zo(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ml=V(4671),bt=V(4004);const{isArray:um}=Array;function nf(n){return(0,bt.U)(t=>function v0(n,t){return um(t)?n(...t):n(t)}(n,t))}function dm(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var kn=V(5403),b0=V(9672);function dv(...n){const t=(0,Nt.yG)(n),e=(0,Nt.jO)(n),{args:i,keys:r}=tf(n);if(0===i.length)return(0,We.D)([],t);const o=new cr.y(function rf(n,t,e=Ml.y){return i=>{hv(t,()=>{const{length:r}=n,o=new Array(r);let c=r,d=r;for(let f=0;f<r;f++)hv(t,()=>{const y=(0,We.D)(n[f],t);let w=!1;y.subscribe((0,kn.x)(i,E=>{o[f]=E,w||(w=!0,d--),d||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>dm(r,c):Ml.y));return e?o.pipe(nf(e)):o}function hv(n,t,e){n?(0,b0.f)(e,n,t):t()}var vh=V(8189);function hm(...n){return function w0(){return(0,vh.J)(1)}()((0,We.D)(n,(0,Nt.yG)(n)))}var id=V(8421);function bh(n){return new cr.y(t=>{(0,id.Xf)(n()).subscribe(t)})}var pm=V(9635),rd=V(576);function Pc(n,t){const e=(0,rd.m)(n)?n:()=>n,i=r=>r.error(e());return new cr.y(t?r=>t.schedule(i,0,r):i)}var Go=V(515),sf=V(727),bn=V(4482);function af(){return(0,bn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,kn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class fm extends cr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new sf.w0;const e=this.getSubject();t.add(this.source.subscribe((0,kn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=sf.w0.EMPTY)}return t}refCount(){return af()(this)}}function di(n,t){return(0,bn.e)((e,i)=>{let r=null,o=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,kn.x)(i,f=>{r?.unsubscribe();let y=0;const w=o++;(0,id.Xf)(n(f,w)).subscribe(r=(0,kn.x)(i,E=>i.next(t?t(f,E,w,y++):E),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function Fc(n){return n<=0?()=>Go.E:(0,bn.e)((t,e)=>{let i=0;t.subscribe((0,kn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ba(...n){const t=(0,Nt.yG)(n);return(0,bn.e)((e,i)=>{(t?hm(n,e,t):hm(n,e)).subscribe(i)})}function ps(n,t){return(0,bn.e)((e,i)=>{let r=0;e.subscribe((0,kn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Zi=V(5577);function wh(n){return(0,bn.e)((t,e)=>{let i=!1;t.subscribe((0,kn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ch(n=pv){return(0,bn.e)((t,e)=>{let i=!1;t.subscribe((0,kn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function pv(){return new uo}function Os(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ps((r,o)=>n(r,o,i)):Ml.y,Fc(1),e?wh(t):Ch(()=>new uo))}function Ti(n,t){return(0,rd.m)(t)?(0,Zi.z)(n,t,1):(0,Zi.z)(n,1)}var Mi=V(8505);function ho(n){return(0,bn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,kn.x)(e,void 0,void 0,c=>{o=(0,id.Xf)(n(c,ho(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function lf(n,t,e,i,r){return(o,c)=>{let d=e,f=t,y=0;o.subscribe((0,kn.x)(c,w=>{const E=y++;f=d?n(f,w,E):(d=!0,w),i&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}function oi(n,t){return(0,bn.e)(lf(n,t,arguments.length>=2,!0))}function kl(n){return n<=0?()=>Go.E:(0,bn.e)((t,e)=>{let i=[];t.subscribe((0,kn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function cf(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ps((r,o)=>n(r,o,i)):Ml.y,kl(1),e?wh(t):Ch(()=>new uo))}function Th(n){return(0,bn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Wt="primary",fs=Symbol("RouteTitle");class fv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Rl(n){return new fv(n)}function uf(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],d=n[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Or(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Eh(n[r],t[r]))return!1;return!0}function Eh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function _m(n){return Array.prototype.concat.apply([],n)}function Ua(n){return n.length>0?n[n.length-1]:null}function Qi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function gs(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,We.D)(Promise.resolve(n)):ke(n)}const Lc=!1,ym={exact:function df(n,t,e){if(!jo(n.segments,t.segments)||!Vc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!df(n.children[i],t.children[i],e))return!1;return!0},subset:bm},Ol={exact:function vm(n,t){return Or(n,t)},subset:function sd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Eh(n[e],t[e]))},ignored:()=>!0};function Sh(n,t,e){return ym[e.paths](n.root,t.root,e.matrixParams)&&Ol[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bm(n,t,e){return wm(n,t,t.segments,e)}function wm(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!jo(r,e)||t.hasChildren()||!Vc(r,e,i))}if(n.segments.length===e.length){if(!jo(n.segments,e)||!Vc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bm(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(jo(n.segments,r)&&Vc(n.segments,r,i)&&n.children[Wt])&&wm(n.children[Wt],t,o,i)}}function Vc(n,t,e){return t.every((i,r)=>Ol[e](n[r].parameters,i.parameters))}class $o{constructor(t=new en([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rl(this.queryParams)),this._queryParamMap}toString(){return mv.serialize(this)}}class en{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ld(this)}}class od{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Rl(this.parameters)),this._parameterMap}toString(){return Em(this)}}function jo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Nl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Ih},providedIn:"root"}),n})();class Ih{parse(t){const e=new br(t);return new $o(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Bc(t.root,!0)}`,i=function pf(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${qo(e)}=${qo(r)}`).join("&"):`${qo(e)}=${qo(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Tm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const mv=new Ih;function ld(n){return n.segments.map(t=>Em(t)).join("/")}function Bc(n,t){if(!n.hasChildren())return ld(n);if(t){const e=n.children[Wt]?Bc(n.children[Wt],!1):"",i=[];return Qi(n.children,(r,o)=>{o!==Wt&&i.push(`${o}:${Bc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Cm(n,t){let e=[];return Qi(n.children,(i,r)=>{r===Wt&&(e=e.concat(t(i,r)))}),Qi(n.children,(i,r)=>{r!==Wt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Wt?[Bc(n.children[Wt],!1)]:[`${r}:${Bc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${ld(n)}/${e[0]}`:`${ld(n)}/(${e.join("//")})`}}function Ha(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qo(n){return Ha(n).replace(/%3B/gi,";")}function Dh(n){return Ha(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hf(n){return decodeURIComponent(n)}function cd(n){return hf(n.replace(/\+/g,"%20"))}function Em(n){return`${Dh(n.path)}${function Sm(n){return Object.keys(n).map(t=>`;${Dh(t)}=${Dh(n[t])}`).join("")}(n.parameters)}`}const xh=/^[^\/()?;=#]+/;function za(n){const t=n.match(xh);return t?t[0]:""}const ff=/^[^=?&#]+/,Uc=/^[^&#]+/;class br{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Wt]=new en(t,e)),i}parseSegment(){const t=za(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,Lc);return this.capture(t),new od(hf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=za(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=za(this.remaining);r&&(i=r,this.capture(i))}t[hf(e)]=hf(i)}parseQueryParam(t){const e=function Ah(n){const t=n.match(ff);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Im(n){const t=n.match(Uc);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=cd(e),o=cd(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=za(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,Lc);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Wt);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Wt]:new en([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,Lc)}}function Wo(n){return n.segments.length>0?new en([],{[Wt]:n}):n}function Pl(n){const t={};for(const i of Object.keys(n.children)){const o=Pl(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function ud(n){if(1===n.numberOfChildren&&n.children[Wt]){const t=n.children[Wt];return new en(n.segments.concat(t.segments),t.children)}return n}(new en(n.segments,t))}function Ko(n){return n instanceof $o}function Zo(n,t,e,i,r){if(0===e.length)return $a(t.root,t.root,t.root,i,r);const o=function wr(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gf(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Qi(o.outlets,(f,y)=>{d[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new gf(e,t,i)}(e);return o.toRoot()?$a(t.root,t.root,new en([],{}),i,r):function c(f){const y=function _f(n,t,e,i){if(n.isAbsolute)return new Ll(t.root,!0,0);if(-1===i)return new Ll(e,e===t.root,0);return function po(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Ll(i,!1,r-o)}(e,i+(Fl(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,f),w=y.processChildren?Qo(y.segmentGroup,y.index,o.commands):Vl(y.segmentGroup,y.index,o.commands);return $a(t.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Fl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ga(n){return"object"==typeof n&&null!=n&&n.outlets}function $a(n,t,e,i,r){let c,o={};i&&Qi(i,(f,y)=>{o[y]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),c=n===t?e:ja(n,t,e);const d=Wo(Pl(c));return new $o(d,o,r)}function ja(n,t,e){const i={};return Qi(n.children,(r,o)=>{i[o]=r===t?e:ja(r,t,e)}),new en(n.segments,i)}class gf{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Fl(i[0]))throw new s.vHH(4003,!1);const r=i.find(Ga);if(r&&r!==Ua(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ll{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Vl(n,t,e){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return Qo(n,t,e);const i=function xm(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],d=e[i];if(Ga(d))break;const f=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!Mm(f,y,c))return o;i+=2}else{if(!Mm(f,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new en(n.segments.slice(0,i.pathIndex),{});return o.children[Wt]=new en(n.segments.slice(i.pathIndex),n.children),Qo(o,0,r)}return i.match&&0===r.length?new en(n.segments,{}):i.match&&!n.hasChildren()?Gc(n,t,e):i.match?Qo(n,0,r):Gc(n,t,e)}function Qo(n,t,e){if(0===e.length)return new en(n.segments,{});{const i=function zc(n){return Ga(n[0])?n[0].outlets:{[Wt]:n}}(e),r={};return!i[Wt]&&n.children[Wt]&&1===n.numberOfChildren&&0===n.children[Wt].segments.length?Qo(n.children[Wt],t,e):(Qi(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Vl(n.children[c],t,o))}),Qi(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new en(n.segments,r))}}function Gc(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Ga(o)){const f=Am(o.outlets);return new en(i,f)}if(0===r&&Fl(e[0])){i.push(new od(n.segments[t].path,yf(e[0]))),r++;continue}const c=Ga(o)?o.outlets[Wt]:`${o}`,d=r<e.length-1?e[r+1]:null;c&&d&&Fl(d)?(i.push(new od(c,yf(d))),r+=2):(i.push(new od(c,{})),r++)}return new en(i,{})}function Am(n){const t={};return Qi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Gc(new en([],{}),0,e))}),t}function yf(n){const t={};return Qi(n,(e,i)=>t[i]=`${e}`),t}function Mm(n,t,e){return n==e.path&&Or(t,e.parameters)}const dd="imperative";class v{constructor(t,e){this.id=t,this.url=e}}class g extends v{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _ extends v{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class C extends v{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class A extends v{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class N extends v{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q extends v{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pe extends v{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends v{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ht extends v{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends v{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ki{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ns{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mh{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class km{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hd{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let bf=(()=>{class n{createUrlTree(e,i,r,o,c,d){return Zo(e||i.root,r,o,c,d)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return bf.\u0275fac(t)},providedIn:"root"}),n})();class Nm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pm(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Pm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Bl(t,this._root).map(e=>e.value)}}function Pm(n,t){if(n===t.value)return t;for(const e of t.children){const i=Pm(n,e);if(i)return i}return null}function Bl(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Bl(n,e);if(i.length)return i.unshift(t),i}return[]}class Fs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class cx extends Nm{constructor(t,e){super(t),this.snapshot=e,vv(this,t)}toString(){return this.snapshot.toString()}}function yv(n,t){const e=function ux(n,t){const c=new Cf([],{},{},"",{},Wt,t,null,n.root,-1,{});return new Tf("",new Fs(c,[]))}(n,t),i=new Hn([new od("",{})]),r=new Hn({}),o=new Hn({}),c=new Hn({}),d=new Hn(""),f=new kh(i,r,c,d,o,Wt,t,e.root);return f.snapshot=e.root,new cx(new Fs(f,[]),e)}class kh{constructor(t,e,i,r,o,c,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,bt.U)(y=>y[fs]))??ke(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(t=>Rl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(t=>Rl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function dx(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Cf{get title(){return this.data?.[fs]}constructor(t,e,i,r,o,c,d,f,y,w,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=w,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tf extends Nm{constructor(t,e){super(e),this.url=t,vv(this,e)}toString(){return Fm(this._root)}}function vv(n,t){t.value._routerState=n,t.children.forEach(e=>vv(n,e))}function Fm(n){const t=n.children.length>0?` { ${n.children.map(Fm).join(", ")} } `:"";return`${n.value}${t}`}function bv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Or(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Or(t.params,e.params)||n.params.next(e.params),function gv(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Or(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Or(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ei(n,t){const e=Or(n.params,t.params)&&function ad(n,t){return jo(n,t)&&n.every((e,i)=>Or(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ei(n.parent,t.parent))}function Ef(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function wv(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ef(n,i,r);return Ef(n,i)})}(n,t,e);return new Fs(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Ef(n,d)),c}}const i=function I0(n){return new kh(new Hn(n.url),new Hn(n.params),new Hn(n.queryParams),new Hn(n.fragment),new Hn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ef(n,o));return new Fs(i,r)}}const Cv="ngNavigationCancelingError";function D0(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ko(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=x0(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function x0(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Cv]=!0,i.cancellationCode=t,e&&(i.url=e),i}function A0(n){return Tv(n)&&Ko(n.url)}function Tv(n){return n&&n[Cv]}class YN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lm,this.attachRef=null}}let Lm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new YN,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jc=!1;let Sf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(Lm),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,jc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,jc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,jc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,jc);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new M0(e,d,r.injector);if(i&&function k0(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,f)}else this.activated=r.createComponent(c,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class M0{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===kh?this.route:t===Lm?this.childContexts:this.parent.get(t,e)}}let Vm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Sf],encapsulation:2}),n})();function hx(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Bm(n){const t=n.children&&n.children.map(Bm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Wt&&(e.component=Vm),e}function Ls(n){return n.outlet||Wt}function qc(n,t){const e=n.filter(i=>Ls(i)===t);return e.push(...n.filter(i=>Ls(i)!==t)),e}function If(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Um{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),bv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=wf(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Qi(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=wf(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=wf(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=wf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new hd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Mh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(bv(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),bv(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=If(r.snapshot),f=d?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=f,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class N0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rh{constructor(t,e){this.component=t,this.route=e}}function Hm(n,t,e){const i=n._root;return gd(i,t?t._root:null,e,[i.value])}function fd(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function gd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=wf(t);return n.children.forEach(c=>{(function mx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function _x(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!jo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!jo(n.url,t.url)||!Or(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ei(n,t)||!Or(n.queryParams,t.queryParams);default:return!Ei(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new N0(i)):(o.data=c.data,o._resolvedData=c._resolvedData),gd(n,t,o.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Rh(d.outlet.component,c))}else c&&Oh(t,d,r),r.canActivateChecks.push(new N0(i)),gd(n,null,o.component?d?d.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Qi(o,(c,d)=>Oh(c,e.getContext(d),r)),r}function Oh(n,t,e){const i=wf(n),r=n.value;Qi(i,(o,c)=>{Oh(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Rh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function qa(n){return"function"==typeof n}function L0(n){return n instanceof uo||"EmptyError"===n?.name}const zm=Symbol("INITIAL_VALUE");function Wa(){return di(n=>dv(n.map(t=>t.pipe(Fc(1),Ba(zm)))).pipe((0,bt.U)(t=>{for(const e of t)if(!0!==e){if(e===zm)return zm;if(!1===e||e instanceof $o)return e}return!0}),ps(t=>t!==zm),Fc(1)))}function xv(n){return(0,pm.z)((0,Mi.b)(t=>{if(Ko(t))throw D0(0,t)}),(0,bt.U)(t=>!0===t))}const xf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U0(n,t,e,i,r){const o=Af(n,t,e);return o.matched?function Av(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?ke(r.map(c=>{const d=fd(c,n);return gs(function P0(n){return n&&qa(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Wa(),xv()):ke(!0)}(i=hx(t,i),t,e).pipe((0,bt.U)(c=>!0===c?o:{...xf})):ke(o)}function Af(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...xf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||uf)(e,n,t);if(!r)return{...xf};const o={};Qi(r.posParams,(d,f)=>{o[f]=d.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Wc(n,t,e,i){if(e.length>0&&function Ax(n,t,e){return e.some(i=>Gm(n,t,i)&&Ls(i)!==Wt)}(n,e,i)){const o=new en(t,function xx(n,t,e,i){const r={};r[Wt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ls(o)!==Wt){const c=new en([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Ls(o)]=c}return r}(n,t,i,new en(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Mx(n,t,e){return e.some(i=>Gm(n,t,i))}(n,e,i)){const o=new en(n.segments,function Dx(n,t,e,i,r){const o={};for(const c of i)if(Gm(n,e,c)&&!r[Ls(c)]){const d=new en([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,o[Ls(c)]=d}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new en(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Gm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function H0(n,t,e,i){return!!(Ls(n)===i||i!==Wt&&Gm(t,e,n))&&("**"===n.path||Af(t,n,e).matched)}function z0(n,t,e){return 0===t.length&&!n.children[e]}const Ul=!1;class fo{constructor(t){this.segmentGroup=t||null}}class G0{constructor(t){this.urlTree=t}}function Mf(n){return Pc(new fo(n))}function kx(n){return Pc(new G0(n))}class j0{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Wc(this.urlTree.root,[],[],this.config).segmentGroup,e=new en(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Wt).pipe((0,bt.U)(o=>this.createUrlTree(Pl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ho(o=>{if(o instanceof G0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof fo?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Wt).pipe((0,bt.U)(r=>this.createUrlTree(Pl(r),t.queryParams,t.fragment))).pipe(ho(r=>{throw r instanceof fo?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Ul)}createUrlTree(t,e,i){const r=Wo(t);return new $o(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,bt.U)(o=>new en([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,We.D)(r).pipe(Ti(o=>{const c=i.children[o],d=qc(e,o);return this.expandSegmentGroup(t,d,c,o).pipe((0,bt.U)(f=>({segment:f,outlet:o})))}),oi((o,c)=>(o[c.outlet]=c.segment,o),{}),cf())}expandSegment(t,e,i,r,o,c){return(0,We.D)(i).pipe(Ti(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,c).pipe(ho(y=>{if(y instanceof fo)return ke(null);throw y}))),Os(d=>!!d),ho((d,f)=>{if(L0(d))return z0(e,r,o)?ke(new en([],{})):Mf(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,c,d){return H0(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Mf(e):Mf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?kx(o):this.lineralizeSegments(i,o).pipe((0,Zi.z)(c=>{const d=new en(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:d,consumedSegments:f,remainingSegments:y,positionalParamSegments:w}=Af(e,r,o);if(!d)return Mf(e);const E=this.applyRedirectCommands(f,r.redirectTo,w);return r.redirectTo.startsWith("/")?kx(E):this.lineralizeSegments(r,E).pipe((0,Zi.z)(M=>this.expandSegment(t,e,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=hx(i,t),i.loadChildren?(i._loadedRoutes?ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,bt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new en(r,{})))):ke(new en(r,{}))):U0(e,i,r,t).pipe(di(({matched:c,consumedSegments:d,remainingSegments:f})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Zi.z)(w=>{const E=w.injector??t,M=w.routes,{segmentGroup:O,slicedSegments:F}=Wc(e,d,f,M),z=new en(O.segments,O.children);if(0===F.length&&z.hasChildren())return this.expandChildren(E,M,z).pipe((0,bt.U)(Pe=>new en(d,Pe)));if(0===M.length&&0===F.length)return ke(new en(d,{}));const W=Ls(i)===o;return this.expandSegment(E,z,M,F,W?Wt:o,!0).pipe((0,bt.U)(Le=>new en(d.concat(Le.segments),Le.children)))})):Mf(e)))}getChildConfig(t,e,i){return e.children?ke({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ke({routes:e._loadedRoutes,injector:e._loadedInjector}):function B0(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?ke(!0):ke(r.map(c=>{const d=fd(c,n);return gs(function vx(n){return n&&qa(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Wa(),xv())}(t,e,i).pipe((0,Zi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Mi.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function $0(n){return Pc(x0(Ul,3))}())):ke({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ke(i);if(r.numberOfChildren>1||!r.children[Wt])return Pc(new s.vHH(4e3,Ul));r=r.children[Wt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new $o(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qi(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Qi(e.children,(d,f)=>{c[f]=this.createSegmentGroup(t,d,i,r)}),new en(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Ul);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class K0{}class Yo{constructor(t,e,i,r,o,c,d){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=d}recognize(){const t=Wc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Wt).pipe((0,bt.U)(e=>{if(null===e)return null;const i=new Cf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fs(i,e),o=new Tf(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=E0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,We.D)(Object.keys(i.children)).pipe(Ti(r=>{const o=i.children[r],c=qc(e,r);return this.processSegmentGroup(t,c,o,r)}),oi((r,o)=>r&&o?(r.push(...o),r):null),function gm(n,t=!1){return(0,bn.e)((e,i)=>{let r=0;e.subscribe((0,kn.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),wh(null),cf(),(0,bt.U)(r=>{if(null===r)return null;const o=Q0(r);return function Nx(n){n.sort((t,e)=>t.value.outlet===Wt?-1:e.value.outlet===Wt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,We.D)(e).pipe(Ti(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),Os(c=>!!c),ho(c=>{if(L0(c))return z0(i,r,o)?ke([]):ke(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!H0(e,i,r,o))return ke(null);let c;if("**"===e.path){const d=r.length>0?Ua(r).parameters:{},f=Mv(i)+r.length;c=ke({snapshot:new Cf(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,J0(e),Ls(e),e.component??e._loadedComponent??null,e,Y0(i),f,X0(e)),consumedSegments:[],remainingSegments:[]})}else c=U0(i,e,r,t).pipe((0,bt.U)(({matched:d,consumedSegments:f,remainingSegments:y,parameters:w})=>{if(!d)return null;const E=Mv(i)+f.length;return{snapshot:new Cf(f,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,J0(e),Ls(e),e.component??e._loadedComponent??null,e,Y0(i),E,X0(e)),consumedSegments:f,remainingSegments:y}}));return c.pipe(di(d=>{if(null===d)return ke(null);const{snapshot:f,consumedSegments:y,remainingSegments:w}=d;t=e._injector??t;const E=e._loadedInjector??t,M=function Z0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:O,slicedSegments:F}=Wc(i,y,w,M.filter(W=>void 0===W.redirectTo));if(0===F.length&&O.hasChildren())return this.processChildren(E,M,O).pipe((0,bt.U)(W=>null===W?null:[new Fs(f,W)]));if(0===M.length&&0===F.length)return ke([new Fs(f,[])]);const z=Ls(e)===o;return this.processSegment(E,M,O,F,z?Wt:o).pipe((0,bt.U)(W=>null===W?null:[new Fs(f,W)]))}))}}function Px(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Q0(n){const t=[],e=new Set;for(const i of n){if(!Px(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Q0(i.children);t.push(new Fs(i.value,r))}return t.filter(i=>!e.has(i))}function Y0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Mv(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function J0(n){return n.data||{}}function X0(n){return n.resolve||{}}function kv(n){return"string"==typeof n.title||null===n.title}function Rv(n){return di(t=>{const e=n(t);return e?(0,We.D)(e).pipe((0,bt.U)(()=>t)):ke(t)})}const Ph=new s.OlP("ROUTES");let sT=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=gs(e.loadComponent()).pipe((0,bt.U)(Ov),(0,Mi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Th(()=>{this.componentLoaders.delete(e)})),r=new fm(i,()=>new Zn.x).pipe(af());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,bt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,y,w=!1;Array.isArray(d)?y=d:(f=d.create(e).injector,y=_m(f.get(Ph,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(Bm),injector:f}}),Th(()=>{this.childrenLoaders.delete(i)})),c=new fm(o,()=>new Zn.x).pipe(af());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return gs(e()).pipe((0,bt.U)(Ov),(0,Zi.z)(r=>r instanceof s.YKP||Array.isArray(r)?ke(r):(0,We.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ov(n){return function oT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $m=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Zn.x,this.configLoader=(0,s.f3M)(sT),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(Nl),this.rootContexts=(0,s.f3M)(Lm),this.navigationId=0,this.afterPreactivation=()=>ke(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ki(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new It(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Hn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dd,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ps(i=>0!==i.id),(0,bt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),di(i=>{let r=!1,o=!1;return ke(i).pipe((0,Mi.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(c=>{const d=e.browserUrlTree.toString(),f=!e.navigated||c.extractedUrl.toString()!==d||d!==e.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new A(c.id,e.serializeUrl(i.rawUrl),w,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),Go.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return jm(c.source)&&(e.browserUrlTree=c.extractedUrl),ke(c).pipe(di(w=>{const E=this.transitions?.getValue();return this.events.next(new g(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?Go.E:Promise.resolve(w)}),function q0(n,t,e,i){return di(r=>function tP(n,t,e,i,r){return new j0(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,bt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Mi.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},i.urlAfterRedirects=w.urlAfterRedirects}),function Kt(n,t,e,i,r){return(0,Zi.z)(o=>function Ox(n,t,e,i,r,o,c="emptyOnly"){return new Yo(n,t,e,i,r,c,o).recognize().pipe(di(d=>null===d?function Rx(n){return new cr.y(t=>t.error(n))}(new K0):ke(d)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,bt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Mi.b)(w=>{if(i.targetSnapshot=w.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!w.extras.skipLocationChange){const M=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);e.setBrowserUrl(M,w)}e.browserUrlTree=w.urlAfterRedirects}const E=new Q(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(f&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:w,extractedUrl:E,source:M,restoredState:O,extras:F}=c,z=new g(w,this.urlSerializer.serialize(E),M,O);this.events.next(z);const W=yv(E,this.rootComponentType).snapshot;return ke(i={...c,targetSnapshot:W,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new A(c.id,e.serializeUrl(i.extractedUrl),w,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),Go.E}}),(0,Mi.b)(c=>{const d=new pe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,bt.U)(c=>i={...c,guards:Hm(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Cx(n,t){return(0,Zi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?ke({...e,guardsResult:!0}):function Nh(n,t,e,i){return(0,We.D)(n).pipe((0,Zi.z)(r=>function Ix(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ke(o.map(d=>{const f=If(t)??r,y=fd(d,f);return gs(function wx(n){return n&&qa(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):f.runInContext(()=>y(n,t,e,i))).pipe(Os())})).pipe(Wa()):ke(!0)}(r.component,r.route,e,t,i)),Os(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Zi.z)(d=>d&&function yx(n){return"boolean"==typeof n}(d)?function Df(n,t,e,i){return(0,We.D)(t).pipe(Ti(r=>hm(function V0(n,t){return null!==n&&t&&t(new Ns(n)),ke(!0)}(r.route.parent,i),function Tx(n,t){return null!==n&&t&&t(new km(n)),ke(!0)}(r.route,i),function Sx(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function pd(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>bh(()=>ke(c.guards.map(f=>{const y=If(c.node)??e,w=fd(f,y);return gs(function Dv(n){return n&&qa(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(Os())})).pipe(Wa())));return ke(o).pipe(Wa())}(n,r.path,e),function Ex(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ke(!0);const r=i.map(o=>bh(()=>{const c=If(t)??e,d=fd(o,c);return gs(function bx(n){return n&&qa(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(Os())}));return ke(r).pipe(Wa())}(n,r.route,e))),Os(r=>!0!==r,!0))}(i,o,n,t):ke(d)),(0,bt.U)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Mi.b)(c=>{if(i.guardsResult=c.guardsResult,Ko(c.guardsResult))throw D0(0,c.guardsResult);const d=new Je(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),ps(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Rv(c=>{if(c.guards.canActivateChecks.length)return ke(c).pipe((0,Mi.b)(d=>{const f=new ht(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),di(d=>{let f=!1;return ke(d).pipe(function eT(n,t){return(0,Zi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ke(e);let o=0;return(0,We.D)(r).pipe(Ti(c=>function tT(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!kv(r)&&(o[fs]=r.title),function nT(n,t,e,i){const r=function Lx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ke({});const o={};return(0,We.D)(r).pipe((0,Zi.z)(c=>function Vx(n,t,e,i){const r=If(t)??i,o=fd(n,r);return gs(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[c],t,e,i).pipe(Os(),(0,Mi.b)(d=>{o[c]=d}))),kl(1),function mm(n){return(0,bt.U)(()=>n)}(o),ho(c=>L0(c)?Go.E:Pc(c)))}(o,n,t,i).pipe((0,bt.U)(c=>(n._resolvedData=c,n.data=E0(n,e).resolve,r&&kv(r)&&(n.data[fs]=r.title),null)))}(c.route,i,n,t)),(0,Mi.b)(()=>o++),kl(1),(0,Zi.z)(c=>o===r.length?ke(e):Go.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Mi.b)({next:()=>f=!0,complete:()=>{f||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,Mi.b)(d=>{const f=new Pt(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Rv(c=>{const d=f=>{const y=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(f.routeConfig).pipe((0,Mi.b)(w=>{f.component=w}),(0,bt.U)(()=>{})));for(const w of f.children)y.push(...d(w));return y};return dv(d(c.targetSnapshot.root)).pipe(wh(),Fc(1))}),Rv(()=>this.afterPreactivation()),(0,bt.U)(c=>{const d=function S0(n,t,e){const i=Ef(n,t._root,e?e._root:void 0);return new cx(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:d}}),(0,Mi.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,bt.U)(i=>(new Um(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c)),(0,Mi.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new _(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Th(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ho(c=>{if(o=!0,Tv(c)){A0(c)||(e.navigated=!0,e.restoreHistory(i,!0));const d=new C(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),A0(c)){const f=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||jm(i.source)};e.scheduleNavigation(f,dd,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const d=new N(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(e.errorHandler(c))}catch(f){i.reject(f)}}return Go.E}))}))}cancelNavigationTransition(e,i,r){const o=new C(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jm(n){return n!==dd}let qm=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Wt);return i}getResolvedTitleForRoute(e){return e.data[fs]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Bx)},providedIn:"root"}),n})(),Bx=(()=>{class n extends qm{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Na))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(sP)},providedIn:"root"}),n})();class rP{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let sP=(()=>{class n extends rP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kf=new s.OlP("",{providedIn:"root",factory:()=>({})});let oP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Hx)},providedIn:"root"}),n})(),Hx=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zx(n){throw n}function aT(n,t,e){return t.parse("/")}const Wm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ms=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(kf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||zx,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(oP),this.routeReuseStrategy=(0,s.f3M)(iP),this.urlCreationStrategy=(0,s.f3M)(Om),this.titleStrategy=(0,s.f3M)(qm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_m((0,s.f3M)(Ph,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)($m),this.urlSerializer=(0,s.f3M)(Nl),this.location=(0,s.f3M)($e),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $o,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const d=this.parseUrl(e);this.scheduleNavigation(d,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Bm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:f}=i,y=f?this.currentUrlTree.fragment:c;let w=null;switch(d){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,w,y??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ko(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,dd,null,i)}navigate(e,i={skipLocationChange:!1}){return function $x(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Wm}:!1===i?{...Gx}:i,Ko(e))return Sh(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Sh(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let d,f,y,w;return c?(d=c.resolve,f=c.reject,y=c.promise):y=new Promise((E,M)=>{d=E,f=M}),w="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:f,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(E=>Promise.reject(E))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rf=(()=>{class n{constructor(e,i,r,o,c,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Zn.x;const f=c.nativeElement.tagName;this.isAnchorElement="A"===f||"AREA"===f,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof _&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ms),s.Y36(kh),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(_t))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),lT=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,c){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof _&&this.update()})}ngAfterContentInit(){ke(this.links.changes,ke(null)).pipe((0,vh.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,We.D)(e).pipe((0,vh.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function jx(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ms),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Rf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Rf,5),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class cT{}let uT=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ps(e=>e instanceof _),Ti(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,d=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,We.D)(r).pipe((0,vh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ke(null);const o=r.pipe((0,Zi.z)(c=>null===c?ke(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,We.D)([o,c]).pipe((0,vh.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ms),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(cT),s.LFG(sT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Km=new s.OlP("");let Zm=(()=>{class n{constructor(e,i,r,o,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof g?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ps&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ps(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Fh(n,t){return{\u0275kind:n,\u0275providers:t}}function fT(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(ms),r=n.get(gT);1===n.get(Lh)&&i.initialNavigation(),n.get(Qm,null,s.XFs.Optional)?.setUpPreloading(),n.get(Km,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const gT=new s.OlP("",{factory:()=>new Zn.x}),Lh=new s.OlP("",{providedIn:"root",factory:()=>1});const Qm=new s.OlP("");function Ym(n){return Fh(0,[{provide:Qm,useExisting:uT},{provide:cT,useExisting:n}])}const Pv=new s.OlP("ROUTER_FORROOT_GUARD"),Fv=[$e,{provide:Nl,useClass:Ih},ms,Lm,{provide:kh,useFactory:function hT(n){return n.routerState.root},deps:[ms]},sT,[]];function Zx(){return new s.PXZ("Router",ms)}let Pf=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Fv,[],{provide:Ph,multi:!0,useValue:e},{provide:Pv,useFactory:bT,deps:[[ms,new s.FiY,new s.tp0]]},{provide:kf,useValue:i||{}},i?.useHash?{provide:_t,useClass:Ae}:{provide:_t,useClass:Me},{provide:Km,useFactory:()=>{const n=(0,s.f3M)(ba),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(kf),i=(0,s.f3M)($m),r=(0,s.f3M)(Nl);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Zm(r,i,n,t,e)}},i?.preloadingStrategy?Ym(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Zx},i?.initialNavigation?Yx(i):[],[{provide:wT,useFactory:fT},{provide:s.tb,multi:!0,useExisting:wT}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ph,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pv,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Vm]}),n})();function bT(n){return"guarded"}function Yx(n){return["disabled"===n.initialNavigation?Fh(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(ms);return()=>{t.setUpLocationChangeListener()}}},{provide:Lh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fh(2,[{provide:Lh,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(ue,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(ms),c=t.get(gT);(function i(r){t.get(ms).events.pipe(ps(c=>c instanceof _||c instanceof C||c instanceof N),(0,bt.U)(c=>c instanceof _||c instanceof C&&(0===c.code||1===c.code)&&null),ps(c=>null!==c),Fc(1)).subscribe(()=>{r()})})(()=>{r(!0)}),t.get($m).afterPreactivation=()=>(r(!0),c.closed?ke(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const wT=new s.OlP("");let X=(()=>{class n{static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var c=0;c<r.length;c++){if(r[c]==e)return o;r[c].attributes&&r[c].attributes[i]&&1==r[c].nodeType&&o++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",o=!0){e&&i&&(o&&(e.style.minWidth||(e.style.minWidth=n.getOuterWidth(i)+"px")),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const r=z=>{if(z)return"relative"===getComputedStyle(z).getPropertyValue("position")?z:r(z.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=i.offsetHeight,d=i.getBoundingClientRect(),f=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),w=this.getViewport(),M=r(e)?.getBoundingClientRect()||{top:-1*f,left:-1*y};let O,F;d.top+c+o.height>w.height?(O=d.top-M.top-o.height,e.style.transformOrigin="bottom",d.top+O<0&&(O=-1*d.top)):(O=c+d.top-M.top,e.style.transformOrigin="top"),F=o.width>w.width?-1*(d.left-M.left):d.left-M.left+o.width>w.width?-1*(d.left-M.left+o.width-w.width):d.left-M.left,e.style.top=O+"px",e.style.left=F+"px"}static absolutePosition(e,i){const r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,c=r.width,d=i.offsetHeight,f=i.offsetWidth,y=i.getBoundingClientRect(),w=this.getWindowScrollTop(),E=this.getWindowScrollLeft(),M=this.getViewport();let O,F;y.top+d+o>M.height?(O=y.top+w-o,e.style.transformOrigin="bottom",O<0&&(O=w)):(O=d+y.top+w,e.style.transformOrigin="top"),F=y.left+c>M.width?Math.max(0,y.left+E+f-c):y.left+E,e.style.top=O+"px",e.style.left=F+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,c=d=>{let f=window.getComputedStyle(d,null);return o.test(f.getPropertyValue("overflow"))||o.test(f.getPropertyValue("overflowX"))||o.test(f.getPropertyValue("overflowY"))};for(let d of r){let f=1===d.nodeType&&d.dataset.scrollselectors;if(f){let y=f.split(",");for(let w of y){let E=this.findSingle(d,w);E&&c(E)&&i.push(E)}}9!==d.nodeType&&c(d)&&i.push(d)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,c=getComputedStyle(e).getPropertyValue("paddingTop"),d=c?parseFloat(c):0,f=e.getBoundingClientRect(),w=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-o-d,E=e.scrollTop,M=e.clientHeight,O=this.getOuterHeight(i);w<0?e.scrollTop=E+w:w+O>M&&(e.scrollTop=E+w-M+O)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,c=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(e,i){var r=1,d=50/i;let f=setInterval(()=>{(r-=d)<=0&&(r=0,clearInterval(f)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)(o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&r.push(o);return r}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let o=0;if(r&&r.length>0){const c=r.indexOf(r[0].ownerDocument.activeElement);i?o=-1==c||0===c?r.length-1:c-1:-1!=c&&c!==r.length-1&&(o=c+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const c=(d=e)&&d.constructor&&d.call&&d.apply?e():e;return c&&9===c.nodeType||this.isExist(c)?c:null}var d}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class CT{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=X.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Bs=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(X.removeClass(i,"p-ink-active"),!X.getHeight(i)&&!X.getWidth(i)){let d=Math.max(X.getOuterWidth(this.el.nativeElement),X.getOuterHeight(this.el.nativeElement));i.style.height=d+"px",i.style.width=d+"px"}let r=X.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-X.getWidth(i)/2,c=e.pageY-r.top+document.body.scrollLeft-X.getHeight(i)/2;i.style.top=c+"px",i.style.left=o+"px",X.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let d=this.getInk();d&&X.removeClass(d,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&X.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),X.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),X.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(k,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Za=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();function Xx(n,t){1&n&&s.GkF(0)}const e1=function(n,t,e,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t,"p-button-icon-top":e,"p-button-icon-bottom":i}};function t1(n,t){if(1&n&&s._UZ(0,"span",4),2&n){const e=s.oxw();s.Tol(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),s.Q6J("ngClass",s.l5B(4,e1,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),s.uIk("aria-hidden",!0)}}function TT(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.uIk("aria-hidden",e.icon&&!e.label),s.xp6(1),s.Oqu(e.label)}}function n1(n,t){if(1&n&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Tol(e.badgeClass),s.Q6J("ngClass",e.badgeStyleClass()),s.xp6(1),s.Oqu(e.badge)}}const r1=function(n,t,e,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":t,"p-disabled":e,"p-button-loading":i,"p-button-loading-label-only":r}},Lv=["*"],yd={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let Bh=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(yd)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){X.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[yd.button,yd.component];return this.icon&&!this.label&&He.isEmpty(this.htmlElement.textContent)&&e.push(yd.iconOnly),this.loading&&(e.push(yd.disabled,yd.loading),!this.icon&&this.label&&e.push(yd.labelOnly)),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(this.label){let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(e)}}createIcon(){if(this.icon||this.loading){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&X.addClass(e,i);let r=this.getIconClass();r&&X.addMultipleClasses(e,r),this.htmlElement.insertBefore(e,this.htmlElement.firstChild)}}updateLabel(){let e=X.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=X.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():e&&this.htmlElement.removeChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),s1=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Lv,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0),s.NdJ("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),s.Hsn(1),s.YNc(2,Xx,1,0,"ng-container",1),s.YNc(3,t1,1,9,"span",2),s.YNc(4,TT,2,2,"span",3),s.YNc(5,n1,2,4,"span",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",s.qbA(11,r1,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),s.uIk("type",i.type)("aria-label",i.ariaLabel),s.xp6(2),s.Q6J("ngTemplateOutlet",i.contentTemplate),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate&&(i.icon||i.loading)),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate&&i.label),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate&&i.badge))},dependencies:[gt,Dn,xn,Cn,Bs],encapsulation:2,changeDetection:0}),n})(),Uh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,Za]}),n})(),Vv=(()=>{class n{constructor(e,i,r,o,c){this.el=e,this.zone=i,this.config=r,this.renderer=o,this.changeDetector=c,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){(this.isAutoHide()||!(X.hasClass(e.toElement,"p-tooltip")||X.hasClass(e.toElement,"p-tooltip-arrow")||X.hasClass(e.toElement,"p-tooltip-text")||X.hasClass(e.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?X.appendChild(this.container,this.el.nativeElement):X.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),X.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Xn.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Xn.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+X.getWindowScrollLeft(),top:e.top+X.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+X.getOuterWidth(this.el.nativeElement),r=e.top+(X.getOuterHeight(this.el.nativeElement)-X.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-X.getOuterWidth(this.container),r=e.top+(X.getOuterHeight(this.el.nativeElement)-X.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(X.getOuterWidth(this.el.nativeElement)-X.getOuterWidth(this.container))/2,r=e.top-X.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(X.getOuterWidth(this.el.nativeElement)-X.getOuterWidth(this.container))/2,r=e.top+X.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return X.hasClass(e,"p-inputwrapper")?X.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=X.getOuterWidth(this.container),c=X.getOuterHeight(this.container),d=X.getViewport();return r+o>d.width||r<0||i<0||i+c>d.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new CT(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):X.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Xn.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(k),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),Us=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();var Jm=V(5032),Ff=V(4986),ET=V(3532);const Bv=function(n){return{"p-hidden":n}};function u1(n,t){if(1&n&&s._UZ(0,"li",4),2&n){const e=s.oxw().$implicit;s.Q6J("ngClass",s.VKq(1,Bv,!1===e.visible))}}function d1(n,t){if(1&n&&s._UZ(0,"span",16),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.icon)("ngStyle",e.iconStyle)}}function Xm(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.xp6(1),s.Oqu(e.label)}}function Uv(n,t){if(1&n&&s._UZ(0,"span",18),2&n){const e=s.oxw(3).$implicit;s.Q6J("innerHTML",e.label,s.oJD)}}function e_(n,t){if(1&n&&(s.TgZ(0,"span",19),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.badgeStyleClass),s.xp6(1),s.Oqu(e.badge)}}const h1=function(n,t){return{"pi-angle-down":n,"pi-angle-right":t}};function Hv(n,t){if(1&n&&s._UZ(0,"span",20),2&n){const e=s.oxw(4);s.Q6J("ngClass",s.WLB(1,h1,e.root,!e.root))}}const p1=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function ST(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",10),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2).$implicit,c=s.oxw();return s.KtG(c.onItemClick(r,o))})("mouseenter",function(r){s.CHM(e);const o=s.oxw(2).$implicit,c=s.oxw();return s.KtG(c.onItemMouseEnter(r,o))})("mouseleave",function(r){s.CHM(e);const o=s.oxw(2).$implicit,c=s.oxw();return s.KtG(c.onItemMouseLeave(r,o))}),s.YNc(1,d1,1,2,"span",11),s.YNc(2,Xm,2,1,"span",12),s.YNc(3,Uv,1,1,"ng-template",null,13,s.W1O),s.YNc(5,e_,2,2,"span",14),s.YNc(6,Hv,1,4,"span",15),s.qZA()}if(2&n){const e=s.MAs(4),i=s.oxw(2).$implicit,r=s.oxw();s.Q6J("target",i.target)("ngClass",s.VKq(14,p1,i.disabled)),s.uIk("href",i.url,s.LSH)("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0")("aria-haspopup",null!=r.item.items)("aria-expanded",r.item===r.activeItem),s.xp6(1),s.Q6J("ngIf",i.icon),s.xp6(1),s.Q6J("ngIf",!1!==i.escape)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.badge),s.xp6(1),s.Q6J("ngIf",i.items)}}function IT(n,t){if(1&n&&s._UZ(0,"span",16),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.icon)("ngStyle",e.iconStyle)}}function DT(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.xp6(1),s.Oqu(e.label)}}function xT(n,t){if(1&n&&s._UZ(0,"span",18),2&n){const e=s.oxw(3).$implicit;s.Q6J("innerHTML",e.label,s.oJD)}}function zv(n,t){if(1&n&&(s.TgZ(0,"span",19),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.badgeStyleClass),s.xp6(1),s.Oqu(e.badge)}}function Hl(n,t){if(1&n&&s._UZ(0,"span",20),2&n){const e=s.oxw(4);s.Q6J("ngClass",s.WLB(1,h1,e.root,!e.root))}}const t_=function(){return{exact:!1}};function n_(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",21),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2).$implicit,c=s.oxw();return s.KtG(c.onItemClick(r,o))})("mouseenter",function(r){s.CHM(e);const o=s.oxw(2).$implicit,c=s.oxw();return s.KtG(c.onItemMouseEnter(r,o))})("mouseleave",function(r){s.CHM(e);const o=s.oxw(2).$implicit,c=s.oxw();return s.KtG(c.onItemMouseLeave(r,o))}),s.YNc(1,IT,1,2,"span",11),s.YNc(2,DT,2,1,"span",12),s.YNc(3,xT,1,1,"ng-template",null,22,s.W1O),s.YNc(5,zv,2,2,"span",14),s.YNc(6,Hl,1,4,"span",15),s.qZA()}if(2&n){const e=s.MAs(4),i=s.oxw(2).$implicit;s.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||s.DdM(21,t_))("target",i.target)("ngClass",s.VKq(22,p1,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),s.uIk("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0"),s.xp6(1),s.Q6J("ngIf",i.icon),s.xp6(1),s.Q6J("ngIf",!1!==i.escape)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.badge),s.xp6(1),s.Q6J("ngIf",i.items)}}function Lf(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-menubarSub",23),s.NdJ("leafClick",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onLeafClick())}),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw();s.Q6J("parentActive",e===i.activeItem)("item",e)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)}}const f1=function(n,t){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":t}};function AT(n,t){if(1&n&&(s.TgZ(0,"li",5,6),s.YNc(2,ST,7,16,"a",7),s.YNc(3,n_,7,24,"a",8),s.YNc(4,Lf,1,4,"p-menubarSub",9),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.WLB(8,f1,e===i.activeItem,!1===e.visible))("ngStyle",e.style)("tooltipOptions",e.tooltipOptions),s.xp6(2),s.Q6J("ngIf",!e.routerLink),s.xp6(1),s.Q6J("ngIf",e.routerLink),s.xp6(1),s.Q6J("ngIf",e.items)}}function MT(n,t){if(1&n&&(s.YNc(0,u1,1,3,"li",2),s.YNc(1,AT,5,11,"li",3)),2&n){const e=t.$implicit;s.Q6J("ngIf",e.separator),s.xp6(1),s.Q6J("ngIf",!e.separator)}}const g1=function(n,t){return{"p-submenu-list":n,"p-menubar-root-list":t}},m1=["menubutton"],Vf=["rootmenu"];function _1(n,t){1&n&&s.GkF(0)}function cP(n,t){if(1&n&&(s.TgZ(0,"div",7),s.YNc(1,_1,1,0,"ng-container",8),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.startTemplate)}}function y1(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",9,10),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.toggle(r))}),s._UZ(2,"i",11),s.qZA()}}function v1(n,t){1&n&&s.GkF(0)}function b1(n,t){if(1&n&&(s.TgZ(0,"div",12),s.YNc(1,v1,1,0,"ng-container",8),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.endTemplate)}}function w1(n,t){1&n&&(s.TgZ(0,"div",12),s.Hsn(1),s.qZA())}const C1=function(n){return{"p-menubar p-component":!0,"p-menubar-mobile-active":n}},T1=["*"];let Gv=(()=>{class n{constructor(){this.mouseLeaves=new Zn.x,this.mouseLeft$=this.mouseLeaves.pipe(function o1(n){return(0,bn.e)((t,e)=>{let i=!1,r=null,o=null;const c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,e.next(d)}};t.subscribe((0,kn.x)(e,d=>{o?.unsubscribe(),i=!0,r=d,o=(0,kn.x)(e,c,Jm.Z),(0,id.Xf)(n(d)).subscribe(o)},()=>{c(),e.complete()},void 0,()=>{r=o=null}))})}(()=>function c1(n=0,t=Ff.z){return n<0&&(n=0),function l1(n=0,t,e=Ff.P){let i=-1;return null!=t&&((0,ET.K)(t)?e=t:i=t),new cr.y(r=>{let o=function a1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,n,t)}(this.autoHideDelay)),ps(e=>this.autoHide&&e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),kT=(()=>{class n{constructor(e,i,r,o){this.el=e,this.renderer=i,this.cd=r,this.menubarService=o,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new s.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(e){this.root||(this._parentActive=e,e||(this.activeItem=null))}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener()})}onItemClick(e,i){i.disabled?e.preventDefault():(!i.url&&!i.routerLink&&e.preventDefault(),i.command&&i.command({originalEvent:e,item:i}),i.items&&(this.activeItem&&i===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=i,this.root&&this.bindDocumentClickListener())),i.items||this.onLeafClick())}onItemMouseLeave(e,i){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(e,i){this.menubarService.mouseLeaves.next(!1),i.disabled||this.mobileActive?e.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=i,this.bindDocumentClickListener()):(this.activeItem=i,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.el&&!this.el.nativeElement.contains(e.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber.unsubscribe(),this.unbindDocumentClickListener()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Gv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter","mouseleave",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter","mouseleave",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter","mouseleave"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter","mouseleave"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(e,i){1&e&&(s.TgZ(0,"ul",0),s.YNc(1,MT,2,2,"ng-template",1),s.qZA()),2&e&&(s.Q6J("ngClass",s.WLB(3,g1,!i.root,i.root)),s.uIk("role",i.root?"menubar":"menu"),s.xp6(1),s.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[gt,ri,Dn,Cn,Rf,lT,Bs,Vv,n],encapsulation:2}),n})(),$v=(()=>{class n{constructor(e,i,r,o,c){this.el=e,this.renderer=i,this.cd=r,this.config=o,this.menubarService=c,this.autoZIndex=!0,this.baseZIndex=0,this.autoHideDelay=100}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template}})}toggle(e){this.mobileActive?(this.hide(),Xn.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,Xn.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),e.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.mobileActive&&this.rootmenu.el.nativeElement!==e.target&&!this.rootmenu.el.nativeElement.contains(e.target)&&this.menubutton.nativeElement!==e.target&&!this.menubutton.nativeElement.contains(e.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),Xn.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber.unsubscribe(),this.unbindOutsideClickListener()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(k),s.Y36(Gv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-menubar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(m1,5),s.Gf(Vf,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.menubutton=r.first),s.iGM(r=s.CRH())&&(i.rootmenu=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",autoHide:"autoHide",autoHideDelay:"autoHideDelay"},features:[s._Bn([Gv])],ngContentSelectors:T1,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.YNc(1,cP,2,1,"div",1),s.YNc(2,y1,3,0,"a",2),s.TgZ(3,"p-menubarSub",3,4),s.NdJ("leafClick",function(){return i.onLeafClick()}),s.qZA(),s.YNc(5,b1,2,1,"div",5),s.YNc(6,w1,2,0,"ng-template",null,6,s.W1O),s.qZA()),2&e){const r=s.MAs(7);s.Tol(i.styleClass),s.Q6J("ngClass",s.VKq(13,C1,i.mobileActive))("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",i.startTemplate),s.xp6(1),s.Q6J("ngIf",i.model&&i.model.length>0),s.xp6(1),s.Q6J("item",i.model)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay),s.xp6(2),s.Q6J("ngIf",i.endTemplate)("ngIfElse",r)}},dependencies:[gt,Dn,xn,Cn,kT],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),n})(),E1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,Pf,Za,Us,ve,Pf,Us,ve]}),n})();function jv(n,t){1&n&&(s.TgZ(0,"a",5)(1,"h3",6),s._UZ(2,"img",7),s.qZA()())}class Bf{constructor(){this.items=[],this.username="Chirag Joshi"}ngOnInit(){this.items=[{label:"Packing List",icon:"pi pi-fw pi-cart-plus",items:[{label:"New",icon:"pi pi-fw pi-plus",routerLink:"/packing"},{separator:!0},{label:"Assign Oracle",icon:"pi pi-fw pi-file-edit",routerLink:"/oracle"}]},{label:"Invoice",icon:"pi pi-fw pi-link",items:[{label:"Create",icon:"pi pi-fw pi-plus",routerLink:"/invoice"}]},{label:"Arrange Shipment",icon:"pi pi-fw pi-truck",routerLink:"/shipment"},{label:"Shipment Status",icon:"pi pi-fw pi-flag"},{label:"Receipt Confirmation",icon:"pi pi-fw pi-thumbs-up"},{label:"Reports",icon:"pi pi-fw pi-chart-bar"}]}}Bf.\u0275fac=function(t){return new(t||Bf)},Bf.\u0275cmp=s.Xpm({type:Bf,selectors:[["app-header"]],decls:5,vars:1,consts:[[3,"model"],["pTemplate","start"],[1,"card"],[1,"flex","flex-row","flex-wrap","card-container","blue-container"],["type","button","pButton","","label","Logout","icon","pi pi-power-off",2,"margin-left",".25em"],["routerLink","/",2,"text-decoration","none"],[1,"text-blue-500"],["src","../../assets/logo.jpg","height","40","routerLink","/",1,"mr-2"]],template:function(t,e){1&t&&(s.TgZ(0,"p-menubar",0),s.YNc(1,jv,3,0,"ng-template",1),s.TgZ(2,"div",2)(3,"div",3),s._UZ(4,"button",4),s.qZA()()()),2&t&&s.Q6J("model",e.items)},dependencies:[Rf,Bh,ee,$v]});class Uf{constructor(t){this.primengConfig=t}ngOnInit(){this.primengConfig.ripple=!0}}Uf.\u0275fac=function(t){return new(t||Uf)(s.Y36(k))},Uf.\u0275cmp=s.Xpm({type:Uf,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&s._UZ(0,"app-header")(1,"router-outlet")},dependencies:[Sf,Bf]});class S1{}class RT{static anyToDate(t){return new Date(String(t))}}var qv=V(6451),OT=V(3099);function NT(n,t=Ml.y){return n=n??PT,(0,bn.e)((e,i)=>{let r,o=!0;e.subscribe((0,kn.x)(i,c=>{const d=t(c);(o||!n(r,d))&&(o=!1,r=d,i.next(c))}))})}function PT(n,t){return n===t}var En=V(2122),Li=V(2011),zl=(V(407),V(3942)),Qa=V(4859),ge=V(5861),Qr=V(9681),P=V(2090),Hs=V(1877);const LT="@firebase/database";let vd="";function Cr(n){vd=n}class bd{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class i_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const zs=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bd(t)}}catch{}return new i_},Gl=zs("localStorage"),Zc=zs("sessionStorage"),Xo=new Hs.Yd("@firebase/database"),wd=function(){let n=1;return function(){return n++}}(),Cd=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const i=e.digest();return P.US.encodeByteArray(i)},Ya=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ya.apply(null,i):t+="object"==typeof i?(0,P.Wl)(i):i,t+=" "}return t};let go=null,Td=!0;const Ed=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Xo.logLevel=Hs.in.VERBOSE,go=Xo.log.bind(Xo),t&&Zc.set("logging_enabled",!0)):"function"==typeof n?go=n:(go=null,Zc.remove("logging_enabled"))},hi=function(...n){if(!0===Td&&(Td=!1,null===go&&!0===Zc.get("logging_enabled")&&Ed(!0)),go){const t=Ya.apply(null,n);go(t)}},Hh=function(n){return function(...t){hi(n,...t)}},r_=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ya(...n);Xo.error(t)},ea=function(...n){const t=`FIREBASE FATAL ERROR: ${Ya(...n)}`;throw Xo.error(t),new Error(t)},Tr=function(...n){const t="FIREBASE WARNING: "+Ya(...n);Xo.warn(t)},Hf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},$l="[MIN_NAME]",Ja="[MAX_NAME]",Sd=function(n,t){if(n===t)return 0;if(n===$l||t===Ja)return-1;if(t===$l||n===Ja)return 1;{const e=zf(n),i=zf(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},D1=function(n,t){return n===t?0:n<t?-1:1},zh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(t))},Kv=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,P.Wl)(t[i]),e+=":",e+=Kv(n[t[i]]);return e+="}",e},Zv=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Vi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const s_=function(n){(0,P.hu)(!Hf(n),"Invalid JSON number");const i=1023;let r,o,c,d,f;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(f=52;f;f-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const w=y.join("");let E="";for(f=0;f<64;f+=8){let M=parseInt(w.substr(f,8),2).toString(16);1===M.length&&(M="0"+M),E+=M}return E.toLowerCase()},Qv=new RegExp("^-?(0*)\\d{1,10}$"),zf=function(n){if(Qv.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Qc=function(n){try{n()}catch(t){setTimeout(()=>{throw Tr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Id=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class HT{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zT{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(hi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tr(t)}}let Dd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const eb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nb="websocket",u_="long_polling";class d_{constructor(t,e,i,r,o=!1,c="",d=!1,f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ib(n,t,e){let i;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===nb)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==u_)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function jT(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Vi(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class qT{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const h_={},p_={};function f_(n){const t=n.toString();return h_[t]||(h_[t]=new qT),h_[t]}class g_{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Qc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jc{constructor(t,e,i,r,o,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hh(t),this.stats_=f_(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),ib(e,u_,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new g_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new __((...o)=>{const[c,d,f,y,w]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&eb.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jc.forceAllow_=!0}static forceDisallow(){Jc.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!Jc.forceAllow_&&(Jc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,P.h$)(e),r=Zv(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class __{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=wd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=__.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){hi("frame writing exception"),d.stack&&hi(d.stack),hi(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||hi("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{hi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let $f=null;typeof MozWebSocket<"u"?$f=MozWebSocket:typeof WebSocket<"u"&&($f=WebSocket);let ta=(()=>{class n{constructor(e,i,r,o,c,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hh(this.connId),this.stats_=f_(i),this.connURL=n.connectionURL_(i,d,f,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const d={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&eb.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),c&&(d.p=c),ib(e,nb,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gl.set("previous_websocket_failure",!0);try{let r;if((0,P.Yr)()){r={headers:{"User-Agent":`Firebase/5/${vd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new $f(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==$f&&!n.forceDisallow_}static previouslyFailed(){return Gl.isInMemoryStorage||!0===Gl.get("previous_websocket_failure")}markConnectionHealthy(){Gl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,P.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,P.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Zv(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),JT=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jc,ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ta&&ta.isAvailable();let r=i&&!ta.previouslyFailed();if(e.webSocketOnly&&(i||Tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ta];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class cb{constructor(t,e,i,r,o,c,d,f,y,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hh("c:"+this.id+":"),this.transportManager_=new JT(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=zh("t",t),i=zh("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=zh("t",t),i=zh("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=zh("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?r_("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class iE{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class rE{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class v_ extends rE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new v_}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class dn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function mn(){return new dn("")}function tn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xc(n){return n.pieces_.length-n.pieceNum_}function Pn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new dn(n.pieces_,t)}function w_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function ub(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new dn(t,0)}function ti(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof dn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new dn(e,0)}function Xt(n){return n.pieceNum_>=n.pieces_.length}function ur(n,t){const e=tn(n),i=tn(t);if(null===e)return t;if(e===i)return ur(Pn(n),Pn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function db(n,t){const e=jf(n,0),i=jf(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Sd(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function T_(n,t){if(Xc(n)!==Xc(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Gs(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Xc(n)>Xc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class oE{constructor(t,e){this.errorPrefix_=e,this.parts_=jf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);hb(this)}}function hb(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+eu(n))}function eu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class pb extends rE{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new pb}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const qf=1e3;let S_,xd=(()=>{class n extends iE{constructor(e,i,r,o,c,d,f,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=Hh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pb.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&v_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,P.Wl)(c)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new P.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,f=>{const y=f.d,w=f.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==w&&this.removeListen_(r,o),e.onComplete&&e.onComplete(w,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const r=(0,P.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,P.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):r_("Unrecognized action received from server: "+(0,P.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ge.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let f=!1,y=null;const w=function(){y?y.close():(f=!0,o())};e.realtime_={close:w,sendRequest:function(O){(0,P.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(O)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[O,F]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);f?hi("getToken() completed but was canceled"):(hi("getToken() completed. Creating connection."),e.authToken_=O&&O.accessToken,e.appCheckToken_=F&&F.token,y=new cb(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,z=>{Tr(z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(O){e.log_("Failed to get token: "+O),f||(e.repoInfo_.nodeAdmin&&Tr(O),w())}}})()}interrupt(e){hi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>Kv(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new dn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){hi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){hi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+vd.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=v_.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class on{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new on(t,e)}}class E_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new on($l,t),r=new on($l,e);return 0!==this.compare(i,r)}minPost(){return on.MIN}}class dE extends E_{static get __EMPTY_NODE(){return S_}static set __EMPTY_NODE(t){S_=t}compare(t,e){return Sd(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return on.MIN}maxPost(){return new on(Ja,S_)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new on(t,S_)}toString(){return".key"}}const Xa=new dE;class I_{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let x_,ia=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??_s.EMPTY_NODE,this.right=c??_s.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return _s.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return _s.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class _s{constructor(t,e=_s.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new _s(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ia.BLACK,null,null))}remove(t){return new _s(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ia.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new I_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new I_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new I_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new I_(this.root_,null,this.comparator_,!0,t)}}function hE(n,t){return Sd(n.name,t.name)}function D_(n,t){return Sd(n,t)}_s.EMPTY_NODE=new class G1{copy(t,e,i,r,o){return this}insert(t,e,i){return new ia(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const fb=function(n){return"number"==typeof n?"number:"+s_(n):"string:"+n},gb=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===x_||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===x_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mb,_b,yb,Ad=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),gb(this.priorityNode_)}static set __childrenNodeConstructor(e){mb=e}static get __childrenNodeConstructor(){return mb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xt(e)?this:".priority"===tn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=tn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,P.hu)(".priority"!==r||1===Xc(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fb(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?s_(this.value_):this.value_,this.lazyHash_=Cd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,P.hu)(o>=0,"Unknown leaf type: "+i),(0,P.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Qn=new class $1 extends E_{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Sd(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return on.MIN}maxPost(){return new on(Ja,new Ad("[PRIORITY-POST]",yb))}makePost(t,e){const i=_b(t);return new on(e,new Ad("[PRIORITY-POST]",i))}toString(){return".priority"}},Gh=Math.log(2);class hP{constructor(t){this.count=parseInt(Math.log(t+1)/Gh,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $h=function(n,t,e,i){n.sort(t);const r=function(f,y){const w=y-f;let E,M;if(0===w)return null;if(1===w)return E=n[f],M=e?e(E):E,new ia(M,E.node,ia.BLACK,null,null);{const O=parseInt(w/2,10)+f,F=r(f,O),z=r(O+1,y);return E=n[O],M=e?e(E):E,new ia(M,E.node,ia.BLACK,F,z)}},d=function(f){let y=null,w=null,E=n.length;const M=function(F,z){const W=E-F,Ee=E;E-=F;const Le=r(W+1,Ee),Pe=n[W],Ve=e?e(Pe):Pe;O(new ia(Ve,Pe.node,z,null,Le))},O=function(F){y?(y.left=F,y=F):(w=F,y=F)};for(let F=0;F<f.count;++F){const z=f.nextBitIsOne(),W=Math.pow(2,f.count-(F+1));z?M(W,ia.BLACK):(M(W,ia.BLACK),M(W,ia.RED))}return w}(new hP(n.length));return new _s(i||t,d)};let gE;const kd={};class el{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(kd&&Qn,"ChildrenNode.ts has not been loaded"),gE=gE||new el({".priority":kd},{".priority":Qn}),gE}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof _s?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==Xa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(on.Wrap);let d,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();d=r?$h(i,t.getCompare()):kd;const f=t.toString(),y=Object.assign({},this.indexSet_);y[f]=t;const w=Object.assign({},this.indexes_);return w[f]=d,new el(w,y)}addToIndexes(t,e){const i=(0,P.UI)(this.indexes_,(r,o)=>{const c=(0,P.DV)(this.indexSet_,o);if((0,P.hu)(c,"Missing index implementation for "+o),r===kd){if(c.isDefinedOn(t.node)){const d=[],f=e.getIterator(on.Wrap);let y=f.getNext();for(;y;)y.name!==t.name&&d.push(y),y=f.getNext();return d.push(t),$h(d,c.getCompare())}return kd}{const d=e.get(t.name);let f=r;return d&&(f=f.remove(new on(t.name,d))),f.insert(t,t.node)}});return new el(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,P.UI)(this.indexes_,r=>{if(r===kd)return r;{const o=e.get(t.name);return o?r.remove(new on(t.name,o)):r}});return new el(i,this.indexSet_)}}let A_,qe=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gb(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return A_||(A_=new n(new _s(D_),null,el.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||A_}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?A_:i}}getChild(e){const i=tn(e);return null===i?this:this.getImmediateChild(i).getChild(Pn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new on(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?A_:this.priorityNode_;return new n(o,d,c)}}updateChild(e,i){const r=tn(e);if(null===r)return i;{(0,P.hu)(".priority"!==tn(e)||1===Xc(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Pn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Qn,(d,f)=>{i[d]=f.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+fb(this.getPriority().val())+":"),this.forEachChild(Qn,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Cd(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new on(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new on(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new on(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,on.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,on.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wf?-1:0}withIndex(e){if(e===Xa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Xa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Qn),o=i.getIterator(Qn);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Xa?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wf=new class j1 extends qe{constructor(){super(new _s(D_),qe.EMPTY_NODE,el.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qe.EMPTY_NODE}isEmpty(){return!1}};function Fn(n,t=null){if(null===n)return qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ad(n,Fn(t));if(n instanceof Array){let e=qe.EMPTY_NODE;return Vi(n,(i,r)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const o=Fn(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Fn(t))}{const e=[];let i=!1;if(Vi(n,(c,d)=>{if("."!==c.substring(0,1)){const f=Fn(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new on(c,f)))}}),0===e.length)return qe.EMPTY_NODE;const o=$h(e,hE,c=>c.name,D_);if(i){const c=$h(e,Qn.getCompare());return new qe(o,Fn(t),new el({".priority":c},{".priority":Qn}))}return new qe(o,Fn(t),el.Default)}}Object.defineProperties(on,{MIN:{value:new on($l,qe.EMPTY_NODE)},MAX:{value:new on(Ja,Wf)}}),dE.__EMPTY_NODE=qe.EMPTY_NODE,Ad.__childrenNodeConstructor=qe,function pE(n){x_=n}(Wf),function Md(n){yb=n}(Wf),function fE(n){_b=n}(Fn);class vb extends E_{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!Xt(t)&&".priority"!==tn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Sd(t.name,e.name):o}makePost(t,e){const i=Fn(t),r=qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new on(e,r)}maxPost(){const t=qe.EMPTY_NODE.updateChild(this.indexPath_,Wf);return new on(Ja,t)}toString(){return jf(this.indexPath_,0).join("/")}}const jh=new class M_ extends E_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Sd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return on.MIN}maxPost(){return on.MAX}makePost(t,e){const i=Fn(t);return new on(e,i)}toString(){return".value"}};function pi(n){return{type:"value",snapshotNode:n}}function Kf(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function qh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Wh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class k_{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(qh(e,d)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Kf(e,i)):c.trackChildChange(Wh(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Qn,(r,o)=>{e.hasChild(r)||i.trackChildChange(qh(r,o))}),e.isLeafNode()||e.forEachChild(Qn,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(Wh(r,o,c))}else i.trackChildChange(Kf(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?qe.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Kh{constructor(t){this.indexedFilter_=new k_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Kh.getStartPost_(t),this.endPost_=Kh.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,c){return this.matches(new on(e,i))||(i=qe.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=qe.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(qe.EMPTY_NODE);const o=this;return e.forEachChild(Qn,(c,d)=>{o.matches(new on(c,d))||(r=r.updateImmediateChild(c,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class mE{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Kh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new on(e,i))||(i=qe.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=qe.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),c++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(qe.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;o.hasNext();){const d=o.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:r=r.updateImmediateChild(d.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const E=this.index_.getCompare();c=(M,O)=>E(O,M)}else c=this.index_.getCompare();const d=t;(0,P.hu)(d.numChildren()===this.limit_,"");const f=new on(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),w=this.rangedFilter_.matches(f);if(d.hasChild(e)){const E=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const O=null==M?1:c(M,f);if(w&&!i.isEmpty()&&O>=0)return o?.trackChildChange(Wh(e,i,E)),d.updateImmediateChild(e,i);{o?.trackChildChange(qh(e,E));const z=d.updateImmediateChild(e,qe.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(o?.trackChildChange(Kf(M.name,M.node)),z.updateImmediateChild(M.name,M.node)):z}}return i.isEmpty()?t:w&&c(y,f)>=0?(null!=o&&(o.trackChildChange(qh(y.name,y.node)),o.trackChildChange(Kf(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,qe.EMPTY_NODE)):t}}class Zf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$l}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qn}copy(){const t=new Zf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Rd(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function bb(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Od(n,t){const e=n.copy();return e.index_=t,e}function wb(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Qn?e="$priority":n.index_===jh?e="$value":n.index_===Xa?e="$key":((0,P.hu)(n.index_ instanceof vb,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Cb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Qn&&(t.i=n.index_.toString()),t}class Qf extends iE{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Hh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=Qf.getListenId_(t,i),d={};this.listens_[c]=d;const f=wb(t._queryParams);this.restRequest_(o+".json",f,(y,w)=>{let E=w;if(404===y&&(E=null,y=null),null===y&&this.onDataUpdate_(o,E,!1,i),(0,P.DV)(this.listens_,c)===d){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=Qf.getListenId_(t,e);delete this.listens_[i]}get(t){const e=wb(t._queryParams),i=t._path.toString(),r=new P.BH;return this.restRequest_(i+".json",e,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,P.cI)(d.responseText)}catch{Tr("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Tr("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class X1{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function tu(){return{value:null,children:new Map}}function tl(n,t,e){if(Xt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=tn(t);n.children.has(i)||n.children.set(i,tu()),tl(n.children.get(i),t=Pn(t),e)}}function Tb(n,t){if(Xt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Qn,(i,r)=>{tl(n,new dn(i),r)}),Tb(n,t)}}if(n.children.size>0){const e=tn(t);return t=Pn(t),n.children.has(e)&&Tb(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Eb(n,t,e){null!==n.value?e(t,n.value):function eA(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Eb(r,new dn(t.toString()+"/"+i),e)})}class _E{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Vi(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class vE{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new _E(t);const i=1e4+2e4*Math.random();Id(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Vi(t,(r,o)=>{o>0&&(0,P.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Id(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vo=(()=>{return(n=vo||(vo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",vo;var n})();function wE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Db{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=vo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Xt(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new dn(t));return new Db(mn(),e,this.revert)}}return(0,P.hu)(tn(this.path)===t,"operationForChild called for unrelated child."),new Db(Pn(this.path),this.affectedTree,this.revert)}}class R_{constructor(t,e){this.source=t,this.path=e,this.type=vo.LISTEN_COMPLETE}operationForChild(t){return Xt(this.path)?new R_(this.source,mn()):new R_(this.source,Pn(this.path))}}class nu{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=vo.OVERWRITE}operationForChild(t){return Xt(this.path)?new nu(this.source,mn(),this.snap.getImmediateChild(t)):new nu(this.source,Pn(this.path),this.snap)}}class ql{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=vo.MERGE}operationForChild(t){if(Xt(this.path)){const e=this.children.subtree(new dn(t));return e.isEmpty()?null:e.value?new nu(this.source,mn(),e.value):new ql(this.source,mn(),e)}return(0,P.hu)(tn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ql(this.source,Pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class iu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=tn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class nA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Wl(n,t,e,i,r,o){const c=i.filter(d=>d.type===e);c.sort((d,f)=>function rA(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new on(t.childName,t.snapshotNode),r=new on(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),c.forEach(d=>{const f=function iA(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(f,n.query_))})})}function O_(n,t){return{eventCache:n,serverCache:t}}function Yf(n,t,e,i){return O_(new iu(t,e,i),n.serverCache)}function sA(n,t,e,i){return O_(n.eventCache,new iu(t,e,i))}function N_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ru(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let xb;class Sn{constructor(t,e=(()=>(xb||(xb=new _s(D1)),xb))()){this.value=t,this.children=e}static fromObject(t){let e=new Sn(null);return Vi(t,(i,r)=>{e=e.set(new dn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:mn(),value:this.value};if(Xt(t))return null;{const i=tn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Pn(t),e);return null!=o?{path:ti(new dn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Xt(t))return this;{const e=tn(t),i=this.children.get(e);return null!==i?i.subtree(Pn(t)):new Sn(null)}}set(t,e){if(Xt(t))return new Sn(e,this.children);{const i=tn(t),o=(this.children.get(i)||new Sn(null)).set(Pn(t),e),c=this.children.insert(i,o);return new Sn(this.value,c)}}remove(t){if(Xt(t))return this.children.isEmpty()?new Sn(null):new Sn(null,this.children);{const e=tn(t),i=this.children.get(e);if(i){const r=i.remove(Pn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Sn(null):new Sn(this.value,o)}return this}}get(t){if(Xt(t))return this.value;{const e=tn(t),i=this.children.get(e);return i?i.get(Pn(t)):null}}setTree(t,e){if(Xt(t))return e;{const i=tn(t),o=(this.children.get(i)||new Sn(null)).setTree(Pn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Sn(this.value,c)}}fold(t){return this.fold_(mn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ti(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,mn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Xt(t))return null;{const o=tn(t),c=this.children.get(o);return c?c.findOnPath_(Pn(t),ti(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,mn(),e)}foreachOnPath_(t,e,i){if(Xt(t))return this;{this.value&&i(e,this.value);const r=tn(t),o=this.children.get(r);return o?o.foreachOnPath_(Pn(t),ti(e,r),i):new Sn(null)}}foreach(t){this.foreach_(mn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ti(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ra{constructor(t){this.writeTree_=t}static empty(){return new ra(new Sn(null))}}function Zh(n,t,e){if(Xt(t))return new ra(new Sn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=ur(r,t);return o=o.updateChild(c,e),new ra(n.writeTree_.set(r,o))}{const r=new Sn(e),o=n.writeTree_.setTree(t,r);return new ra(o)}}}function Ab(n,t,e){let i=n;return Vi(e,(r,o)=>{i=Zh(i,ti(t,r),o)}),i}function Mb(n,t){if(Xt(t))return ra.empty();{const e=n.writeTree_.setTree(t,new Sn(null));return new ra(e)}}function kb(n,t){return null!=su(n,t)}function su(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ur(e.path,t)):null}function TE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Qn,(i,r)=>{t.push(new on(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new on(i,r.value))}),t}function nl(n,t){if(Xt(t))return n;{const e=su(n,t);return new ra(null!=e?new Sn(e):n.writeTree_.subtree(t))}}function Rb(n){return n.writeTree_.isEmpty()}function Nd(n,t){return Ob(mn(),n.writeTree_,t)}function Ob(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,P.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=Ob(ti(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ti(n,".priority"),i)),e}}function P_(n,t){return B_(t,n)}function EE(n,t){if(n.snap)return Gs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Gs(ti(n.path,e),t))return!0;return!1}function dA(n){return n.visible}function SE(n,t,e){let i=ra.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let d;if(o.snap)Gs(e,c)?(d=ur(e,c),i=Zh(i,d,o.snap)):Gs(c,e)&&(d=ur(c,e),i=Zh(i,mn(),o.snap.getChild(d)));else{if(!o.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Gs(e,c))d=ur(e,c),i=Ab(i,d,o.children);else if(Gs(c,e))if(d=ur(c,e),Xt(d))i=Ab(i,mn(),o.children);else{const f=(0,P.DV)(o.children,tn(d));if(f){const y=f.getChild(Pn(d));i=Zh(i,mn(),y)}}}}}return i}function IE(n,t,e,i,r){if(i||r){const o=nl(n.visibleWrites,t);return!r&&Rb(o)?e:r||null!=e||kb(o,mn())?Nd(SE(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Gs(y.path,t)||Gs(t,y.path))},t),e||qe.EMPTY_NODE):null}{const o=su(n.visibleWrites,t);if(null!=o)return o;{const c=nl(n.visibleWrites,t);return Rb(c)?e:null!=e||kb(c,mn())?Nd(c,e||qe.EMPTY_NODE):null}}}function F_(n,t,e,i){return IE(n.writeTree,n.treePath,t,e,i)}function Pb(n,t){return function hA(n,t,e){let i=qe.EMPTY_NODE;const r=su(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Qn,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=nl(n.visibleWrites,t);return e.forEachChild(Qn,(c,d)=>{const f=Nd(nl(o,new dn(c)),d);i=i.updateImmediateChild(c,f)}),TE(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return TE(nl(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function Fb(n,t,e,i){return function pA(n,t,e,i,r){(0,P.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=ti(t,e);if(kb(n.visibleWrites,o))return null;{const c=nl(n.visibleWrites,o);return Rb(c)?r.getChild(e):Nd(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function L_(n,t){return function gA(n,t){return su(n.visibleWrites,t)}(n.writeTree,ti(n.treePath,t))}function Lb(n,t,e){return function fA(n,t,e,i){const r=ti(t,e),o=su(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Nd(nl(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function V_(n,t){return B_(ti(n.treePath,t),n.writeTree)}function B_(n,t){return{treePath:n,writeTree:t}}class AE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Wh(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,qh(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Kf(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Wh(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const ME=new class Vb{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Bb{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new iu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lb(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ru(this.viewCache_),o=function mA(n,t,e,i,r,o){return function DE(n,t,e,i,r,o,c){let d;const f=nl(n.visibleWrites,t),y=su(f,mn());if(null!=y)d=y;else{if(null==e)return[];d=Nd(f,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const w=[],E=c.getCompare(),M=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let O=M.getNext();for(;O&&w.length<r;)0!==E(O,i)&&w.push(O),O=M.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function Hb(n,t,e,i,r,o){const c=t.eventCache;if(null!=L_(i,e))return t;{let d,f;if(Xt(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=ru(t),E=Pb(i,y instanceof qe?y:qe.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,o)}else{const y=F_(i,ru(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=tn(e);if(".priority"===y){(0,P.hu)(1===Xc(e),"Can't have a priority with additional path components");const w=c.getNode();f=t.serverCache.getNode();const E=Fb(i,e,w,f);d=null!=E?n.filter.updatePriority(w,E):c.getNode()}else{const w=Pn(e);let E;if(c.isCompleteForChild(y)){f=t.serverCache.getNode();const M=Fb(i,e,c.getNode(),f);E=null!=M?c.getNode().getImmediateChild(y).updateChild(w,M):c.getNode().getImmediateChild(y)}else E=Lb(i,y,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),y,E,w,r,o):c.getNode()}}return Yf(t,d,c.isFullyInitialized()||Xt(e),n.filter.filtersNodes())}}function U_(n,t,e,i,r,o,c,d){const f=t.serverCache;let y;const w=c?n.filter:n.filter.getIndexedFilter();if(Xt(e))y=w.updateFullNode(f.getNode(),i,null);else if(w.filtersNodes()&&!f.isFiltered()){const O=f.getNode().updateChild(e,i);y=w.updateFullNode(f.getNode(),O,null)}else{const O=tn(e);if(!f.isCompleteForPath(e)&&Xc(e)>1)return t;const F=Pn(e),W=f.getNode().getImmediateChild(O).updateChild(F,i);y=".priority"===O?w.updatePriority(f.getNode(),W):w.updateChild(f.getNode(),O,W,F,ME,null)}const E=sA(t,y,f.isFullyInitialized()||Xt(e),w.filtersNodes());return Hb(n,E,e,r,new Bb(r,E,o),d)}function RE(n,t,e,i,r,o,c){const d=t.eventCache;let f,y;const w=new Bb(r,t,o);if(Xt(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=Yf(t,y,!0,n.filter.filtersNodes());else{const E=tn(e);if(".priority"===E)y=n.filter.updatePriority(t.eventCache.getNode(),i),f=Yf(t,y,d.isFullyInitialized(),d.isFiltered());else{const M=Pn(e),O=d.getNode().getImmediateChild(E);let F;if(Xt(M))F=i;else{const z=w.getCompleteChild(E);F=null!=z?".priority"===w_(M)&&z.getChild(ub(M)).isEmpty()?z:z.updateChild(M,i):qe.EMPTY_NODE}f=O.equals(F)?t:Yf(t,n.filter.updateChild(d.getNode(),E,F,M,w,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function zb(n,t){return n.eventCache.isCompleteForChild(t)}function OE(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Jf(n,t,e,i,r,o,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,f=t;y=Xt(e)?i:new Sn(null).setTree(e,i);const w=t.serverCache.getNode();return y.children.inorderTraversal((E,M)=>{if(w.hasChild(E)){const F=OE(0,t.serverCache.getNode().getImmediateChild(E),M);f=U_(n,f,new dn(E),F,r,o,c,d)}}),y.children.inorderTraversal((E,M)=>{const O=!t.serverCache.isCompleteForChild(E)&&null===M.value;if(!w.hasChild(E)&&!O){const z=OE(0,t.serverCache.getNode().getImmediateChild(E),M);f=U_(n,f,new dn(E),z,r,o,c,d)}}),f}class PE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new k_(i.getIndex()),o=function K1(n){return n.loadsAllData()?new k_(n.getIndex()):n.hasLimit()?new mE(n):new Kh(n)}(i);this.processor_=function Ub(n){return{filter:n}}(o);const c=e.serverCache,d=e.eventCache,f=r.updateFullNode(qe.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode(qe.EMPTY_NODE,d.getNode(),null),w=new iu(f,c.isFullyInitialized(),r.filtersNodes()),E=new iu(y,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=O_(E,w),this.eventGenerator_=new nA(this.query_)}get query(){return this.query_}}function VE(n,t){const e=ru(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Xt(t)&&!e.getImmediateChild(tn(t)).isEmpty())?e.getChild(t):null}function BE(n){return 0===n.eventRegistrations_.length}function UE(n,t,e){const i=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function HE(n,t,e,i){t.type===vo.MERGE&&null!==t.source.queryId&&((0,P.hu)(ru(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(N_(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function kE(n,t,e,i,r){const o=new AE;let c,d;if(e.type===vo.OVERWRITE){const y=e;y.source.fromUser?c=RE(n,t,y.path,y.snap,i,r,o):((0,P.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!Xt(y.path),c=U_(n,t,y.path,y.snap,i,r,d,o))}else if(e.type===vo.MERGE){const y=e;y.source.fromUser?c=function Gb(n,t,e,i,r,o,c){let d=t;return i.foreach((f,y)=>{const w=ti(e,f);zb(t,tn(w))&&(d=RE(n,d,w,y,r,o,c))}),i.foreach((f,y)=>{const w=ti(e,f);zb(t,tn(w))||(d=RE(n,d,w,y,r,o,c))}),d}(n,t,y.path,y.children,i,r,o):((0,P.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=Jf(n,t,y.path,y.children,i,r,d,o))}else if(e.type===vo.ACK_USER_WRITE){const y=e;c=y.revert?function $b(n,t,e,i,r,o){let c;if(null!=L_(i,e))return t;{const d=new Bb(i,t,r),f=t.eventCache.getNode();let y;if(Xt(e)||".priority"===tn(e)){let w;if(t.serverCache.isFullyInitialized())w=F_(i,ru(t));else{const E=t.serverCache.getNode();(0,P.hu)(E instanceof qe,"serverChildren would be complete if leaf node"),w=Pb(i,E)}y=n.filter.updateFullNode(f,w,o)}else{const w=tn(e);let E=Lb(i,w,t.serverCache);null==E&&t.serverCache.isCompleteForChild(w)&&(E=f.getImmediateChild(w)),y=null!=E?n.filter.updateChild(f,w,E,Pn(e),d,o):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(f,w,qe.EMPTY_NODE,Pn(e),d,o):f,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=F_(i,ru(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=L_(i,mn()),Yf(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function yA(n,t,e,i,r,o,c){if(null!=L_(r,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(Xt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return U_(n,t,e,f.getNode().getChild(e),r,o,d,c);if(Xt(e)){let y=new Sn(null);return f.getNode().forEachChild(Xa,(w,E)=>{y=y.set(new dn(w),E)}),Jf(n,t,e,y,r,o,d,c)}return t}{let y=new Sn(null);return i.foreach((w,E)=>{const M=ti(e,w);f.isCompleteForPath(M)&&(y=y.set(w,f.getNode().getChild(M)))}),Jf(n,t,e,y,r,o,d,c)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==vo.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);c=function NE(n,t,e,i,r){const o=t.serverCache;return Hb(n,sA(t,o.getNode(),o.isFullyInitialized()||Xt(e),o.isFiltered()),e,i,ME,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function Qh(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=N_(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(pi(N_(t)))}}(t,c,f),{viewCache:c,changes:f}}(n.processor_,r,t,e,i);return function _A(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,P.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,bA(n,o.changes,o.viewCache.eventCache.getNode(),null)}function bA(n,t,e,i){return function CE(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function W1(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),Wl(n,r,"child_removed",t,i,e),Wl(n,r,"child_added",t,i,e),Wl(n,r,"child_moved",o,i,e),Wl(n,r,"child_changed",t,i,e),Wl(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Xf,eg;class GE{constructor(){this.views=new Map}}function jb(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,P.hu)(null!=o,"SyncTree gave us an op for an invalid query."),HE(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(HE(c,t,e,i));return o}}function qb(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=F_(e,r?i:null),f=!1;d?f=!0:i instanceof qe?(d=Pb(e,i),f=!1):(d=qe.EMPTY_NODE,f=!1);const y=O_(new iu(d,f,!1),new iu(i,r,!1));return new PE(t,y)}return c}function Wb(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Kl(n,t){let e=null;for(const i of n.views.values())e=e||VE(i,t);return e}function Kb(n,t){return t._queryParams.loadsAllData()?H_(n):n.views.get(t._queryIdentifier)}function Zb(n,t){return null!=Kb(n,t)}function Zl(n){return null!=H_(n)}function H_(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let WE=1;class Qb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Sn(null),this.pendingWriteTree_=function xE(){return{visibleWrites:ra.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function z_(n,t,e,i,r){return function aA(n,t,e,i,r){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Zh(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Yr(n,new nu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ql(n,t,e=!1){const i=function Nb(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function cA(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&EE(d,i.path)?r=!1:Gs(i.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function uA(n){n.visibleWrites=SE(n.allWrites,dA,mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Mb(n.visibleWrites,i.path):Vi(i.children,f=>{n.visibleWrites=Mb(n.visibleWrites,ti(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new Sn(null);return null!=i.snap?o=o.set(mn(),!0):Vi(i.children,c=>{o=o.set(new dn(c),!0)}),Yr(n,new Db(i.path,o,e))}return[]}function ng(n,t,e){return Yr(n,new nu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function G_(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let d=[];if(c&&("default"===t._queryIdentifier||Zb(c,t))){const f=function jE(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const d=Zl(n);if("default"===r)for(const[f,y]of n.views.entries())c=c.concat(UE(y,e,i)),BE(y)&&(n.views.delete(f),y.query._queryParams.loadsAllData()||o.push(y.query));else{const f=n.views.get(r);f&&(c=c.concat(UE(f,e,i)),BE(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!Zl(n)&&o.push(new(function pP(){return(0,P.hu)(Xf,"Reference.ts has not been loaded"),Xf}())(t._repo,t._path)),{removed:o,events:c}}(c,t,e,i);(function CA(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const y=f.removed;if(d=f.events,!r){const w=-1!==y.findIndex(M=>M._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(o,(M,O)=>Zl(O));if(w&&!E){const M=n.syncPointTree_.subtree(o);if(!M.isEmpty()){const O=function EA(n){return n.fold((t,e,i)=>{if(e&&Zl(e))return[H_(e)];{let r=[];return e&&(r=Wb(e)),Vi(i,(o,c)=>{r=r.concat(c)}),r}})}(M);for(let F=0;F<O.length;++F){const z=O[F],W=z.query,Ee=Yh(n,z);n.listenProvider_.startListening(rg(W),ig(n,W),Ee.hashFn,Ee.onComplete)}}}!E&&y.length>0&&!i&&(w?n.listenProvider_.stopListening(rg(t),null):y.forEach(M=>{const O=n.queryToTagMap.get(q_(M));n.listenProvider_.stopListening(rg(M),O)}))}!function XE(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=q_(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,y)}return d}function YE(n,t,e,i){const r=Jb(n,i);if(null!=r){const o=Jh(r),c=o.path,d=o.queryId,f=ur(c,t);return Xh(n,c,new nu(wE(d),f,e))}return[]}function Pd(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,O)=>{const F=ur(M,r);o=o||Kl(O,F),c=c||Zl(O)});let f,d=n.syncPointTree_.get(r);d?(c=c||Zl(d),o=o||Kl(d,mn())):(d=new GE,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=o?f=!0:(f=!1,o=qe.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((O,F)=>{const z=Kl(F,mn());z&&(o=o.updateImmediateChild(O,z))}));const y=Zb(d,t);if(!y&&!t._queryParams.loadsAllData()){const M=q_(t);(0,P.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const O=function eS(){return WE++}();n.queryToTagMap.set(M,O),n.tagToQueryMap.set(O,M)}let E=function $E(n,t,e,i,r,o){const c=qb(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function vA(n,t){n.eventRegistrations_.push(t)}(c,e),function zE(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Qn,(o,c)=>{i.push(Kf(o,c))}),e.isFullyInitialized()&&i.push(pi(e.getNode())),bA(n,i,e.getNode(),t)}(c,e)}(d,t,e,P_(n.pendingWriteTree_,r),o,f);if(!y&&!c&&!i){const M=Kb(d,t);E=E.concat(function Xb(n,t,e){const i=t._path,r=ig(n,t),o=Yh(n,e),c=n.listenProvider_.startListening(rg(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,P.hu)(!Zl(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((y,w,E)=>{if(!Xt(y)&&w&&Zl(w))return[H_(w).query];{let M=[];return w&&(M=M.concat(Wb(w).map(O=>O.query))),Vi(E,(O,F)=>{M=M.concat(F)}),M}});for(let y=0;y<f.length;++y){const w=f[y];n.listenProvider_.stopListening(rg(w),ig(n,w))}}return c}(n,t,M))}return E}function $_(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=Kl(d,ur(c,t));if(y)return y});return IE(r,t,o,e,!0)}function Yr(n,t){return JE(t,n.syncPointTree_,null,P_(n.pendingWriteTree_,mn()))}function JE(n,t,e,i){if(Xt(n.path))return j_(n,t,e,i);{const r=t.get(mn());null==e&&null!=r&&(e=Kl(r,mn()));let o=[];const c=tn(n.path),d=n.operationForChild(c),f=t.children.get(c);if(f&&d){const y=e?e.getImmediateChild(c):null,w=V_(i,c);o=o.concat(JE(d,f,y,w))}return r&&(o=o.concat(jb(r,n,i,e))),o}}function j_(n,t,e,i){const r=t.get(mn());null==e&&null!=r&&(e=Kl(r,mn()));let o=[];return t.children.inorderTraversal((c,d)=>{const f=e?e.getImmediateChild(c):null,y=V_(i,c),w=n.operationForChild(c);w&&(o=o.concat(j_(w,d,f,y)))}),r&&(o=o.concat(jb(r,n,i,e))),o}function Yh(n,t){const e=t.query,i=ig(n,e);return{hashFn:()=>(function FE(n){return n.viewCache_.serverCache.getNode()}(t)||qe.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function QE(n,t,e){const i=Jb(n,e);if(i){const r=Jh(i),o=r.path,c=r.queryId,d=ur(o,t);return Xh(n,o,new R_(wE(c),d))}return[]}(n,e._path,i):function ZE(n,t){return Yr(n,new R_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function a_(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return G_(n,e,null,o)}}}}function ig(n,t){const e=q_(t);return n.queryToTagMap.get(e)}function q_(n){return n._path.toString()+"$"+n._queryIdentifier}function Jb(n,t){return n.tagToQueryMap.get(t)}function Jh(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new dn(n.substr(0,t))}}function Xh(n,t,e){const i=n.syncPointTree_.get(t);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),jb(i,e,P_(n.pendingWriteTree_,t),null)}function rg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function qE(){return(0,P.hu)(eg,"Reference.ts has not been loaded"),eg}())(n._repo,n._path):n}class W_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new W_(e)}node(){return this.node_}}class sg{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ti(this.path_,t);return new sg(this.syncTree_,e)}node(){return $_(this.syncTree_,this.path_)}}const tw=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?nw(n[".sv"],t,e):"object"==typeof n[".sv"]?iw(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},nw=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},iw=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,P.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},tS=function(n,t,e,i){return sw(t,new sg(e,n),i)},rw=function(n,t,e){return sw(n,new W_(t),e)};function sw(n,t,e){const i=n.getPriority().val(),r=tw(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,d=tw(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new Ad(d,Fn(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Ad(r))),c.forEachChild(Qn,(d,f)=>{const y=sw(f,t.getImmediateChild(d),e);y!==f&&(o=o.updateImmediateChild(d,y))}),o}}class ow{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function og(n,t){let e=t instanceof dn?t:new dn(t),i=n,r=tn(e);for(;null!==r;){const o=(0,P.DV)(i.node.children,r)||{children:{},childCount:0};i=new ow(r,i,o),e=Pn(e),r=tn(e)}return i}function Yl(n){return n.node.value}function K_(n,t){n.node.value=t,lw(n)}function aw(n){return n.node.childCount>0}function ag(n,t){Vi(n.node.children,(e,i)=>{t(new ow(e,n,i))})}function iS(n,t,e,i){e&&!i&&t(n),ag(n,r=>{iS(r,t,!0,i)}),e&&i&&t(n)}function ep(n){return new dn(null===n.parent?n.name:ep(n.parent)+"/"+n.name)}function lw(n){null!==n.parent&&function sS(n,t,e){const i=function nS(n){return void 0===Yl(n)&&!aw(n)}(e),r=(0,P.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,lw(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,lw(n))}(n.parent,n.name,n)}const oS=/[\[\].#$\/\u0000-\u001F\u007F]/,Jr=/[\[\].#$\u0000-\u001F\u007F]/,ou=10485760,Z_=function(n){return"string"==typeof n&&0!==n.length&&!oS.test(n)},aS=function(n){return"string"==typeof n&&0!==n.length&&!Jr.test(n)},Q_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Hf(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},sa=function(n,t,e,i){i&&void 0===t||tp((0,P.gK)(n,"value"),t,e)},tp=function(n,t,e){const i=e instanceof dn?new oE(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+eu(i));if("function"==typeof t)throw new Error(n+"contains a function "+eu(i)+" with contents = "+t.toString());if(Hf(t))throw new Error(n+"contains "+t.toString()+" "+eu(i));if("string"==typeof t&&t.length>ou/3&&(0,P.ug)(t)>ou)throw new Error(n+"contains a string greater than "+ou+" utf8 bytes "+eu(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Vi(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!Z_(c)))throw new Error(n+" contains an invalid key ("+c+") "+eu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function aE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),hb(n)})(i,c),tp(n,d,i),function lE(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+eu(i)+" in addition to actual children.")}},lS=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Vi(t,(c,d)=>{const f=new dn(c);if(tp(r,d,ti(e,f)),".priority"===w_(f)&&!Q_(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=jf(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!Z_(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(db);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Gs(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},cg=function(n,t,e){if(!e||void 0!==t){if(Hf(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Q_(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ug=function(n,t,e,i){if(!(i&&void 0===e||Z_(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},np=function(n,t,e,i){if(!(i&&void 0===e||aS(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bo=function(n,t){if(".info"===tn(t))throw new Error(n+" failed = Can't modify data under /.info/")},cS=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Z_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),aS(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dg(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!T_(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function uw(n,t,e){dg(n,e),Y_(n,i=>T_(i,t))}function Nr(n,t,e){dg(n,e),Y_(n,i=>Gs(i,t)||Gs(t,i))}function Y_(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(mP(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function mP(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();go&&hi("event: "+e.toString()),Qc(i)}}}const dw="repo_interrupt";class uS{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tu(),this.transactionQueueTree_=new ow,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dS(n){const e=n.infoData_.getNode(new dn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function rp(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:dS(n)})}function J_(n,t,e,i,r){n.dataUpdateCount++;const o=new dn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const f=(0,P.UI)(e,y=>Fn(y));c=function TA(n,t,e,i){const r=Jb(n,i);if(r){const o=Jh(r),c=o.path,d=o.queryId,f=ur(c,t),y=Sn.fromObject(e);return Xh(n,c,new ql(wE(d),f,y))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=Fn(e);c=YE(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,P.UI)(e,y=>Fn(y));c=function fP(n,t,e){const i=Sn.fromObject(e);return Yr(n,new ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=Fn(e);c=ng(n.serverSyncTree_,o,f)}let d=o;c.length>0&&(d=Ld(n,o)),Nr(n.eventQueue_,d,c)}function DA(n,t){hS(n,"connected",t),!1===t&&function fS(n){Fd(n,"onDisconnectEvents");const t=rp(n),e=tu();Eb(n.onDisconnect_,mn(),(r,o)=>{const c=tS(r,o,n.serverSyncTree_,t);tl(e,r,c)});let i=[];Eb(e,mn(),(r,o)=>{i=i.concat(ng(n.serverSyncTree_,r,o));const c=vS(n,r);Ld(n,c)}),n.onDisconnect_=tu(),Nr(n.eventQueue_,mn(),i)}(n)}function hS(n,t,e){const i=new dn("/.info/"+t),r=Fn(e);n.infoData_.updateSnapshot(i,r);const o=ng(n.infoSyncTree_,i,r);Nr(n.eventQueue_,i,o)}function X_(n){return n.nextWriteId_++}function hw(n,t,e,i,r){Fd(n,"set",{path:t.toString(),value:e,priority:i});const o=rp(n),c=Fn(e,i),d=$_(n.serverSyncTree_,t),f=rw(c,d,o),y=X_(n),w=z_(n.serverSyncTree_,t,f,y,!0);dg(n.eventQueue_,w),n.server_.put(t.toString(),c.val(!0),(M,O)=>{const F="ok"===M;F||Tr("set at "+t+" failed: "+M);const z=Ql(n.serverSyncTree_,y,!F);Nr(n.eventQueue_,t,z),Jl(0,r,M,O)});const E=vS(n,t);Ld(n,E),Nr(n.eventQueue_,E,[])}function MA(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Tb(n.onDisconnect_,t),Jl(0,e,i,r)})}function pw(n,t,e,i){const r=Fn(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&tl(n.onDisconnect_,t,r),Jl(0,i,o,c)})}function ey(n,t,e){let i;i=".info"===tn(t._path)?G_(n.infoSyncTree_,t,e):G_(n.serverSyncTree_,t,e),uw(n.eventQueue_,t._path,i)}function mS(n){n.persistentConnection_&&n.persistentConnection_.interrupt(dw)}function Fd(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),hi(e,...t)}function Jl(n,t,e,i){t&&Qc(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function fw(n,t,e){return $_(n.serverSyncTree_,t,e)||qe.EMPTY_NODE}function ty(n,t=n.transactionQueueTree_){if(t||gw(n,t),Yl(t)){const e=NA(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function _P(n,t,e){const i=e.map(y=>y.currentWriteId),r=fw(n,t,i);let o=r;const c=r.hash();for(let y=0;y<e.length;y++){const w=e[y];(0,P.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const E=ur(t,w.path);o=o.updateChild(E,w.currentOutputSnapshotRaw)}const d=o.val(!0),f=t;n.server_.put(f.toString(),d,y=>{Fd(n,"transaction put response",{path:f.toString(),status:y});let w=[];if("ok"===y){const E=[];for(let M=0;M<e.length;M++)e[M].status=2,w=w.concat(Ql(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&E.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();gw(n,og(n.transactionQueueTree_,t)),ty(n,n.transactionQueueTree_),Nr(n.eventQueue_,t,w);for(let M=0;M<E.length;M++)Qc(E[M])}else{if("datastale"===y)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{Tr("transaction at "+f.toString()+" failed: "+y);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=y}Ld(n,t)}},c)}(n,ep(t),e)}else aw(t)&&ag(t,e=>{ty(n,e)})}function Ld(n,t){const e=OA(n,t),i=ep(e);return function yP(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],y=ur(e,f.path);let E,w=!1;if((0,P.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)w=!0,E=f.abortReason,r=r.concat(Ql(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)w=!0,E="maxretry",r=r.concat(Ql(n.serverSyncTree_,f.currentWriteId,!0));else{const M=fw(n,f.path,c);f.currentInputSnapshot=M;const O=t[d].update(M.val());if(void 0!==O){tp("transaction failed: Data returned ",O,f.path);let F=Fn(O);"object"==typeof O&&null!=O&&(0,P.r3)(O,".priority")||(F=F.updatePriority(M.getPriority()));const W=f.currentWriteId,Ee=rp(n),Le=rw(F,M,Ee);f.currentOutputSnapshotRaw=F,f.currentOutputSnapshotResolved=Le,f.currentWriteId=X_(n),c.splice(c.indexOf(W),1),r=r.concat(z_(n.serverSyncTree_,f.path,Le,f.currentWriteId,f.applyLocally)),r=r.concat(Ql(n.serverSyncTree_,W,!0))}else w=!0,E="nodata",r=r.concat(Ql(n.serverSyncTree_,f.currentWriteId,!0))}Nr(n.eventQueue_,e,r),r=[],w&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}gw(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Qc(i[d]);ty(n,n.transactionQueueTree_)}(n,NA(n,e),i),i}function OA(n,t){let e,i=n.transactionQueueTree_;for(e=tn(t);null!==e&&void 0===Yl(i);)i=og(i,e),e=tn(t=Pn(t));return i}function NA(n,t){const e=[];return PA(n,t,e),e.sort((i,r)=>i.order-r.order),e}function PA(n,t,e){const i=Yl(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);ag(t,r=>{PA(n,r,e)})}function gw(n,t){const e=Yl(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,K_(t,e.length>0?e:void 0)}ag(t,i=>{gw(n,i)})}function vS(n,t){const e=ep(OA(n,t)),i=og(n.transactionQueueTree_,t);return function rS(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{bS(n,r)}),bS(n,i),iS(i,r=>{bS(n,r)}),e}function bS(n,t){const e=Yl(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,P.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,P.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Ql(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?K_(t,void 0):e.length=o+1,Nr(n.eventQueue_,ep(t),r);for(let c=0;c<i.length;c++)Qc(i[c])}}const wS=function(n,t){const e=CS(n),i=e.namespace;return"firebase.com"===e.domain&&ea(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ea("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new d_(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new dn(e.pathString)}},CS=function(n){let t="",e="",i="",r="",o="",c=!0,d="https",f=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let w=n.indexOf("/");-1===w&&(w=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(w,E)),w<E&&(r=function vP(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,E)));const M=function ny(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Tr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,f=parseInt(t.substring(y+1),10)):y=t.length;const O=t.slice(0,y);if("localhost"===O.toLowerCase())e="localhost";else if(O.split(".").length<=2)e=O;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:o}},hg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TS=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=hg.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=hg.charAt(t[r]);return(0,P.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class mw{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class FA{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pg{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class _w{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return MA(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){bo("OnDisconnect.remove",this._path);const t=new P.BH;return pw(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){bo("OnDisconnect.set",this._path),sa("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return pw(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){bo("OnDisconnect.setWithPriority",this._path),sa("OnDisconnect.setWithPriority",t,this._path,!1),cg("OnDisconnect.setWithPriority",e,!1);const i=new P.BH;return function gS(n,t,e,i,r){const o=Fn(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,d)=>{"ok"===c&&tl(n.onDisconnect_,t,o),Jl(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){bo("OnDisconnect.update",this._path),lS("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function kA(n,t,e,i){if((0,P.xb)(e))return hi("onDisconnect().update() called with empty data.  Don't do anything."),void Jl(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Vi(e,(c,d)=>{const f=Fn(d);tl(n.onDisconnect_,ti(t,c),f)}),Jl(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ys{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Xt(this._path)?null:w_(this._path)}get ref(){return new wo(this._repo,this._path)}get _queryIdentifier(){const t=Cb(this._queryParams),e=Kv(t);return"{}"===e?"default":e}get _queryObject(){return Cb(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof ys))return!1;const e=this._repo===t._repo,i=T_(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function C_(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function fg(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Vd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xa){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==$l)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ja)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Qn){if(null!=t&&!Q_(t)||null!=e&&!Q_(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof vb||n.getIndex()===jh,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function iy(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class wo extends ys{constructor(t,e){super(t,e,new Zf,!1)}get parent(){const t=ub(this._path);return null===t?null:new wo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Bd{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new dn(t),i=sp(this.ref,t);return new Bd(this._node.getChild(e),i,Qn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Bd(r,sp(this.ref,i),Qn)))}hasChild(t){const e=new dn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gg(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?sp(n._root,t):n._root}function ES(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=wS(t,n._repo.repoInfo_.nodeAdmin);cS("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ea("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),gg(n,e.path.toString())}function sp(n,t){return null===tn((n=(0,P.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),np("child","path",e,!1)):np("child","path",t,!1),new wo(n._repo,ti(n._path,t));var e}function yw(n,t){n=(0,P.m9)(n),bo("set",n._path),sa("set",t,n._path,!1);const e=new P.BH;return hw(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function BA(n,t){lS("update",t,n._path,!1);const e=new P.BH;return function pS(n,t,e,i){Fd(n,"update",{path:t.toString(),value:e});let r=!0;const o=rp(n),c={};if(Vi(e,(d,f)=>{r=!1,c[d]=tS(ti(t,d),Fn(f),n.serverSyncTree_,o)}),r)hi("update() called with empty data.  Don't do anything."),Jl(0,i,"ok",void 0);else{const d=X_(n),f=function KE(n,t,e,i){!function lA(n,t,e,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Ab(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Sn.fromObject(e);return Yr(n,new ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);dg(n.eventQueue_,f),n.server_.merge(t.toString(),e,(y,w)=>{const E="ok"===y;E||Tr("update at "+t+" failed: "+y);const M=Ql(n.serverSyncTree_,d,!E),O=M.length>0?Ld(n,t):t;Nr(n.eventQueue_,O,M),Jl(0,i,y,w)}),Vi(e,y=>{const w=vS(n,ti(t,y));Ld(n,w)}),Nr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function SS(n){n=(0,P.m9)(n);const t=new pg(()=>{}),e=new op(t);return function AA(n,t,e){const i=function Yb(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,w)=>{const E=ur(y,e);i=i||Kl(w,E)});let r=n.syncPointTree_.get(e);r?i=i||Kl(r,mn()):(r=new GE,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new iu(i,!0,!1):null;return function LE(n){return N_(n.viewCache_)}(qb(r,t,P_(n.pendingWriteTree_,t._path),o?c.getNode():qe.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Fn(r).withIndex(t._queryParams.getIndex());let c;if(Pd(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=ng(n.serverSyncTree_,t._path,o);else{const d=ig(n.serverSyncTree_,t);c=YE(n.serverSyncTree_,t._path,o,d)}return Nr(n.eventQueue_,t._path,c),G_(n.serverSyncTree_,t,e,null,!0),o},r=>(Fd(n,"get for query "+(0,P.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Bd(i,new wo(n._repo,n._path),n._queryParams.getIndex()))}class op{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new mw("value",this,new Bd(t.snapshotNode,new wo(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new FA(this,t,e):null}matches(t){return t instanceof op&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vw{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new FA(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const i=sp(new wo(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new mw(t.type,this,new Bd(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof vw&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xr(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,y=(w,E)=>{ey(n._repo,n,d),f(w,E)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new pg(e,o||void 0),d="value"===t?new op(c):new vw(t,c);return function RA(n,t,e){let i;i=".info"===tn(t._path)?Pd(n.infoSyncTree_,t,e):Pd(n.serverSyncTree_,t,e),uw(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>ey(n._repo,n,d)}function bw(n,t,e,i){return Xr(n,"value",t,e,i)}function ry(n,t,e,i){return Xr(n,"child_added",t,e,i)}function IS(n,t,e,i){return Xr(n,"child_changed",t,e,i)}function UA(n,t,e,i){return Xr(n,"child_moved",t,e,i)}function $s(n,t,e,i){return Xr(n,"child_removed",t,e,i)}function DS(n,t,e){let i=null;const r=e?new pg(e):null;"value"===t?i=new op(r):t&&(i=new vw(t,r)),ey(n._repo,n,i)}class js{}class xS extends js{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sa("endAt",this._value,t._path,!0);const e=bb(t._queryParams,this._value,this._key);if(iy(e),Vd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ys(t._repo,t._path,e,t._orderByCalled)}}class ww extends js{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sa("endBefore",this._value,t._path,!1);const e=function J1(n,t,e){let i;return i=bb(n,t,n.index_===Xa||e?e:$l),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(iy(e),Vd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ys(t._repo,t._path,e,t._orderByCalled)}}class Cw extends js{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sa("startAt",this._value,t._path,!0);const e=Rd(t._queryParams,this._value,this._key);if(iy(e),Vd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ys(t._repo,t._path,e,t._orderByCalled)}}class MS extends js{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sa("startAfter",this._value,t._path,!1);const e=function Y1(n,t,e){let i;return i=Rd(n,t,n.index_===Xa||e?e:Ja),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(iy(e),Vd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ys(t._repo,t._path,e,t._orderByCalled)}}class GA extends js{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ys(t._repo,t._path,function Z1(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class $A extends js{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ys(t._repo,t._path,function Q1(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class au extends js{constructor(t){super(),this._path=t}_apply(t){fg(t,"orderByChild");const e=new dn(this._path);if(Xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new vb(e),r=Od(t._queryParams,i);return Vd(r),new ys(t._repo,t._path,r,!0)}}class Ew extends js{_apply(t){fg(t,"orderByKey");const e=Od(t._queryParams,Xa);return Vd(e),new ys(t._repo,t._path,e,!0)}}class jA extends js{_apply(t){fg(t,"orderByPriority");const e=Od(t._queryParams,Qn);return Vd(e),new ys(t._repo,t._path,e,!0)}}class qA extends js{_apply(t){fg(t,"orderByValue");const e=Od(t._queryParams,jh);return Vd(e),new ys(t._repo,t._path,e,!0)}}class KA extends js{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(sa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xS(this._value,this._key)._apply(new Cw(this._value,this._key)._apply(t))}}function Co(n,...t){let e=(0,P.m9)(n);for(const i of t)e=i._apply(e);return e}(function wA(n){(0,P.hu)(!Xf,"__referenceConstructor has already been defined"),Xf=n})(wo),function tg(n){(0,P.hu)(!eg,"__referenceConstructor has already been defined"),eg=n}(wo);const sy={};function QA(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ea("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hi("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,y,c=wS(o,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(f=!0,o=`http://${y}?ns=${d.namespace}`,c=wS(o,r),d=c.repoInfo):f=!c.repoInfo.secure;const w=r&&f?new Dd(Dd.OWNER):new zT(n.name,n.options,t);cS("Invalid Firebase Database URL",c),Xt(c.path)||ea("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function FS(n,t,e,i){let r=sy[t.name];r||(r={},sy[t.name]=r);let o=r[n.toURLString()];return o&&ea("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uS(n,false,e,i),r[n.toURLString()]=o,o}(d,n,w,new HT(n.name,e));return new VS(E,n)}class VS{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ip(n,t,e){if(n.stats_=f_(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Qf(n.repoInfo_,(i,r,o,c)=>{J_(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>DA(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new xd(n.repoInfo_,t,(i,r,o,c)=>{J_(n,i,r,o,c)},i=>{DA(n,i)},i=>{!function xA(n,t){Vi(t,(e,i)=>{hS(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function WT(n,t){const e=n.toString();return p_[e]||(p_[e]=t()),p_[e]}(n.repoInfo_,()=>new vE(n.stats_,n.server_)),n.infoData_=new X1,n.infoSyncTree_=new Qb({startListening:(i,r,o,c)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=ng(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),hS(n,"connected",!1),n.serverSyncTree_=new Qb({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(d,f)=>{const y=c(d,f);Nr(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wo(this._repo,mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Sw(n,t){const e=sy[t];(!e||e[n.key]!==n)&&ea(`Database ${t}(${n.repoInfo_}) has already been deleted.`),mS(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ea("Cannot call "+t+" on a deleted database.")}}function Iw(){JT.IS_TRANSPORT_INITIALIZED&&Tr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function BS(){Iw(),Jc.forceDisallow()}function oy(){Iw(),ta.forceDisallow(),Jc.forceAllow()}function EP(n,t){Ed(n,t)}const IP={".sv":"timestamp"};class eM{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}xd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},xd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function SP(n){Cr(Qr.SDK_VERSION),(0,Qr._registerComponent)(new Qa.wA("database",(t,{instanceIdentifier:e})=>QA(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Qr.registerVersion)(LT,"0.14.3",n),(0,Qr.registerVersion)(LT,"0.14.3","esm2017")}();const AP=new Hs.Yd("@firebase/database-compat"),HS=function(n){AP.warn("FIREBASE WARNING: "+n)};class iM{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,HS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class zS{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vs{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),np("DataSnapshot.child","path",t,!1),new vs(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),np("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new vs(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new es(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class dr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const c=dr.getCancelAndContextArgs_("Query.on",i,r),d=(y,w)=>{e.call(c.context,new vs(this.database,y),w)};d.userCallback=e,d.context=c.context;const f=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return bw(this._delegate,d,f),e;case"child_added":return ry(this._delegate,d,f),e;case"child_removed":return $s(this._delegate,d,f),e;case"child_changed":return IS(this._delegate,d,f),e;case"child_moved":return UA(this._delegate,d,f),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,DS(this._delegate,t,r)}else DS(this._delegate,t)}get(){return SS(this._delegate).then(t=>new vs(this.database,t))}once(t,e,i,r){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const o=dr.getCancelAndContextArgs_("Query.once",i,r),c=new P.BH,d=(y,w)=>{const E=new vs(this.database,y);e&&e.call(o.context,E,w),c.resolve(E)};d.userCallback=e,d.context=o.context;const f=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(t){case"value":bw(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":ry(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":$s(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":IS(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":UA(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new dr(this.database,Co(this._delegate,function RS(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new GA(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new dr(this.database,Co(this._delegate,function Tw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $A(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new dr(this.database,Co(this._delegate,function OS(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return np("orderByChild","path",n,!1),new au(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new dr(this.database,Co(this._delegate,function Xl(){return new Ew}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new dr(this.database,Co(this._delegate,function CP(){return new jA}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new dr(this.database,Co(this._delegate,function WA(){return new qA}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new dr(this.database,Co(this._delegate,function zA(n=null,t){return ug("startAt","key",t,!0),new Cw(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new dr(this.database,Co(this._delegate,function kS(n,t){return ug("startAfter","key",t,!0),new MS(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new dr(this.database,Co(this._delegate,function HA(n,t){return ug("endAt","key",t,!0),new xS(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new dr(this.database,Co(this._delegate,function AS(n,t){return ug("endBefore","key",t,!0),new ww(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new dr(this.database,Co(this._delegate,function ZA(n,t){return ug("equalTo","key",t,!0),new KA(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof dr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,P.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,P.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new es(this.database,new wo(this._delegate._repo,this._delegate._path))}}class es extends dr{constructor(t,e){super(t,new ys(e._repo,e._path,new Zf,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new es(this.database,sp(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new es(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new es(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const i=yw(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,HS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bo("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const i=BA(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function wP(n,t,e){if(bo("setWithPriority",n._path),sa("setWithPriority",t,n._path,!1),cg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return hw(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function LA(n){return bo("remove",n._path),yw(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function tM(n,t,e){var i;if(n=(0,P.m9)(n),bo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new P.BH,d=bw(n,()=>{});return function yS(n,t,e,i,r,o){Fd(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:wd(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=fw(n,t,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{tp("transaction failed: Data returned ",f,c.path),c.status=0;const y=og(n.transactionQueueTree_,t),w=Yl(y)||[];let E;w.push(c),K_(y,w),"object"==typeof f&&null!==f&&(0,P.r3)(f,".priority")?(E=(0,P.DV)(f,".priority"),(0,P.hu)(Q_(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=($_(n.serverSyncTree_,t)||qe.EMPTY_NODE).getPriority().val();const M=rp(n),O=Fn(f,E),F=rw(O,d,M);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=F,c.currentWriteId=X_(n);const z=z_(n.serverSyncTree_,t,F,c.currentWriteId,c.applyLocally);Nr(n.eventQueue_,t,z),ty(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,y,w)=>{let E=null;f?o.reject(f):(E=new Bd(w,new wo(n._repo,n._path),Qn),o.resolve(new eM(y,E)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new zS(o.committed,new vs(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const i=function VA(n,t){n=(0,P.m9)(n),bo("setPriority",n._path),cg("setPriority",t,!1);const e=new P.BH;return hw(n._repo,ti(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const i=function bP(n,t){n=(0,P.m9)(n),bo("push",n._path),sa("push",t,n._path,!0);const e=dS(n._repo),i=TS(e),r=sp(n,i),o=sp(n,i);let c;return c=null!=t?yw(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new es(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new es(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return bo("Reference.onDisconnect",this._delegate._path),new iM(new _w(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ud{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:BS,forceLongPolling:oy}}useEmulator(t,e,i={}){!function xw(n,t,e,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ea("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ea('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Dd(Dd.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);o=new Dd(c)}!function PS(n,t,e,i){n.repoInfo_=new d_(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof es){const e=ES(this._delegate,t.toString());return new es(this,e)}{const e=gg(this._delegate,t);return new es(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=ES(this._delegate,t);return new es(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function YA(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),mS(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function JA(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function _S(n){n.persistentConnection_&&n.persistentConnection_.resume(dw)}(n._repo)}(this._delegate)}}Ud.ServerValue={TIMESTAMP:function US(){return IP}(),increment:n=>function XA(n){return{".sv":{increment:n}}}(n)};var Aw=Object.freeze({__proto__:null,initStandalone:function rM({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){Cr(e);const c=new Qa.zt("auth-internal",new Qa.H0("database-standalone"));return c.setComponent(new Qa.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Ud(QA(n,c,void 0,t,o),n),namespace:r}}});const Mw=Ud.ServerValue;!function ly(n){n.INTERNAL.registerComponent(new Qa.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Ud(r,i)},"PUBLIC").setServiceProps({Reference:es,Query:dr,Database:Ud,DataSnapshot:vs,enableLogging:EP,INTERNAL:Aw,ServerValue:Mw}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.3")}(zl.Z);var kw=V(5363),MP=V(6063);class kP extends Zn.x{constructor(t=1/0,e=1/0,i=MP.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let d=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)d=f;d&&i.splice(0,d+1)}}}function sM(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,OT.B)({connector:()=>new kP(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Rw(n,t){return(0,rd.m)(t)?di(()=>n,t):di(()=>n)}var Ow=V(9468);V(259);const Pw=new Map,WS={activated:!1,tokenObservers:[]},LP={initialized:!1,enabled:!1};function Pr(n){return Pw.get(n)||Object.assign({},WS)}function Fw(){return LP}class zP{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ge.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function GP(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const l=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function h(n){if(!Pr(n).activated)throw l.create("use-before-activation",{appName:n.name})}function b(n,t){return T.apply(this,arguments)}function T(){return(T=(0,ge.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const E=yield r.getHeartbeatsHeader();E&&(i["X-Firebase-Client"]=E)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,o)}catch(E){throw l.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==c.status)throw l.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(E){throw l.create("fetch-parse-error",{originalErrorMessage:E?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw l.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const y=1e3*Number(f[1]),w=Date.now();return{token:d.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}})).apply(this,arguments)}function R(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const ne="firebase-app-check-store";let ze=null;function it(){return ze||(ze=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(l.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ne,{keyPath:"compositeKey"})}}catch(e){t(l.create("storage-open",{originalErrorMessage:e?.message}))}}),ze)}function fi(){return(fi=(0,ge.Z)(function*(n,t){const i=(yield it()).transaction(ne,"readwrite"),o=i.objectStore(ne).put({compositeKey:n,value:t});return new Promise((c,d)=>{o.onsuccess=f=>{c()},i.onerror=f=>{var y;d(l.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Lw=new Hs.Yd("@firebase/app-check");function fM(n,t){return(0,P.hl)()?function Ft(n,t){return function ni(n,t){return fi.apply(this,arguments)}(function $P(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Lw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function jP(){return Fw().enabled}function qP(){return mM.apply(this,arguments)}function mM(){return(mM=(0,ge.Z)(function*(){const n=Fw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xz={error:"UNKNOWN_ERROR"};function Az(n){return P.US.encodeString(JSON.stringify(n),!1)}function ZS(n){return _M.apply(this,arguments)}function _M(){return(_M=(0,ge.Z)(function*(n,t=!1){const e=n.app;h(e);const i=Pr(e);let o,r=i.token;if(r&&!dy(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(dy(f)?r=f:yield fM(e,void 0))}if(!t&&r&&dy(r))return{token:r.token};let d,c=!1;if(jP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=b(R(e,yield qP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const f=yield i.exchangeTokenPromise;return yield fM(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Pr(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Lw.warn(f.message):Lw.error(f),o=f}return r?o?d=dy(r)?{token:r.token,internalError:o}:ZP(o):(d={token:r.token},i.token=r,yield fM(e,r)):d=ZP(o),c&&KP(e,d),d})).apply(this,arguments)}function vM(n,t){const e=Pr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function WP(n){const{app:t}=n,e=Pr(t);let i=e.tokenRefresher;i||(i=function Mz(n){const{app:t}=n;return new zP((0,ge.Z)(function*(){let i;if(i=Pr(t).token?yield ZS(n,!0):yield ZS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Pr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function KP(n,t){const e=Pr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function dy(n){return n.expireTimeMillis-Date.now()>0}function ZP(n){return{token:Az(xz),error:n}}class kz{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Pr(this.app);for(const e of t)vM(this.app,e.next);return Promise.resolve()}}const iF="app-check-internal";!function jz(){(0,Qr._registerComponent)(new Qa.wA("app-check",n=>function Rz(n,t){return new kz(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(iF).initialize()})),(0,Qr._registerComponent)(new Qa.wA(iF,n=>function Oz(n){return{getToken:t=>ZS(n,t),addTokenListener:t=>function yM(n,t,e,i){const{app:r}=n,o=Pr(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&dy(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),WP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WP(n))}(n,"INTERNAL",t),removeTokenListener:t=>vM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qr.registerVersion)("@firebase/app-check","0.6.3")}();class Vw{constructor(){return(0,En.vb)("app-check")}}typeof window<"u"&&window;var EM=V(9260);const SM=new s.OlP("angularfire2.auth.use-emulator"),IM=new s.OlP("angularfire2.auth.settings"),DM=new s.OlP("angularfire2.auth.tenant-id"),xM=new s.OlP("angularfire2.auth.langugage-code"),AM=new s.OlP("angularfire2.auth.use-device-language"),MM=new s.OlP("angularfire.auth.persistence"),kM=(n,t,e,i,r,o,c,d)=>(0,Li.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),c)for(const[y,w]of Object.entries(c))f.settings[y]=w;return d&&f.setPersistence(d),f},[e,i,r,o,c,d]);let RM=(()=>{class n{constructor(e,i,r,o,c,d,f,y,w,E,M,O){const F=new Zn.x,z=ke(void 0).pipe((0,kw.Q)(c.outsideAngular),di(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,407)))),(0,bt.U)(()=>(0,Li.on)(e,o,i)),(0,bt.U)(W=>kM(W,o,d,y,w,E,f,M)),sM({bufferSize:1,refCount:!1}));if(ic(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ke(null);else{z.pipe(Os()).subscribe();const Ee=z.pipe(di(Ve=>Ve.getRedirectResult().then(ut=>ut,()=>null)),En.iC,sM({bufferSize:1,refCount:!1})),Le=z.pipe(di(Ve=>new cr.y(ut=>({unsubscribe:o.runOutsideAngular(()=>Ve.onAuthStateChanged(pt=>ut.next(pt),pt=>ut.error(pt),()=>ut.complete()))})))),Pe=z.pipe(di(Ve=>new cr.y(ut=>({unsubscribe:o.runOutsideAngular(()=>Ve.onIdTokenChanged(pt=>ut.next(pt),pt=>ut.error(pt),()=>ut.complete()))}))));this.authState=Ee.pipe(Rw(Le),(0,Ow.R)(c.outsideAngular),(0,kw.Q)(c.insideAngular)),this.user=Ee.pipe(Rw(Pe),(0,Ow.R)(c.outsideAngular),(0,kw.Q)(c.insideAngular)),this.idToken=this.user.pipe(di(Ve=>Ve?(0,We.D)(Ve.getIdToken()):ke(null))),this.idTokenResult=this.user.pipe(di(Ve=>Ve?(0,We.D)(Ve.getIdTokenResult()):ke(null))),this.credential=(0,qv.T)(Ee,F,this.authState.pipe(ps(Ve=>!Ve))).pipe((0,bt.U)(Ve=>Ve?.user?Ve:null),(0,Ow.R)(c.outsideAngular),(0,kw.Q)(c.insideAngular))}return(0,Li.pX)(this,z,o,{spy:{apply:(W,Ee,Le)=>{(W.startsWith("signIn")||W.startsWith("createUser"))&&Le.then(Pe=>F.next(Pe))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Li.Dh),s.LFG(Li.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(En.HU),s.LFG(SM,8),s.LFG(IM,8),s.LFG(DM,8),s.LFG(xM,8),s.LFG(AM,8),s.LFG(MM,8),s.LFG(Vw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function sF(n){return null==n}function oF(n){return"function"==typeof n.set}function aF(n,t){return oF(t)?t:n.ref(t)}function lF(n,t){if(function Yz(n){return"string"==typeof n}(n))return t.stringCase();if(oF(n))return t.firebaseCase();if(function Jz(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Bw(n,t,e="on",i=Ff.z){return new cr.y(r=>{let o=null;return o=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,bt.U)(r=>{const{snapshot:o,prevKey:c}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:c,key:d}}),(0,OT.B)())}function cF(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function t6(n,t){const{payload:e,prevKey:i,key:r}=t,o=cF(n,r),c=function e6(n,t){if(sF(t))return 0;{const e=cF(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const y={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function uF(n){return(sF(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function dF(n,t,e){return function Xz(n,t,e){return Bw(n,"value","once",e).pipe(di(i=>{const r=[ke(i)];return t.forEach(o=>r.push(Bw(n,o,"on",e))),(0,qv.T)(...r).pipe(oi(t6,[]))}),NT())}(n,t=uF(t),e)}function hF(n,t,e){const i=(t=uF(t)).map(r=>Bw(n,r,"on",e));return(0,qv.T)(...i)}function pF(n,t){return function(i,r){return lF(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function o6(n){return function(e){return e?lF(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function fF(n,t){return function(){return Bw(n,"value","on",t)}}const c6=new s.OlP("angularfire2.realtimeDatabaseURL"),u6=new s.OlP("angularfire2.database.use-emulator");let YS=(()=>{class n{constructor(e,i,r,o,c,d,f,y,w,E,M,O,F,z,W){this.schedulers=d;const Ee=f,Le=(0,Li.on)(e,c,i);y&&kM(Le,c,w,M,O,F,E,z),this.database=(0,Li.cc)(`${Le.name}.database.${r}`,"AngularFireDatabase",Le.name,()=>{const Pe=c.runOutsideAngular(()=>Le.database(r||void 0));return Ee&&Pe.useEmulator(...Ee),Pe},[Ee])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>aF(this.database,e));let o=r;return i&&(o=i(r)),function a6(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:pF(i,"update"),set:pF(i,"set"),push:r=>i.push(r),remove:o6(i),snapshotChanges:r=>dF(n,r,e).pipe(En.iC),stateChanges:r=>hF(n,r,e).pipe(En.iC),auditTrail:r=>function n6(n,t,e){return function s6(n,t,e){return function r6(n,t){return Bw(n,"value","on",t).pipe((0,bt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function FT(...n){const t=(0,Nt.jO)(n);return(0,bn.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,id.Xf)(n[f]).subscribe((0,kn.x)(i,y=>{o[f]=y,!d&&!c[f]&&(c[f]=!0,(d=c.every(Ml.y))&&(c=null))},Jm.Z));e.subscribe((0,kn.x)(i,f=>{if(d){const y=[f,...o];i.next(t?t(...y):y)}}))})}(t),(0,bt.U)(([r,o])=>{const c=r.lastKeyToLoad,d=o.map(f=>f.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function I1(n){return(0,bn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,kn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,bt.U)(r=>r.actions))}(n,hF(n,t).pipe(oi((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(En.iC),valueChanges:(r,o)=>dF(n,r,e).pipe((0,bt.U)(d=>d.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),En.iC)}}(o,this)}object(e){return function l6(n,t){return{query:n,snapshotChanges:()=>fF(n,t.schedulers.outsideAngular)().pipe(En.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>fF(n,t.schedulers.outsideAngular)().pipe(En.iC,(0,bt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>aF(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Li.Dh),s.LFG(Li.xv,8),s.LFG(c6,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(En.HU),s.LFG(u6,8),s.LFG(RM,8),s.LFG(SM,8),s.LFG(IM,8),s.LFG(DM,8),s.LFG(xM,8),s.LFG(AM,8),s.LFG(MM,8),s.LFG(Vw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d6=(()=>{class n{constructor(){EM.Z.registerVersion("angularfire",En.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[YS]}),n})();class mg{constructor(t){this.db=t,this.dbPath="/oracle",this.oracleList=t.list(this.dbPath)}getAll(){return this.oracleList}create(t){return this.oracleList.push(t)}update(t,e){return this.oracleList.update(t,e)}delete(t){return this.oracleList.remove(t)}deleteAll(){return this.oracleList.remove()}}mg.\u0275fac=function(t){return new(t||mg)(s.LFG(YS))},mg.\u0275prov=s.Yz7({token:mg,factory:mg.\u0275fac,providedIn:"root"});class hy{constructor(t){this.db=t,this.dbPath="/invoice",this.invoiceList=t.list(this.dbPath)}getAll(){return this.invoiceList}create(t){return this.invoiceList.push(t)}update(t,e){return this.invoiceList.update(t,e)}delete(t){return this.invoiceList.remove(t)}deleteAll(){return this.invoiceList.remove()}}hy.\u0275fac=function(t){return new(t||hy)(s.LFG(YS))},hy.\u0275prov=s.Yz7({token:hy,factory:hy.\u0275fac,providedIn:"root"});let gF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),_g=(()=>{class n extends gF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Er=new s.OlP("NgValueAccessor"),f6={provide:Er,useExisting:(0,s.Gpc)(()=>py),multi:!0},m6=new s.OlP("CompositionEventMode");let py=(()=>{class n extends gF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g6(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(m6,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([f6]),s.qOj]}),n})();const bs=new s.OlP("NgValidators"),lp=new s.OlP("NgAsyncValidators");function IF(n){return null!=n}function DF(n){return(0,s.QGY)(n)?(0,We.D)(n):n}function xF(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function AF(n,t){return t.map(e=>e(n))}function MF(n){return n.map(t=>function v6(n){return!n.validate}(t)?t:e=>t.validate(e))}function OM(n){return null!=n?function kF(n){if(!n)return null;const t=n.filter(IF);return 0==t.length?null:function(e){return xF(AF(e,t))}}(MF(n)):null}function NM(n){return null!=n?function RF(n){if(!n)return null;const t=n.filter(IF);return 0==t.length?null:function(e){return function h6(...n){const t=(0,Nt.jO)(n),{args:e,keys:i}=tf(n),r=new cr.y(o=>{const{length:c}=e;if(!c)return void o.complete();const d=new Array(c);let f=c,y=c;for(let w=0;w<c;w++){let E=!1;(0,id.Xf)(e[w]).subscribe((0,kn.x)(o,M=>{E||(E=!0,y--),d[w]=M},()=>f--,void 0,()=>{(!f||!E)&&(y||o.next(i?dm(i,d):d),o.complete())}))}});return t?r.pipe(nf(t)):r}(AF(e,t).map(DF)).pipe((0,bt.U)(xF))}}(MF(n)):null}function OF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function PM(n){return n?Array.isArray(n)?n:[n]:[]}function XS(n,t){return Array.isArray(n)?n.includes(t):n===t}function FF(n,t){const e=PM(t);return PM(n).forEach(r=>{XS(e,r)||e.push(r)}),e}function LF(n,t){return PM(t).filter(e=>!XS(n,e))}class VF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=OM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=NM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class qs extends VF{get formDirective(){return null}get path(){return null}}class cp extends VF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uw=(()=>{class n extends BF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cp,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),eI=(()=>{class n extends BF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qs,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Hw="VALID",nI="INVALID",fy="PENDING",zw="DISABLED";function BM(n){return(iI(n)?n.validators:n)||null}function UM(n,t){return(iI(t)?t.asyncValidators:n)||null}function iI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class GF{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Hw}get invalid(){return this.status===nI}get pending(){return this.status==fy}get disabled(){return this.status===zw}get enabled(){return this.status!==zw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(FF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LF(t,this._rawAsyncValidators))}hasValidator(t){return XS(this._rawValidators,t)}hasAsyncValidator(t){return XS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zw,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hw,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hw||this.status===fy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zw:Hw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fy,this._hasOwnPendingAsyncValidator=!0;const e=DF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?zw:this.errors?nI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fy)?fy:this._anyControlsHaveStatus(nI)?nI:Hw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){iI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function I6(n){return Array.isArray(n)?OM(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function D6(n){return Array.isArray(n)?NM(n):n||null}(this._rawAsyncValidators)}}class HM extends GF{constructor(t,e,i){super(BM(e),UM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function zF(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function HF(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const gy=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>rI}),rI="always";function Gw(n,t,e=rI){zM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function M6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$F(n,t)})}(n,t),function R6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function k6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$F(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function A6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function aI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zM(n,t){const e=function NF(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(OF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function PF(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(OF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();aI(t._rawValidators,r),aI(t._rawAsyncValidators,r)}function $F(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const L6={provide:qs,useExisting:(0,s.Gpc)(()=>my)},$w=(()=>Promise.resolve())();let my=(()=>{class n extends qs{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new HM({},OM(e),NM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){$w.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Gw(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){$w.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){$w.then(()=>{const i=this._findContainer(e.path),r=new HM({});(function jF(n,t){zM(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){$w.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){$w.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function qF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bs,10),s.Y36(lp,10),s.Y36(gy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([L6]),s.qOj]}),n})();function WF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function KF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ZF=class extends GF{constructor(t=null,e,i){super(BM(e),UM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=KF(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){WF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){WF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){KF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},U6={provide:cp,useExisting:(0,s.Gpc)(()=>yg)},JF=(()=>Promise.resolve())();let yg=(()=>{class n extends cp{constructor(e,i,r,o,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new ZF,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function jM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===py?e=o:function P6(n){return Object.getPrototypeOf(n.constructor)===_g}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function $M(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){JF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);JF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function sI(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qs,9),s.Y36(bs,10),s.Y36(lp,10),s.Y36(Er,10),s.Y36(s.sBO,8),s.Y36(gy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([U6]),s.qOj,s.TTD]}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const qM=new s.OlP("NgModelWithFormControlWarning");let _L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eL]}),n})(),jw=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:gy,useValue:e.callSetDisabledState??rI}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_L]}),n})(),dG=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:qM,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:gy,useValue:e.callSetDisabledState??rI}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_L]}),n})(),uI=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(yg,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();class yL{}class hG{}const Hd="*";function vL(n,t){return{type:7,name:n,definitions:t,options:{}}}function _y(n,t=null){return{type:4,styles:t,timings:n}}function bL(n,t=null){return{type:2,steps:n,options:t}}function lu(n){return{type:6,styles:n,offset:null}}function pG(n,t,e){return{type:0,name:n,styles:t,options:e}}function yy(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function wL(n,t=null){return{type:8,animation:n,options:t}}function CL(n,t=null){return{type:10,animation:n,options:t}}function TL(n){Promise.resolve().then(n)}class Ww{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?TL(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const fG=["container"],gG=["inputfield"],mG=["contentWrapper"];function _G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.clear())}),s.qZA()}}function yG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1),c=s.oxw();return s.KtG(c.onButtonClick(r,o))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function vG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputFocus(r))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onInputClick())})("blur",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputBlur(r))})("input",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUserInput(r))}),s.qZA(),s.YNc(2,_G,1,0,"i",6),s.YNc(3,yG,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function bG(n,t){1&n&&s.GkF(0)}function wG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onPrevButtonClick(r))}),s._UZ(1,"span",31),s.qZA()}}function CG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.switchToMonthView(r))})("keydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function TG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.switchToYearView(r))})("keydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function EG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function SG(n,t){1&n&&s.GkF(0)}const SL=function(n){return{$implicit:n}};function IG(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,EG,2,2,"ng-container",13),s.YNc(2,SG,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,SL,e.yearPickerValues))}}function DG(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function xG(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function AG(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function MG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function kG(n,t){1&n&&s.GkF(0)}const IL=function(n,t){return{"p-highlight":n,"p-disabled":t}};function RG(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(6);return s.KtG(c.onDateSelect(r,o))})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(3).index,d=s.oxw(3);return s.KtG(d.onDateCellKeydown(r,o,c))}),s.YNc(2,MG,2,1,"ng-container",13),s.YNc(3,kG,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,IL,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,SL,e))}}const OG=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function NG(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,RG,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,OG,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function PG(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,AG,3,1,"td",43),s.YNc(2,NG,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function FG(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,DG,3,1,"th",38),s.YNc(5,xG,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,PG,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function LG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,wG,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,CG,2,2,"button",24),s.YNc(5,TG,2,2,"button",25),s.YNc(6,IG,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onNextButtonClick(r))}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,FG,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}function VG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const c=s.CHM(e).index,d=s.oxw(4);return s.KtG(d.onMonthSelect(r,c))})("keydown",function(r){const c=s.CHM(e).index,d=s.oxw(4);return s.KtG(d.onMonthCellKeydown(r,c))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.WLB(2,IL,r.isMonthSelected(i),r.isMonthDisabled(i))),s.xp6(1),s.hij(" ",e," ")}}function BG(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,VG,2,5,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}const UG=function(n){return{"p-highlight":n}};function HG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,d=s.oxw(4);return s.KtG(d.onYearSelect(r,c))})("keydown",function(r){const c=s.CHM(e).$implicit,d=s.oxw(4);return s.KtG(d.onYearCellKeydown(r,c))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,UG,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function zG(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,HG,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function GG(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,LG,10,7,"div",17),s.qZA(),s.YNc(3,BG,2,1,"div",18),s.YNc(4,zG,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function $G(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function jG(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function qG(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function WG(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function KG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.incrementSecond(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.incrementSecond(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,WG,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.decrementSecond(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.decrementSecond(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function ZG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function QG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementHour(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementHour(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,$G,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementHour(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementHour(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementMinute(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementMinute(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,jG,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementMinute(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementMinute(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,qG,3,1,"div",62),s.YNc(21,KG,8,2,"div",63),s.YNc(22,ZG,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const DL=function(n){return[n]};function YG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTodayButtonClick(r))}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onClearButtonClick(r))}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,DL,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,DL,e.clearButtonStyleClass))}}function JG(n,t){1&n&&s.GkF(0)}const XG=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},xL=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},e$=function(n){return{value:"visibleTouchUI",params:n}},t$=function(n){return{value:"visible",params:n}};function n$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayAnimationDone(r))})("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.Hsn(2),s.YNc(3,bG,1,0,"ng-container",12),s.YNc(4,GG,5,3,"ng-container",13),s.YNc(5,QG,23,8,"div",14),s.YNc(6,YG,3,8,"div",15),s.Hsn(7,1),s.YNc(8,JG,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,XG,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,e$,s.WLB(18,xL,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,t$,s.WLB(23,xL,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const i$=[[["p-header"]],[["p-footer"]]],r$=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},s$=["p-header","p-footer"],o$={provide:Er,useExisting:(0,s.Gpc)(()=>ek),multi:!0};let ek=(()=>{class n{constructor(e,i,r,o,c,d){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=c,this.overlayService=d,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(f,y){return"12"==this.hourFormat?12===f?y?12:0:y?f+12:f:f}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=Oc();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=X.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(et.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,c=i;o>11&&(o=o%11-1,c=i+1),this.months.push(this.createMonth(o,c))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),c=this.getDaysCountInMonth(e,i),d=this.getDaysCountInPrevMonth(e,i),f=1,y=new Date,w=[],E=Math.ceil((c+o)/7);for(let M=0;M<E;M++){let O=[];if(0==M){for(let z=d-o+1;z<=d;z++){let W=this.getPreviousMonthAndYear(e,i);O.push({day:z,month:W.month,year:W.year,otherMonth:!0,today:this.isToday(y,z,W.month,W.year),selectable:this.isSelectable(z,W.month,W.year,!0)})}let F=7-O.length;for(let z=0;z<F;z++)O.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)}),f++}else for(let F=0;F<7;F++){if(f>c){let z=this.getNextMonthAndYear(e,i);O.push({day:f-c,month:z.month,year:z.year,otherMonth:!0,today:this.isToday(y,f-c,z.month,z.year),selectable:this.isSelectable(f-c,z.month,z.year,!0)})}else O.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)});f++}this.showWeek&&w.push(this.getWeekNumber(new Date(O[0].year,O[0].month,O[0].day))),r.push(O)}return{month:e,year:i,dates:r,weekNumbers:w}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){const[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],o=new Date(this.currentYear,e,1);return o>=i&&o<=(r??i)}return!1}isMonthDisabled(e){for(let i=1;i<this.getDaysCountInMonth(e,this.currentYear)+1;i++)if(this.isSelectable(i,e,this.currentYear,!1))return!1;return!0}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let c=new Date(r.year,r.month,r.day);return e.getTime()<=c.getTime()&&i.getTime()>=c.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let c=!0,d=!0,f=!0,y=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(c=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(d=!1),this.disabledDates&&(f=!this.isDateDisabled(e,i,r)),this.disabledDays&&(y=!this.isDayDisabled(e,i,r)),c&&d&&f&&y)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let c=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(c)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(X.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,c=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let d=X.index(c),f=c.parentElement.nextElementSibling;f?X.hasClass(f.children[d].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(f.children[d].children[0].tabIndex="0",f.children[d].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let d=X.index(c),f=c.parentElement.previousElementSibling;if(f){let y=f.children[d].children[0];X.hasClass(y,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(y.tabIndex="0",y.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let d=c.previousElementSibling;if(d){let f=d.children[0];X.hasClass(f,"p-disabled")||X.hasClass(f.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let d=c.nextElementSibling;if(d){let f=d.children[0];X.hasClass(f,"p-disabled")?this.navigateToMonth(!1,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=X.index(r);let d=o[40===e.which?c+3:c-3];d&&(d.tabIndex="0",d.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let d=r.previousElementSibling;d?(d.tabIndex="0",d.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let d=r.nextElementSibling;d?(d.tabIndex="0",d.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=X.index(r);let d=o[40===e.which?c+2:c-2];d&&(d.tabIndex="0",d.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let d=r.previousElementSibling;d?(d.tabIndex="0",d.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let d=r.nextElementSibling;d?(d.tabIndex="0",d.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=X.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),c=o[o.length-1];c.tabIndex="0",c.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=X.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?X.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():X.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=X.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=X.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const e=this.contentViewChild?.nativeElement;let i;if("month"===this.currentView){let r=X.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),o=X.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(c=>c.tabIndex=-1),i=o||r[0],0===r.length&&X.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(d=>d.tabIndex=-1)}else if("year"===this.currentView){let r=X.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),o=X.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(c=>c.tabIndex=-1),i=o||r[0],0===r.length&&X.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(d=>d.tabIndex=-1)}else if(i=X.findSingle(e,"span.p-highlight"),!i){let r=X.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");i=r||X.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=X.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let c=this.value;const d=this.convertTo24Hour(e,o);this.isRangeSelection()&&(c=this.value[1]||this.value[0]),this.isMultipleSelection()&&(c=this.value[this.value.length-1]);const f=c?c.toDateString():null;return!(this.minDate&&f&&this.minDate.toDateString()===f&&(this.minDate.getHours()>d||this.minDate.getHours()===d&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&f&&this.maxDate.toDateString()===f&&(this.maxDate.getHours()<d||this.maxDate.getHours()===d&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let c=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},c),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch{this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let c="12"==this.hourFormat?r.pop():null,d=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,d,c)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return e instanceof Date&&He.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Xn.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Xn.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Xn.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):X.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=X.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=X.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=X.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",X.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):X.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),X.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),X.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(X.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(X.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||X.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(et.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=w=>{const E=r+1<i.length&&i.charAt(r+1)===w;return E&&r++,E},c=(w,E,M)=>{let O=""+E;if(o(w))for(;O.length<M;)O="0"+O;return O},d=(w,E,M,O)=>o(w)?O[E]:M[E];let f="",y=!1;if(e)for(r=0;r<i.length;r++)if(y)"'"!==i.charAt(r)||o("'")?f+=i.charAt(r):y=!1;else switch(i.charAt(r)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=d("D",e.getDay(),this.getTranslation(et.DAY_NAMES_SHORT),this.getTranslation(et.DAY_NAMES));break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=d("M",e.getMonth(),this.getTranslation(et.MONTH_NAMES_SHORT),this.getTranslation(et.MONTH_NAMES));break;case"y":f+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?f+="'":y=!0;break;default:f+=i.charAt(r)}return f}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),c=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=c<10?"0"+c:c),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),c=parseInt(i[1]),d=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(c)||o>23||c>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(d)||d>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:c,second:d}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,c,F,d=0,f="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),y=-1,w=-1,E=-1,M=-1,O=!1,z=Pe=>{let Ve=r+1<i.length&&i.charAt(r+1)===Pe;return Ve&&r++,Ve},W=Pe=>{let Ve=z(Pe),ut="@"===Pe?14:"!"===Pe?20:"y"===Pe&&Ve?4:"o"===Pe?3:2,Jt=new RegExp("^\\d{"+("y"===Pe?ut:1)+","+ut+"}"),Rn=e.substring(d).match(Jt);if(!Rn)throw"Missing number at position "+d;return d+=Rn[0].length,parseInt(Rn[0],10)},Ee=(Pe,Ve,ut)=>{let pt=-1,Jt=z(Pe)?ut:Ve,Rn=[];for(let yi=0;yi<Jt.length;yi++)Rn.push([yi,Jt[yi]]);Rn.sort((yi,eo)=>-(yi[1].length-eo[1].length));for(let yi=0;yi<Rn.length;yi++){let eo=Rn[yi][1];if(e.substr(d,eo.length).toLowerCase()===eo.toLowerCase()){pt=Rn[yi][0],d+=eo.length;break}}if(-1!==pt)return pt+1;throw"Unknown name at position "+d},Le=()=>{if(e.charAt(d)!==i.charAt(r))throw"Unexpected literal at position "+d;d++};for("month"===this.view&&(E=1),r=0;r<i.length;r++)if(O)"'"!==i.charAt(r)||z("'")?Le():O=!1;else switch(i.charAt(r)){case"d":E=W("d");break;case"D":Ee("D",this.getTranslation(et.DAY_NAMES_SHORT),this.getTranslation(et.DAY_NAMES));break;case"o":M=W("o");break;case"m":w=W("m");break;case"M":w=Ee("M",this.getTranslation(et.MONTH_NAMES_SHORT),this.getTranslation(et.MONTH_NAMES));break;case"y":y=W("y");break;case"@":F=new Date(W("@")),y=F.getFullYear(),w=F.getMonth()+1,E=F.getDate();break;case"!":F=new Date((W("!")-this.ticksTo1970)/1e4),y=F.getFullYear(),w=F.getMonth()+1,E=F.getDate();break;case"'":z("'")?Le():O=!0;break;default:Le()}if(d<e.length&&(c=e.substr(d),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=f?0:-100)),M>-1)for(w=1,E=M;o=this.getDaysCountInMonth(y,w-1),!(E<=o);)w++,E-=o;if("year"===this.view&&(w=-1===w?1:w,E=-1===E?1:E),F=this.daylightSavingAdjust(new Date(y,w-1,E)),F.getFullYear()!==y||F.getMonth()+1!==w||F.getDate()!==E)throw"Invalid date";return F}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:c}=i[r],d=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let f=c;f<this.numberOfMonths;f++)d+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${f+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${d}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new CT(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return X.hasClass(e.target,"p-datepicker-prev")||X.hasClass(e.target,"p-datepicker-prev-icon")||X.hasClass(e.target,"p-datepicker-next")||X.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!X.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Xn.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(k),s.Y36(I))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(fG,5),s.Gf(gG,5),s.Gf(mG,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([o$])],ngContentSelectors:s$,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(i$),s.TgZ(0,"span",0,1),s.YNc(2,vG,4,17,"ng-template",2),s.YNc(3,n$,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,r$,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},dependencies:[gt,ri,Dn,xn,Cn,Bh,Bs],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[vL("overlayAnimation",[pG("visibleTouchUI",lu({transform:"translate(-50%,-50%)",opacity:1})),yy("void => visible",[lu({opacity:0,transform:"scaleY(0.8)"}),_y("{{showTransitionParams}}",lu({opacity:1,transform:"*"}))]),yy("visible => void",[_y("{{hideTransitionParams}}",lu({opacity:0}))]),yy("void => visibleTouchUI",[lu({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),_y("{{showTransitionParams}}")]),yy("visibleTouchUI => void",[_y("{{hideTransitionParams}}",lu({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),AL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,Uh,ve,Za,Uh,ve]}),n})();const a$=["overlay"],l$=["content"];function c$(n,t){1&n&&s.GkF(0)}const u$=function(n,t,e){return{showTransitionParams:n,hideTransitionParams:t,transform:e}},d$=function(n){return{value:"visible",params:n}},h$=function(n){return{mode:n}},p$=function(n){return{$implicit:n}};function f$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1,3),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationDone(r))}),s.Hsn(2),s.YNc(3,c$,1,0,"ng-container",4),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.contentStyleClass),s.Q6J("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",s.VKq(11,d$,s.kEZ(7,u$,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.VKq(15,p$,s.VKq(13,h$,e.overlayMode)))}}const g$=function(n,t,e,i,r,o,c,d,f,y,w,E,M,O){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":c,"p-overlay-bottom-end":d,"p-overlay-left":f,"p-overlay-left-start":y,"p-overlay-left-end":w,"p-overlay-right":E,"p-overlay-right-start":M,"p-overlay-right-end":O}};function m$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.YNc(2,f$,4,17,"div",0),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass",s.rFY(5,g$,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),s.xp6(2),s.Q6J("ngIf",e.visible)}}const _$=["*"],y$={provide:Er,useExisting:(0,s.Gpc)(()=>tk),multi:!0},v$=wL([lu({transform:"{{transform}}",opacity:0}),_y("{{showTransitionParams}}")]),b$=wL([_y("{{hideTransitionParams}}",lu({transform:"{{transform}}",opacity:0}))]);let tk=(()=>{class n{constructor(e,i,r,o,c,d){this.document=e,this.el=i,this.renderer=r,this.config=o,this.overlayService=c,this.zone=d,this.visibleChange=new s.vpe,this.onBeforeShow=new s.vpe,this.onShow=new s.vpe,this.onBeforeHide=new s.vpe,this.onHide=new s.vpe,this.onAnimationStart=new s.vpe,this.onAnimationDone=new s.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return He.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return He.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return He.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return He.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return X.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&X.focus(this.targetEl),this.modal&&X.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&X.focus(this.targetEl),this.modal&&X.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&X.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(e){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Xn.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),X.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&X.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),X.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Xn.clear(i),this.modalVisible=!1}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&this.config?.overlayOptions[e]&&this.config?.overlayOptions[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new CT(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!X.isTouchDevice()}):!X.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{this.overlayOptions.hideOnEscape&&27===e.keyCode&&(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!X.isTouchDevice()}):!X.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(X.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Xn.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(re),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(k),s.Y36(I),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-overlay"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(a$,5),s.Gf(l$,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[s._Bn([y$])],ngContentSelectors:_$,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,m$,3,20,"div",0)),2&e&&s.Q6J("ngIf",i.modalVisible)},dependencies:[gt,Dn,xn,Cn],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[vL("overlayContentAnimation",[yy(":enter",[CL(v$)]),yy(":leave",[CL(b$)])])]},changeDetection:0}),n})(),dI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,ve,ve]}),n})();const w$=["element"],C$=["content"];function T$(n,t){1&n&&s.GkF(0)}const nk=function(n,t){return{$implicit:n,options:t}};function E$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,T$,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(2,nk,e.loadedItems,e.getContentOptions()))}}function S$(n,t){1&n&&s.GkF(0)}function I$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,S$,1,0,"ng-container",7),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,nk,e,r.getOptions(i)))}}const D$=function(n){return{"p-scroller-loading":n}};function x$(n,t){if(1&n&&(s.TgZ(0,"div",8,9),s.YNc(2,I$,2,5,"ng-container",10),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(4,D$,e.d_loading))("ngStyle",e.contentStyle),s.xp6(2),s.Q6J("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function A$(n,t){if(1&n&&s._UZ(0,"div",11),2&n){const e=s.oxw(2);s.Q6J("ngStyle",e.spacerStyle)}}function M$(n,t){1&n&&s.GkF(0)}const k$=function(n){return{numCols:n}},ML=function(n){return{options:n}};function R$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,M$,1,0,"ng-container",7),s.BQk()),2&n){const e=t.index,i=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,ML,i.getLoaderOptions(e,i.both&&s.VKq(2,k$,i._numItemsInViewport.cols))))}}function O$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,R$,2,6,"ng-container",14),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.loaderArr)}}function N$(n,t){1&n&&s.GkF(0)}const P$=function(){return{styleClass:"p-scroller-loading-icon"}};function F$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,N$,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,ML,s.DdM(2,P$)))}}function L$(n,t){1&n&&s._UZ(0,"i",16)}function V$(n,t){if(1&n&&(s.YNc(0,F$,2,5,"ng-container",0),s.YNc(1,L$,1,0,"ng-template",null,15,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(3);s.Q6J("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}const B$=function(n){return{"p-component-overlay":n}};function U$(n,t){if(1&n&&(s.TgZ(0,"div",12),s.YNc(1,O$,2,1,"ng-container",0),s.YNc(2,V$,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.Q6J("ngClass",s.VKq(3,B$,!i.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",i.loaderTemplate)("ngIfElse",e)}}const H$=function(n,t,e){return{"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e}};function z$(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onContainerScroll(r))}),s.YNc(3,E$,2,5,"ng-container",0),s.YNc(4,x$,3,6,"ng-template",null,4,s.W1O),s.YNc(6,A$,1,1,"div",5),s.YNc(7,U$,4,5,"div",6),s.qZA(),s.BQk()}if(2&n){const e=s.MAs(5),i=s.oxw();s.xp6(1),s.Tol(i._styleClass),s.Q6J("ngStyle",i._style)("ngClass",s.kEZ(10,H$,i.inline,i.both,i.horizontal)),s.uIk("id",i._id)("tabindex",i.tabindex),s.xp6(2),s.Q6J("ngIf",i.contentTemplate)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i._showSpacer),s.xp6(1),s.Q6J("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function G$(n,t){1&n&&s.GkF(0)}const $$=function(n,t){return{rows:n,columns:t}};function j$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,G$,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(5,nk,e.items,s.WLB(2,$$,e._items,e.loadedColumns)))}}function q$(n,t){if(1&n&&(s.Hsn(0),s.YNc(1,j$,2,8,"ng-container",17)),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.contentTemplate)}}const W$=["*"];let ik=(()=>{class n{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.isRangeChanged=!1,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){const{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,i=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){X.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=X.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=X.getHeight(this.elementViewChild.nativeElement),this.defaultContentWidth=X.getWidth(this.contentEl),this.defaultContentHeight=X.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||X.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),c=(w=0,E)=>w<=E?0:w,d=(w,E,M)=>w*E+M,f=(w=0,E=0)=>this.scrollTo({left:w,top:E,behavior:i});let y=0;this.both?(y={rows:c(e[0],r[0]),cols:c(e[1],r[1])},f(d(y.cols,this._itemSize[1],o.left),d(y.rows,this._itemSize[0],o.top))):(y=c(e,r),this.horizontal?f(d(y,this._itemSize,o.left),0):f(0,d(y,this._itemSize,o.top))),this.isRangeChanged=this.first!==y,this.first=y}scrollInView(e,i,r="auto"){if(i){const{first:o,viewport:c}=this.getRenderedRange(),d=(w=0,E=0)=>this.scrollTo({left:w,top:E,behavior:r}),y="to-end"===i;if("to-start"===i){if(this.both)c.first.rows-o.rows>e[0]?d(c.first.cols*this._itemSize[1],(c.first.rows-1)*this._itemSize[0]):c.first.cols-o.cols>e[1]&&d((c.first.cols-1)*this._itemSize[1],c.first.rows*this._itemSize[0]);else if(c.first-o>e){const w=(c.first-1)*this._itemSize;this.horizontal?d(w,0):d(0,w)}}else if(y)if(this.both)c.last.rows-o.rows<=e[0]+1?d(c.first.cols*this._itemSize[1],(c.first.rows+1)*this._itemSize[0]):c.last.cols-o.cols<=e[1]+1&&d((c.first.cols+1)*this._itemSize[1],c.first.rows*this._itemSize[0]);else if(c.last-o<=e+1){const w=(c.first+1)*this._itemSize;this.horizontal?d(w,0):d(0,w)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(o,c)=>Math.floor(o/(c||o));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:c}=this.elementViewChild.nativeElement;this.both?(i={rows:e(o,this._itemSize[0]),cols:e(c,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?c:o,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,o=(y,w)=>Math.ceil(y/(w||y)),c=y=>Math.ceil(y/2),d=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:d,numToleratedItems:this.d_numToleratedItems||(this.both?[c(d.rows),c(d.cols)]:c(d))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(d,f,y,w=!1)=>this.getLast(d+f+(d<y?2:3)*y,w),o=this.first,c=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=c,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[e,i]=[X.getWidth(this.contentEl),X.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[r,o]=[X.getWidth(this.elementViewChild.nativeElement),X.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),c=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:o,bottom:c,x:i+r,y:o+c}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(c,d)=>this.elementViewChild.nativeElement.style[c]=d;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,o,c,d=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*c+d+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(c,d)=>c*d,o=(c=0,d=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${c}px, ${d}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const c=r(i,this._itemSize);this.horizontal?o(c,0):o(0,c)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),o=(W,Ee)=>W?W>Ee?W-Ee:W:0,c=(W,Ee)=>Math.floor(W/(Ee||W)),d=(W,Ee,Le,Pe,Ve,ut)=>W<=Ve?Ve:ut?Le-Pe-Ve:Ee+Ve-1,f=(W,Ee,Le,Pe,Ve,ut,pt)=>W<=ut?0:Math.max(0,pt?W<Ee?Le:W-ut:W>Ee?Le:W-2*ut),y=(W,Ee,Le,Pe,Ve,ut=!1)=>{let pt=Ee+Pe+2*Ve;return W>=Ve&&(pt+=Ve+1),this.getLast(pt,ut)},w=o(i.scrollTop,r.top),E=o(i.scrollLeft,r.left);let M=this.both?{rows:0,cols:0}:0,O=this.last,F=!1,z=this.lastScrollPos;if(this.both){const W=this.lastScrollPos.top<=w,Ee=this.lastScrollPos.left<=E;if(!this._appendOnly||this._appendOnly&&(W||Ee)){const Le={rows:c(w,this._itemSize[0]),cols:c(E,this._itemSize[1])},Pe={rows:d(Le.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],W),cols:d(Le.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Ee)};M={rows:f(Le.rows,Pe.rows,this.first.rows,0,0,this.d_numToleratedItems[0],W),cols:f(Le.cols,Pe.cols,this.first.cols,0,0,this.d_numToleratedItems[1],Ee)},O={rows:y(Le.rows,M.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:y(Le.cols,M.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},F=M.rows!==this.first.rows||O.rows!==this.last.rows||M.cols!==this.first.cols||O.cols!==this.last.cols||this.isRangeChanged,z={top:w,left:E}}}else{const W=this.horizontal?E:w,Ee=this.lastScrollPos<=W;if(!this._appendOnly||this._appendOnly&&Ee){const Le=c(W,this._itemSize);M=f(Le,d(Le,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Ee),this.first,0,0,this.d_numToleratedItems,Ee),O=y(Le,M,0,this.numItemsInViewport,this.d_numToleratedItems),F=M!==this.first||O!==this.last||this.isRangeChanged,z=W}}return{first:M,last:O,isRangeChanged:F,scrollPos:z}}onScrollChange(e){const{first:i,last:r,isRangeChanged:o,scrollPos:c}=this.onScrollPositionChange(e);if(o){const d={first:i,last:r};if(this.setContentPosition(d),this.first=i,this.last=r,this.lastScrollPos=c,this.handleEvents("onScrollIndexChange",d),this._lazy&&this.isPageChanged){const f={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==f.first||this.lazyLoadState.last!==f.last)&&this.handleEvents("onLazyLoad",f),this.lazyLoadState=f}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(X.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[X.getWidth(this.elementViewChild.nativeElement),X.getHeight(this.elementViewChild.nativeElement)],[r,o]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=X.getWidth(this.contentEl),this.defaultContentHeight=X.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(w$,5),s.Gf(C$,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.elementViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:W$,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(s.F$t(),s.YNc(0,z$,8,14,"ng-container",0),s.YNc(1,q$,2,1,"ng-template",null,1,s.W1O)),2&e){const r=s.MAs(2);s.Q6J("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[gt,ri,Dn,xn,Cn],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),n})(),up=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();function K$(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function Z$(n,t){1&n&&s.GkF(0)}const Kw=function(n){return{height:n}},Q$=function(n,t){return{"p-highlight":n,"p-disabled":t}},Y$=function(n){return{"p-highlight":n}},kL=function(n){return{"pi pi-check":n}},Zw=function(n){return{$implicit:n}},J$=["container"],X$=["overlay"],e4=["filterInput"],t4=["in"],n4=["items"],r4=["scroller"];function s4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.valuesAsString||"empty")}}function o4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",20),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(3);return s.KtG(c.removeChip(o,r))}),s.qZA()}}function a4(n,t){if(1&n&&(s.TgZ(0,"div",16,17)(2,"span",18),s._uU(3),s.qZA(),s.YNc(4,o4,1,0,"span",19),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(3),s.Oqu(i.findLabelByValue(e)),s.xp6(1),s.Q6J("ngIf",!i.disabled)}}function l4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Oqu(e.placeholder||e.defaultLabel||"empty")}}function c4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,a4,5,2,"div",15),s.YNc(2,l4,2,1,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.value),s.xp6(1),s.Q6J("ngIf",!e.value||0===e.value.length)}}function u4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,s4,2,1,"ng-container",7),s.YNc(2,c4,3,2,"ng-container",7),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf","comma"===e.display),s.xp6(1),s.Q6J("ngIf","chip"===e.display)}}function d4(n,t){1&n&&s.GkF(0)}function h4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",21),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.clear(r))}),s.qZA()}}function p4(n,t){1&n&&s.GkF(0)}function f4(n,t){1&n&&s.GkF(0)}const RL=function(n){return{options:n}};function g4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,f4,1,0,"ng-container",8),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,RL,e.filterOptions))}}const m4=function(n){return{"p-checkbox-disabled":n}},_4=function(n,t,e){return{"p-highlight":n,"p-focus":t,"p-disabled":e}};function y4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",36)(1,"div",2)(2,"input",37),s.NdJ("focus",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.onHeaderCheckboxFocus())})("blur",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.onHeaderCheckboxBlur())})("keydown.space",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.toggleAll(r))}),s.qZA()(),s.TgZ(3,"div",38),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.toggleAll(r))}),s._UZ(4,"span",39),s.qZA()()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.VKq(6,m4,e.disabled||e.toggleAllDisabled)),s.xp6(2),s.Q6J("checked",e.allChecked)("disabled",e.disabled||e.toggleAllDisabled),s.xp6(1),s.Q6J("ngClass",s.kEZ(8,_4,e.allChecked,e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),s.uIk("aria-checked",e.allChecked),s.xp6(1),s.Q6J("ngClass",s.VKq(12,kL,e.allChecked))}}function v4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",40)(1,"input",41,42),s.NdJ("input",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onFilterInputChange(r))}),s.qZA(),s._UZ(3,"span",43),s.qZA()}if(2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("value",e.filterValue||"")("disabled",e.disabled),s.uIk("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function b4(n,t){if(1&n){const e=s.EpF();s.YNc(0,y4,5,14,"div",32),s.YNc(1,v4,4,5,"div",33),s.TgZ(2,"button",34),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.close(r))}),s._UZ(3,"span",35),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("ngIf",e.showToggleAll&&!e.selectionLimit),s.xp6(1),s.Q6J("ngIf",e.filter)}}function w4(n,t){if(1&n&&(s.TgZ(0,"div",28),s.Hsn(1),s.YNc(2,p4,1,0,"ng-container",29),s.YNc(3,g4,2,4,"ng-container",30),s.YNc(4,b4,4,2,"ng-template",null,31,s.W1O),s.qZA()),2&n){const e=s.MAs(5),i=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",i.headerTemplate),s.xp6(1),s.Q6J("ngIf",i.filterTemplate)("ngIfElse",e)}}function C4(n,t){1&n&&s.GkF(0)}const OL=function(n,t){return{$implicit:n,options:t}};function T4(n,t){if(1&n&&s.YNc(0,C4,1,0,"ng-container",8),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(6);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,OL,e,i))}}function E4(n,t){1&n&&s.GkF(0)}function S4(n,t){if(1&n&&s.YNc(0,E4,1,0,"ng-container",8),2&n){const e=t.options,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,RL,e))}}function I4(n,t){1&n&&(s.ynx(0),s.YNc(1,S4,1,4,"ng-template",46),s.BQk())}function D4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",44,45),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onLazyLoad.emit(r))}),s.YNc(2,T4,1,5,"ng-template",14),s.YNc(3,I4,2,0,"ng-container",7),s.qZA()}if(2&n){const e=s.oxw(2);s.Akn(s.VKq(9,Kw,e.scrollHeight)),s.Q6J("items",e.optionsToRender)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",e.loaderTemplate)}}function x4(n,t){1&n&&s.GkF(0)}const A4=function(){return{}};function M4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,x4,1,0,"ng-container",8),s.BQk()),2&n){s.oxw();const e=s.MAs(6),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(3,OL,i.optionsToRender,s.DdM(2,A4)))}}function k4(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function R4(n,t){1&n&&s.GkF(0)}function O4(n,t){1&n&&s.GkF(0)}function N4(n,t){if(1&n&&(s.TgZ(0,"li",52),s.YNc(1,k4,2,1,"span",7),s.YNc(2,R4,1,0,"ng-container",8),s.qZA(),s.YNc(3,O4,1,0,"ng-container",8)),2&n){const e=t.$implicit,i=s.oxw(2).options,r=s.MAs(5),o=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,Kw,i.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",s.VKq(8,Zw,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.VKq(10,Zw,o.getOptionGroupChildren(e)))}}function P4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,N4,4,12,"ng-template",51),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function F4(n,t){1&n&&s.GkF(0)}function L4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,F4,1,0,"ng-container",8),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.MAs(5);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(2,Zw,e))}}function V4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-multiSelectItem",53),s.NdJ("onClick",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onOptionClick(r))})("onKeydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onOptionKeydown(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).options,r=s.oxw(2);s.Q6J("option",e)("selected",r.isSelected(e))("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)("itemSize",i.itemSize)}}function B4(n,t){1&n&&s.YNc(0,V4,1,6,"ng-template",51),2&n&&s.Q6J("ngForOf",t.$implicit)}function U4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function H4(n,t){1&n&&s.GkF(0,null,55)}function z4(n,t){if(1&n&&(s.TgZ(0,"li",54),s.YNc(1,U4,2,1,"ng-container",30),s.YNc(2,H4,2,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Kw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function G4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function $4(n,t){1&n&&s.GkF(0,null,56)}function j4(n,t){if(1&n&&(s.TgZ(0,"li",54),s.YNc(1,G4,2,1,"ng-container",30),s.YNc(2,$4,2,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Kw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function q4(n,t){if(1&n&&(s.TgZ(0,"ul",47,48),s.YNc(2,P4,2,1,"ng-container",7),s.YNc(3,L4,2,4,"ng-container",7),s.YNc(4,B4,1,1,"ng-template",null,49,s.W1O),s.YNc(6,z4,3,6,"li",50),s.YNc(7,j4,3,6,"li",50),s.qZA()),2&n){const e=t.options,i=s.oxw(2);s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass),s.xp6(2),s.Q6J("ngIf",i.group),s.xp6(1),s.Q6J("ngIf",!i.group),s.xp6(3),s.Q6J("ngIf",i.hasFilter()&&i.isEmpty()),s.xp6(1),s.Q6J("ngIf",!i.hasFilter()&&i.isEmpty())}}function W4(n,t){1&n&&s.GkF(0)}function K4(n,t){if(1&n&&(s.TgZ(0,"div",57),s.Hsn(1,1),s.YNc(2,W4,1,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Z4=function(){return["p-multiselect-panel p-component"]};function Q4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",22),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onKeydown(r))}),s.YNc(1,w4,6,3,"div",23),s.TgZ(2,"div",24),s.YNc(3,D4,4,11,"p-scroller",25),s.YNc(4,M4,2,6,"ng-container",7),s.YNc(5,q4,8,7,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(7,K4,3,1,"div",27),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass",s.DdM(10,Z4))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngIf",e.showHeader),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!e.virtualScroll),s.xp6(3),s.Q6J("ngIf",e.footerFacet||e.footerTemplate)}}const Y4=[[["p-header"]],[["p-footer"]]],J4=function(n,t,e,i){return{"p-multiselect p-component":!0,"p-multiselect-open":n,"p-multiselect-chip":t,"p-focus":e,"p-disabled":i}},X4=function(n,t){return{"p-placeholder":n,"p-multiselect-label-empty":t}},ej=function(){return{"p-multiselect-trigger":!0}},tj=["p-header","p-footer"],nj={provide:Er,useExisting:(0,s.Gpc)(()=>rk),multi:!0};let ij=(()=>{class n{constructor(){this.onClick=new s.vpe,this.onKeydown=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected})}onOptionKeydown(e){this.onKeydown.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)})("keydown",function(o){return i.onOptionKeydown(o)}),s.TgZ(1,"div",1)(2,"div",2),s._UZ(3,"span",3),s.qZA()(),s.YNc(4,K$,2,1,"span",4),s.YNc(5,Z$,1,0,"ng-container",5),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(9,Kw,i.itemSize+"px"))("ngClass",s.WLB(11,Q$,i.selected,i.disabled)),s.uIk("aria-label",i.label)("tabindex",i.disabled?null:"0"),s.xp6(2),s.Q6J("ngClass",s.VKq(14,Y$,i.selected)),s.xp6(1),s.Q6J("ngClass",s.VKq(16,kL,i.selected)),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(18,Zw,i.option)))},dependencies:[gt,Dn,xn,Cn,Bs],encapsulation:2}),n})(),rk=(()=>{class n{constructor(e,i,r,o,c,d,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=c,this.config=d,this.overlayService=f,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onClear=new s.vpe,this.onPanelShow=new s.vpe,this.onPanelHide=new s.vpe,this.onLazyLoad=new s.vpe,this.onRemove=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder=e,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(e){this._options=e,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(e){return this.optionLabel?He.resolveFieldData(e,this.optionLabel):e&&null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?He.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?He.resolveFieldData(e,this.optionGroupLabel):e&&null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?He.resolveFieldData(e,this.optionGroupChildren):e.items}isOptionDisabled(e){return(this.optionDisabled?He.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled)||this.maxSelectionLimitReached&&!this.isSelected(e)}writeValue(e){this.value=e,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionClick(e){let i=e.option;if(this.isOptionDisabled(i))return;let r=this.getOptionValue(i),o=this.findSelectionIndex(r);-1!=o?(this.value=this.value.filter((c,d)=>d!=o),this.onRemove.emit({newValue:this.value,removed:r}),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],r]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:e.originalEvent,value:this.value,itemValue:r}),this.updateLabel(),this.updateFilledState()}isSelected(e){return-1!=this.findSelectionIndex(this.getOptionValue(e))}findSelectionIndex(e){let i=-1;if(this.value)for(let r=0;r<this.value.length;r++)if(He.equals(this.value[r],e,this.dataKey)){i=r;break}return i}get toggleAllDisabled(){let e=this.optionsToRender;if(!e||0===e.length)return!0;for(let i of e)if(!this.isOptionDisabled(i))return!1;return!0}toggleAll(e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateFilledState(),this.updateLabel(),e.preventDefault())}checkAll(){let i=[];this.optionsToRender.forEach(r=>{if(this.group){let o=this.getOptionGroupChildren(r);o&&o.forEach(c=>{let d=this.isOptionDisabled(c);(!d||d&&this.isSelected(c))&&i.push(this.getOptionValue(c))})}else{let o=this.isOptionDisabled(r);(!o||o&&this.isSelected(r))&&i.push(this.getOptionValue(r))}}),this.value=i}uncheckAll(){let i=[];this.optionsToRender.forEach(r=>{this.group?r.items&&r.items.forEach(o=>{this.isOptionDisabled(o)&&this.isSelected(o)&&i.push(this.getOptionValue(o))}):this.isOptionDisabled(r)&&this.isSelected(r)&&i.push(this.getOptionValue(r))}),this.value=i}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild.nativeElement),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),e.stopPropagation()}onMouseclick(e,i){this.disabled||this.readonly||e.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(e),!this.overlayViewChild?.el?.nativeElement?.contains(e.target)&&!X.hasClass(e.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),i.focus()))}removeChip(e,i){this.value=this.value.filter(r=>!He.equals(r,e,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:e}),this.updateLabel(),this.updateFilledState()}onInputFocus(e){this.focus=!0,this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focus=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(e){if(!this.readonly)switch(e.originalEvent.which){case 40:var i=this.findNextItem(e.originalEvent.target.parentElement);i&&i.focus(),e.originalEvent.preventDefault();break;case 38:var r=this.findPrevItem(e.originalEvent.target.parentElement);r&&r.focus(),e.originalEvent.preventDefault();break;case 13:this.onOptionClick(e),e.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(e){let i=e.nextElementSibling;return i?X.hasClass(i.children[0],"p-disabled")||X.isHidden(i.children[0])||X.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(e){let i=e.previousElementSibling;return i?X.hasClass(i.children[0],"p-disabled")||X.isHidden(i.children[0])||X.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}onKeydown(e){switch(e.which){case 40:!this.overlayVisible&&e.altKey&&(this.show(),e.preventDefault());break;case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let e="";for(let i=0;i<this.value.length;i++){let r=this.findLabelByValue(this.value[i]);r&&(e.length>0&&(e+=", "),e+=r)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=e;else{let i=/{(.*?)}/;this.valuesAsString=i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(e){if(this.group){let i=null;for(let r=0;r<this.options.length;r++){let o=this.getOptionGroupChildren(this.options[r]);if(o&&(i=this.searchLabelByValue(e,o),i))break}return i}return this.searchLabelByValue(e,this.options)}searchLabelByValue(e,i){let r=null;for(let o=0;o<i.length;o++){let c=i[o],d=this.getOptionValue(c);if(null==e&&null==d||He.equals(e,d,this.dataKey)){r=this.getOptionLabel(c);break}}return r}get allChecked(){let e=this.optionsToRender;if(!e||0===e.length)return!1;{let i=0,r=0,o=0,c=this.group?0:this.optionsToRender.length;for(let d of e)if(this.group)for(let f of this.getOptionGroupChildren(d)){let y=this.isOptionDisabled(f),w=this.isSelected(f);if(y)w?i++:r++;else{if(!w)return!1;o++}c++}else{let f=this.isOptionDisabled(d),y=this.isSelected(d);if(f)y?i++:r++;else{if(!y)return!1;o++}}return c===i||c===o||o&&c===o+r+i}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(et.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(et.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(e){this._filterValue=e.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:e,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,e,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Al),s.Y36(k),s.Y36(I))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-multiSelect"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,J,5),s.Suo(r,U,5),s.Suo(r,ee,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.footerFacet=o.first),s.iGM(o=s.CRH())&&(i.headerFacet=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(J$,5),s.Gf(X$,5),s.Gf(e4,5),s.Gf(t4,5),s.Gf(n4,5),s.Gf(r4,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterInputChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.itemsViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus||i.overlayVisible)("p-multiselect-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove"},features:[s._Bn([nj])],ngContentSelectors:tj,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(e,i){if(1&e){const r=s.EpF();s.F$t(Y4),s.TgZ(0,"div",0,1),s.NdJ("click",function(c){s.CHM(r);const d=s.MAs(4);return s.KtG(i.onMouseclick(c,d))}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(c){return i.onInputFocus(c)})("blur",function(c){return i.onInputBlur(c)})("keydown",function(c){return i.onKeydown(c)}),s.qZA()(),s.TgZ(5,"div",5)(6,"div",6),s.YNc(7,u4,3,2,"ng-container",7),s.YNc(8,d4,1,0,"ng-container",8),s.qZA(),s.YNc(9,h4,1,0,"i",9),s.qZA(),s.TgZ(10,"div",10),s._UZ(11,"span",11),s.qZA(),s.TgZ(12,"p-overlay",12,13),s.NdJ("visibleChange",function(c){return i.overlayVisible=c})("onAnimationStart",function(c){return i.onOverlayAnimationStart(c)})("onHide",function(){return i.hide()}),s.YNc(14,Q4,8,11,"ng-template",14),s.qZA()()}2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(30,J4,i.overlayVisible,"chip"===i.display,i.focus,i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("label",i.label)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),s.xp6(1),s.Q6J("ngClass",s.WLB(35,X4,i.valuesAsString===(i.defaultLabel||i.placeholder),!(null!=i.valuesAsString&&0!==i.valuesAsString.length||null!=i.placeholder&&0!==i.placeholder.length))),s.xp6(1),s.Q6J("ngIf",!i.selectedItemsTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.selectedItemsTemplate)("ngTemplateOutletContext",s.VKq(38,Zw,i.value)),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngClass",s.DdM(40,ej)),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[gt,ri,Dn,xn,Cn,tk,ee,Vv,Bs,ik,ij],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,dI,ve,Us,Za,up,dI,ve,up]}),n})();class Qw{constructor(t,e){this.oracleService=t,this.invoiceService=e,this.invoice=new S1,this.oracleList=[],this.selectedOracle=[],this.readOracleList()}readOracleList(){this.oracleService.getAll().snapshotChanges().pipe((0,bt.U)(t=>t.map(e=>({key:e.payload.key,...e.payload.val()})))).subscribe(t=>{this.oracleList=t})}createInvoice(t){let e;e=t.value,e.date=RT.anyToDate(e.date),this.invoiceService.create(e)}}Qw.\u0275fac=function(t){return new(t||Qw)(s.Y36(mg),s.Y36(hy))},Qw.\u0275cmp=s.Xpm({type:Qw,selectors:[["app-invoice"]],decls:45,vars:10,consts:[[1,"p-card","p-3",2,"margin","50px",3,"ngSubmit"],["myForm","ngForm"],[1,"flex","justify-content-center","mb-3"],[1,"p-fluid","grid","formgrid"],[1,"field","col-12","md:col-6","lg:col-4"],[1,"p-float-label"],["name","invoiceDate","dateFormat","dd-mm-yy",3,"ngModel","ngModelChange"],["for","inputtext"],["type","text","pInputText","","name","invoiceNo",3,"ngModel","ngModelChange"],["name","oracleLists","optionLabel","oracleNo","optionValue","key",3,"options","ngModel","ngModelChange"],["type","text","pInputText","","name","boe",3,"ngModel","ngModelChange"],["type","text","pInputText","","name","declarationNo",3,"ngModel","ngModelChange"],["type","text","pInputText","","name","remarks",3,"ngModel","ngModelChange"],[1,"flex","gap-3","justify-content-end","pb-5"],["pButton","","pRipple","","type","submit","label","Create","icon","pi pi-pencil",1,"w-1","p-button-raised","p-button-text"]],template:function(t,e){if(1&t){const i=s.EpF();s.TgZ(0,"form",0,1),s.NdJ("ngSubmit",function(){s.CHM(i);const o=s.MAs(1);return s.KtG(e.createInvoice(o))}),s.TgZ(2,"div",2)(3,"h4"),s._uU(4,"Invoice Lists"),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4)(7,"span",5)(8,"p-calendar",6),s.NdJ("ngModelChange",function(o){return e.invoice.date=o}),s.qZA(),s.TgZ(9,"label",7),s._uU(10,"Invoice Date"),s.qZA()()(),s.TgZ(11,"div",4)(12,"span",5)(13,"input",8),s.NdJ("ngModelChange",function(o){return e.invoice.no=o}),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"label",7),s._uU(16,"Invoice No."),s.qZA()()(),s.TgZ(17,"div",4)(18,"span",5)(19,"p-multiSelect",9),s.NdJ("ngModelChange",function(o){return e.selectedOracle=o}),s.qZA(),s.TgZ(20,"label",7),s._uU(21,"Oracles"),s.qZA()()(),s.TgZ(22,"div",4)(23,"span",5)(24,"input",10),s.NdJ("ngModelChange",function(o){return e.invoice.boeNo=o}),s.qZA(),s._UZ(25,"br"),s.TgZ(26,"label",7),s._uU(27,"BOE (Bill Of Entry)"),s.qZA()()(),s.TgZ(28,"div",4)(29,"span",5)(30,"input",11),s.NdJ("ngModelChange",function(o){return e.invoice.declarationNo=o}),s.qZA(),s._UZ(31,"br"),s.TgZ(32,"label",7),s._uU(33,"Declaration #"),s.qZA()()(),s.TgZ(34,"div",4)(35,"span",5)(36,"input",12),s.NdJ("ngModelChange",function(o){return e.invoice.remarks=o}),s.qZA(),s._UZ(37,"br"),s.TgZ(38,"label",7),s._uU(39,"Remarks"),s.qZA()()()(),s.TgZ(40,"div",13),s._UZ(41,"button",14),s.qZA(),s._UZ(42,"div"),s.qZA(),s._uU(43),s.ALo(44,"json")}2&t&&(s.xp6(8),s.Q6J("ngModel",e.invoice.date),s.xp6(5),s.Q6J("ngModel",e.invoice.no),s.xp6(6),s.Q6J("options",e.oracleList)("ngModel",e.selectedOracle),s.xp6(5),s.Q6J("ngModel",e.invoice.boeNo),s.xp6(6),s.Q6J("ngModel",e.invoice.declarationNo),s.xp6(6),s.Q6J("ngModel",e.invoice.remarks),s.xp6(7),s.hij(" ",s.lcZ(44,8,e.oracleList),""))},dependencies:[Bs,cI,py,Uw,eI,yg,my,Bh,uI,ek,rk,cs]});class NL{}class bg{constructor(t){this.db=t,this.dbPath="/packing",this.packingLists=t.list(this.dbPath)}getAll(){return this.packingLists}create(t){return this.packingLists.push(t)}update(t,e){return this.packingLists.update(t,e)}delete(t){return this.packingLists.remove(t)}deleteAll(){return this.packingLists.remove()}}bg.\u0275fac=function(t){return new(t||bg)(s.LFG(YS))},bg.\u0275prov=s.Yz7({token:bg,factory:bg.\u0275fac,providedIn:"root"});let sj=(()=>{class n{constructor(e){this.host=e,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const e=X.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();function aj(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();let i;s.xp6(1),s.Oqu(null!==(i=e.label)&&void 0!==i?i:"empty")}}function lj(n,t){1&n&&s.GkF(0)}const Yw=function(n){return{height:n}},cj=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},sk=function(n){return{$implicit:n}},uj=["container"],dj=["filter"],hj=["in"],pj=["editableInput"],fj=["items"],gj=["scroller"],mj=["overlay"];function _j(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function yj(n,t){1&n&&s.GkF(0)}const vj=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function bj(n,t){if(1&n&&(s.TgZ(0,"span",14),s.YNc(1,_j,2,1,"ng-container",15),s.YNc(2,yj,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,vj,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,sk,e.selectedOption))}}const wj=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function Cj(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,wj,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function Tj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",18,19),s.NdJ("input",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputChange(r))})("focus",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputFocus(r))})("blur",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputBlur(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function Ej(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",20),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.clear(r))}),s.qZA()}}function Sj(n,t){1&n&&s.GkF(0)}function Ij(n,t){1&n&&s.GkF(0)}const PL=function(n){return{options:n}};function Dj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Ij,1,0,"ng-container",16),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,PL,e.filterOptions))}}function xj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",30)(1,"input",31,32),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onKeydown(r,!1))})("input",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onFilterInputChange(r))}),s.qZA(),s._UZ(3,"span",33),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function Aj(n,t){if(1&n&&(s.TgZ(0,"div",27),s.NdJ("click",function(i){return i.stopPropagation()}),s.YNc(1,Dj,2,4,"ng-container",28),s.YNc(2,xj,4,4,"ng-template",null,29,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.filterTemplate)("ngIfElse",e)}}function Mj(n,t){1&n&&s.GkF(0)}const FL=function(n,t){return{$implicit:n,options:t}};function kj(n,t){if(1&n&&s.YNc(0,Mj,1,0,"ng-container",16),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(7);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,FL,e,i))}}function Rj(n,t){1&n&&s.GkF(0)}function Oj(n,t){if(1&n&&s.YNc(0,Rj,1,0,"ng-container",16),2&n){const e=t.options,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,PL,e))}}function Nj(n,t){1&n&&(s.ynx(0),s.YNc(1,Oj,1,4,"ng-template",36),s.BQk())}function Pj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",34,35),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onLazyLoad.emit(r))}),s.YNc(2,kj,1,5,"ng-template",13),s.YNc(3,Nj,2,0,"ng-container",15),s.qZA()}if(2&n){const e=s.oxw(2);s.Akn(s.VKq(8,Yw,e.scrollHeight)),s.Q6J("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",e.loaderTemplate)}}function Fj(n,t){1&n&&s.GkF(0)}const Lj=function(){return{}};function Vj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Fj,1,0,"ng-container",16),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(3,FL,i.optionsToDisplay,s.DdM(2,Lj)))}}function Bj(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function Uj(n,t){1&n&&s.GkF(0)}function Hj(n,t){1&n&&s.GkF(0)}const LL=function(n,t){return{$implicit:n,selectedOption:t}};function zj(n,t){if(1&n&&(s.TgZ(0,"li",42),s.YNc(1,Bj,2,1,"span",15),s.YNc(2,Uj,1,0,"ng-container",16),s.qZA(),s.YNc(3,Hj,1,0,"ng-container",16)),2&n){const e=t.$implicit,i=s.oxw(2).options,r=s.MAs(5),o=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,Yw,i.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",s.VKq(8,sk,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(10,LL,o.getOptionGroupChildren(e),o.selectedOption))}}function Gj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,zj,4,13,"ng-template",41),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function $j(n,t){1&n&&s.GkF(0)}function jj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,$j,1,0,"ng-container",16),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.MAs(5),r=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(2,LL,e,r.selectedOption))}}function qj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",43),s.NdJ("onClick",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onItemClick(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw().selectedOption,r=s.oxw(3);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function Wj(n,t){1&n&&s.YNc(0,qj,1,5,"ng-template",41),2&n&&s.Q6J("ngForOf",t.$implicit)}function Kj(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function Zj(n,t){1&n&&s.GkF(0,null,45)}function Qj(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,Kj,2,1,"ng-container",28),s.YNc(2,Zj,2,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Yw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Yj(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function Jj(n,t){1&n&&s.GkF(0,null,46)}function Xj(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,Yj,2,1,"ng-container",28),s.YNc(2,Jj,2,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Yw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function eq(n,t){if(1&n&&(s.TgZ(0,"ul",37,38),s.YNc(2,Gj,2,1,"ng-container",15),s.YNc(3,jj,2,5,"ng-container",15),s.YNc(4,Wj,1,1,"ng-template",null,39,s.W1O),s.YNc(6,Qj,3,6,"li",40),s.YNc(7,Xj,3,6,"li",40),s.qZA()),2&n){const e=t.options,i=s.oxw(2);s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass),s.uIk("id",i.listId),s.xp6(2),s.Q6J("ngIf",i.group),s.xp6(1),s.Q6J("ngIf",!i.group),s.xp6(3),s.Q6J("ngIf",i.filterValue&&i.isEmpty()),s.xp6(1),s.Q6J("ngIf",!i.filterValue&&i.isEmpty())}}function tq(n,t){1&n&&s.GkF(0)}function nq(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,Sj,1,0,"ng-container",22),s.YNc(2,Aj,4,2,"div",23),s.TgZ(3,"div",24),s.YNc(4,Pj,4,10,"p-scroller",25),s.YNc(5,Vj,2,6,"ng-container",15),s.YNc(6,eq,8,8,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(8,tq,1,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!e.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const iq=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},rq={provide:Er,useExisting:(0,s.Gpc)(()=>hI),multi:!0};let sq=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,aj,2,1,"span",1),s.YNc(2,lj,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,Yw,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,cj,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,sk,i.option)))},dependencies:[gt,Dn,xn,Cn,Bs],encapsulation:2}),n})(),hI=(()=>{class n{constructor(e,i,r,o,c,d){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=c,this.config=d,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=Oc()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&He.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(et.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(et.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?He.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?He.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?He.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?He.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?He.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=X.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");e&&X.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(e){return X.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=X.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=X.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let c=this.optionsToDisplay[r.groupIndex-1];c&&(this.selectItem(e,this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&17!==e.which&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||He.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let c of i)if(o=this.findOption(e,this.getOptionGroupChildren(c),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?X.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():X.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Al),s.Y36(k))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(uj,5),s.Gf(dj,5),s.Gf(hj,5),s.Gf(pj,5),s.Gf(fj,5),s.Gf(gj,5),s.Gf(mj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first),s.iGM(r=s.CRH())&&(i.itemsViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first),s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([rq])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,bj,3,13,"span",5),s.YNc(6,Cj,2,4,"span",6),s.YNc(7,Tj,2,4,"input",7),s.YNc(8,Ej,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"p-overlay",11,12),s.NdJ("visibleChange",function(o){return i.overlayVisible=o})("onAnimationStart",function(o){return i.onOverlayAnimationStart(o)})("onHide",function(){return i.hide()}),s.YNc(13,nq,9,11,"ng-template",13),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(27,iq,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled)("autofocus",i.autofocus),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",i.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[gt,ri,Dn,xn,Cn,tk,ee,Vv,ik,sj,sq],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),n})(),pI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,dI,ve,Us,Za,up,oj,dI,ve,up]}),n})();const oq=["input"];function aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clear())}),s.qZA()}}const VL=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},BL=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function lq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,VL))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,BL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,VL))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function uq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,BL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const dq=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},hq={provide:Er,useExisting:(0,s.Gpc)(()=>ok),multi:!0};let ok=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,c=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(c).length||(this.updateInput(c,null,"spin",null),this.updateModel(e,c),this.handleOnInput(e,o,c))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,c=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:c=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(c),this.input.nativeElement.setAttribute("aria-valuenow",c),this.updateModel(e,c);break;case 8:if(e.preventDefault(),i===r){const d=o.charAt(i-1),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(d)){const w=this.getDecimalLength(o);if(this._group.test(d))this._group.lastIndex=0,c=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(d))this._decimal.lastIndex=0,w?this.input.nativeElement.setSelectionRange(i-1,i-1):c=o.slice(0,i-1)+o.slice(i);else if(f>0&&i>f){const E=this.isDecimalMode()&&(this.minFractionDigits||0)<w?"":"0";c=o.slice(0,i-1)+E+o.slice(i)}else 1===y?(c=o.slice(0,i-1)+"0"+o.slice(i),c=this.parseValue(c)>0?c:""):c=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,c,null,"delete-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const d=o.charAt(i),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(d)){const w=this.getDecimalLength(o);if(this._group.test(d))this._group.lastIndex=0,c=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(d))this._decimal.lastIndex=0,w?this.input.nativeElement.setSelectionRange(i+1,i+1):c=o.slice(0,i)+o.slice(i+1);else if(f>0&&i>f){const E=this.isDecimalMode()&&(this.minFractionDigits||0)<w?"":"0";c=o.slice(0,i)+E+o.slice(i+1)}else 1===y?(c=o.slice(0,i)+"0"+o.slice(i+1),c=this.parseValue(c)>0?c:""):c=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,c,null,"delete-back-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),c=this.isMinusSign(r);13!=i&&e.preventDefault(),(48<=i&&i<=57||c||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:c})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const c=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:c}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let c=this.input.nativeElement.selectionStart,d=this.input.nativeElement.selectionEnd,f=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:w,suffixCharIndex:E,currencyCharIndex:M}=this.getCharIndexes(f);let O;if(r.isMinusSign)0===c&&(O=f,(-1===w||0!==d)&&(O=this.insertText(f,i,0,d)),this.updateValue(e,O,i,"insert"));else if(r.isDecimalSign)y>0&&c===y?this.updateValue(e,f,i,"insert"):(y>c&&y<d||-1===y&&this.maxFractionDigits)&&(O=this.insertText(f,i,c,d),this.updateValue(e,O,i,"insert"));else{const F=this.numberFormat.resolvedOptions().maximumFractionDigits,z=c!==d?"range-insert":"insert";if(y>0&&c>y){if(c+i.length-(y+1)<=F){const W=M>=c?M-1:E>=c?E:f.length;O=f.slice(0,c)+i+f.slice(c+i.length,W)+f.slice(W),this.updateValue(e,O,i,z)}}else O=this.insertText(f,i,c,d),this.updateValue(e,O,i,z)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const d=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,d>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,c=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=c;let d=i.charAt(e);if(this.isNumeralChar(d))return e+c;let f=e-1;for(;f>=0;){if(d=i.charAt(f),this.isNumeralChar(d)){o=f+c;break}f--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(f=e;f<r;){if(d=i.charAt(f),this.isNumeralChar(d)){o=f+c;break}f++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==X.getSelection()&&this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let c=this.input.nativeElement.value,d=null;null!=i&&(d=this.parseValue(i),d=d||this.allowEmpty?d:0,this.updateInput(d,r,o,i),this.handleOnInput(e,c,d))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r,formattedValue:i})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let c=this.input.nativeElement.value,d=this.formatValue(e),f=c.length;if(d!==o&&(d=this.concatValues(d,o)),0===f){this.input.nativeElement.value=d,this.input.nativeElement.setSelectionRange(0,0);const w=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(w,w)}else{let y=this.input.nativeElement.selectionStart,w=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<d.length)return;this.input.nativeElement.value=d;let E=d.length;if("range-insert"===r){const M=this.parseValue((c||"").slice(0,y)),F=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),z=new RegExp(F,"g");z.test(d);const W=i.split("").join(`(${this.groupChar})?`),Ee=new RegExp(W,"g");Ee.test(d.slice(z.lastIndex)),w=z.lastIndex+Ee.lastIndex,this.input.nativeElement.setSelectionRange(w,w)}else if(E===f)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(w+1,w+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(w-1,w-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(w,w);else if("delete-back-single"===r){let M=c.charAt(w-1),O=c.charAt(w),F=f-E,z=this._group.test(O);z&&1===F?w+=1:!z&&this.isNumeralChar(M)&&(w+=-1*F+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(w,w)}else if("-"===c&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const O=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(O,O)}else w+=E-f,this.input.nativeElement.setSelectionRange(w,w)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(oq,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([hq]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","tabindex","-1",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,aq,1,0,"i",3),s.YNc(4,lq,3,12,"span",4),s.YNc(5,cq,1,6,"button",5),s.YNc(6,uq,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,dq,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},dependencies:[gt,Dn,Cn,uI,Bh],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),fI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,qw,Uh]}),n})();function pq(n,t){1&n&&s.GkF(0)}const ak=function(n){return{$implicit:n}};function fq(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,pq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,ak,e.paginatorState))}}function gq(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const gI=function(n){return{"p-disabled":n}};function mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToFirst(r))}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,gI,e.isFirstPage()||e.empty()))}}const _q=function(n){return{"p-highlight":n}};function yq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,d=s.oxw(3);return s.KtG(d.onPageLinkClick(r,c-1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,_q,e-1==i.getPage())),s.xp6(1),s.hij(" ",e," ")}}function vq(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,yq,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function bq(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function wq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onPageDropdownChange(r))}),s.YNc(1,bq,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function Cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToLast(r))}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,gI,e.isLastPage()||e.empty()))}}function Tq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePage(r-1))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function Eq(n,t){1&n&&s.GkF(0)}function Sq(n,t){if(1&n&&s.YNc(0,Eq,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,ak,e))}}function Iq(n,t){1&n&&(s.ynx(0),s.YNc(1,Sq,1,4,"ng-template",30),s.BQk())}function Dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.rows=r)})("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onRppChange(r))}),s.YNc(1,Iq,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function xq(n,t){1&n&&s.GkF(0)}function Aq(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,xq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,ak,e.paginatorState))}}function Mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,fq,2,4,"div",2),s.YNc(2,gq,2,1,"span",3),s.YNc(3,mq,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToPrev(r))}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,vq,2,1,"span",7),s.YNc(7,wq,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToNext(r))}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,Cq,2,4,"button",11),s.YNc(11,Tq,1,2,"p-inputNumber",12),s.YNc(12,Dq,2,6,"p-dropdown",13),s.YNc(13,Aq,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,gI,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,gI,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let kq=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,Mq,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},dependencies:[gt,ri,Dn,xn,Cn,hI,ee,ok,Uw,yg,Bs],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,pI,fI,jw,ve,Za,pI,fI,jw,ve]}),n})();function Rq(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function Oq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Rq,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function Nq(n,t){1&n&&s.GkF(0)}const Pq=function(n,t){return{$implicit:n,index:t}};function Fq(n,t){if(1&n&&s.YNc(0,Nq,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,Pq,i,r))}}const Lq=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function Vq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),c=o.$implicit,d=o.index,f=s.oxw();return s.KtG(f.onItemClick(r,c,d))})("keydown.enter",function(r){const o=s.CHM(e),c=o.$implicit,d=o.index,f=s.oxw();return s.KtG(f.onItemClick(r,c,d))})("blur",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onBlur())}),s.YNc(2,Oq,4,2,"ng-container",4),s.YNc(3,Fq,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,Lq,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const Bq={provide:Er,useExisting:(0,s.Gpc)(()=>Uq),multi:!0};let Uq=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?He.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?He.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?He.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let o=this.getOptionValue(i);this.value!==o&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!He.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value&&this.value instanceof Array)for(let o of this.value)if(He.equals(o,r,this.dataKey)){i=!0;break}}else i=He.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([Bq])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Vq,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},dependencies:[gt,ri,Dn,xn,Cn,Bs],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),n})(),HL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,Za]}),n})();const Hq=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function zq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),c=s.MAs(3);return s.KtG(o.onClick(r,c))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,Hq,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const Gq=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},$q=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},jq={provide:Er,useExisting:(0,s.Gpc)(()=>qq),multi:!0};let qq=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([jq])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(c){return i.onKeyup(c)})("keydown",function(c){return i.onKeydown(c)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(c){s.CHM(r);const d=s.MAs(3);return s.KtG(i.onClick(c,d))}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,zq,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,Gq,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,$q,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},dependencies:[gt,Dn,Cn],encapsulation:2,changeDetection:0}),n})(),Wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();const Kq=["container"],Zq=["resizeHelper"],Qq=["reorderIndicatorUp"],Yq=["reorderIndicatorDown"],Jq=["wrapper"],Xq=["table"],eW=["thead"],tW=["tfoot"],nW=["scroller"];function iW(n,t){if(1&n&&(s.TgZ(0,"div",15),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function rW(n,t){1&n&&s.GkF(0)}function sW(n,t){if(1&n&&(s.TgZ(0,"div",16),s.YNc(1,rW,1,0,"ng-container",17),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function oW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",18),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onPageChange(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function aW(n,t){1&n&&s.GkF(0)}const zL=function(n,t){return{$implicit:n,options:t}};function lW(n,t){if(1&n&&s.YNc(0,aW,1,0,"ng-container",22),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(10);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,zL,e,i))}}const cW=function(n){return{height:n}};function uW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",19,20),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onLazyItemLoad(r))}),s.YNc(2,lW,1,5,"ng-template",21),s.qZA()}if(2&n){const e=s.oxw();s.Akn(s.VKq(15,cW,"flex"!==e.scrollHeight?e.scrollHeight:void 0)),s.Q6J("items",e.processedData)("columns",e.columns)("scrollHeight","flex"!==e.scrollHeight?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("step",e.rows)("delay",e.lazy?e.virtualScrollDelay:0)("inline",!0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)("autoSize",!0)}}function dW(n,t){1&n&&s.GkF(0)}const hW=function(n){return{columns:n}};function pW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,dW,1,0,"ng-container",22),s.BQk()),2&n){const e=s.oxw(),i=s.MAs(10);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(4,zL,e.processedData,s.VKq(2,hW,e.columns)))}}function fW(n,t){1&n&&s.GkF(0)}function gW(n,t){1&n&&s.GkF(0)}function mW(n,t){if(1&n&&s._UZ(0,"tbody",31),2&n){const e=s.oxw().options,i=s.oxw();s.Q6J("value",i.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function _W(n,t){if(1&n&&s._UZ(0,"tbody",32),2&n){const e=s.oxw().options;s.Akn("height: calc("+e.spacerStyle.height+" - "+e.rows.length*e.itemSize+"px);")}}function yW(n,t){1&n&&s.GkF(0)}const Jw=function(n){return{$implicit:n}};function vW(n,t){if(1&n&&(s.TgZ(0,"tfoot",33,34),s.YNc(2,yW,1,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Jw,e.columns))}}const bW=function(n,t,e){return{"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":t,"p-datatable-resizable-table-fit":e}};function wW(n,t){if(1&n&&(s.TgZ(0,"table",23,24),s.YNc(2,fW,1,0,"ng-container",22),s.TgZ(3,"thead",25,26),s.YNc(5,gW,1,0,"ng-container",22),s.qZA(),s.YNc(6,mW,1,5,"tbody",27),s._UZ(7,"tbody",28),s.YNc(8,_W,1,2,"tbody",29),s.YNc(9,vW,3,4,"tfoot",30),s.qZA()),2&n){const e=t.options,i=s.oxw();s.Akn(i.tableStyle),s.Tol(i.tableStyleClass),s.Q6J("ngClass",s.kEZ(20,bW,i.scrollable,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode)),s.uIk("id",i.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",s.VKq(24,Jw,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",s.VKq(26,Jw,e.columns)),s.xp6(1),s.Q6J("ngIf",i.frozenValue||i.frozenBodyTemplate),s.xp6(1),s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass)("value",i.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",e),s.xp6(1),s.Q6J("ngIf",e.spacerStyle),s.xp6(1),s.Q6J("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function CW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",35),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onPageChange(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function TW(n,t){1&n&&s.GkF(0)}function EW(n,t){if(1&n&&(s.TgZ(0,"div",36),s.YNc(1,TW,1,0,"ng-container",17),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function SW(n,t){1&n&&s._UZ(0,"div",37,38)}function IW(n,t){1&n&&s._UZ(0,"span",39,40)}function DW(n,t){1&n&&s._UZ(0,"span",41,42)}const xW=function(n,t,e){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":t,"p-datatable-flex-scrollable":e}},AW=function(n){return{maxHeight:n}},MW=["pTableBody",""];function kW(n,t){1&n&&s.GkF(0)}const lk=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function RW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,kW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,lk,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function OW(n,t){1&n&&s.GkF(0)}function NW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,OW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",i?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,lk,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function PW(n,t){1&n&&s.GkF(0)}const FW=function(n,t,e,i,r,o,c){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:c}};function LW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,PW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",i?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.Hh0(2,FW,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function VW(n,t){1&n&&s.GkF(0)}function BW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,VW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,lk,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function UW(n,t){if(1&n&&(s.YNc(0,RW,2,8,"ng-container",2),s.YNc(1,NW,2,8,"ng-container",0),s.YNc(2,LW,2,10,"ng-container",0),s.YNc(3,BW,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function HW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,UW,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function zW(n,t){1&n&&s.GkF(0)}const mI=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function GW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,zW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,mI,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function $W(n,t){1&n&&s.GkF(0)}function jW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,$W,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,mI,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function qW(n,t){1&n&&s.GkF(0)}function WW(n,t){1&n&&s.GkF(0)}function KW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,WW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,mI,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const GL=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function ZW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,qW,1,0,"ng-container",4),s.YNc(2,KW,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,GL,i,o.getRowIndex(r),o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,o.getRowIndex(r)))}}function QW(n,t){if(1&n&&(s.YNc(0,GW,2,9,"ng-container",0),s.YNc(1,jW,2,9,"ng-container",2),s.YNc(2,ZW,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(i))),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function YW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,QW,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function JW(n,t){1&n&&s.GkF(0)}function XW(n,t){1&n&&s.GkF(0)}function eK(n,t){if(1&n&&(s.ynx(0),s.YNc(1,XW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,GL,i,o.getRowIndex(r),o.columns,o.frozen))}}function tK(n,t){if(1&n&&(s.YNc(0,JW,1,0,"ng-container",4),s.YNc(1,eK,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,mI,e,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function nK(n,t){if(1&n&&(s.ynx(0),s.YNc(1,tK,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function iK(n,t){1&n&&s.GkF(0)}const $L=function(n,t){return{$implicit:n,frozen:t}};function rK(n,t){if(1&n&&(s.ynx(0),s.YNc(1,iK,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,$L,e.columns,e.frozen))}}function sK(n,t){1&n&&s.GkF(0)}function oK(n,t){if(1&n&&(s.ynx(0),s.YNc(1,sK,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,$L,e.columns,e.frozen))}}function aK(n,t){if(1&n&&(s.TgZ(0,"span",2),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.getBadgeValue())}}const lK=function(n,t,e){return{"pi-sort-amount-up-alt":n,"pi-sort-amount-down":t,"pi-sort-alt":e}},jL=function(n,t){return{"p-checkbox-focused":n,"p-checkbox-disabled":t}},dK=function(n,t,e){return{"p-checkbox-box p-component":!0,"p-highlight":n,"p-focus":t,"p-disabled":e}},qL=function(n){return{"pi pi-check":n}},hK=function(n,t,e){return{"p-checkbox-box":!0,"p-highlight":n,"p-focus":t,"p-disabled":e}};let Xw=(()=>{class n{constructor(){this.sortSource=new Zn.x,this.selectionSource=new Zn.x,this.contextMenuSource=new Zn.x,this.valueSource=new Zn.x,this.totalRecordsSource=new Zn.x,this.columnsSource=new Zn.x,this.resetSource=new Zn.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),dp=(()=>{class n{constructor(e,i,r,o,c,d){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=c,this.overlayService=d,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(f,y)=>y,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Oc()}get responsive(){return this._responsive}set responsive(e){this._responsive=e,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get processedData(){return this.filteredValue||this.value||[]}dataToRender(e){const i=e||this.processedData;if(i&&this.paginator){const r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(He.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(He.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,c)=>{let d=He.resolveFieldData(o,e),f=He.resolveFieldData(c,e),y=null;return y=null==d&&null!=f?-1:null!=d&&null==f?1:null==d&&null==f?0:"string"==typeof d&&"string"==typeof f?d.localeCompare(f):d<f?-1:d>f?1:0,i*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){const c=He.resolveFieldData(e,r[o].field),d=He.resolveFieldData(i,r[o].field);return 0===He.compare(c,d,this.filterLocale)?r.length-1>o?this.multisortField(e,i,r,o+1):0:this.compareValuesOnSort(c,d,r[o].order)}compareValuesOnSort(e,i,r){return He.sort(e,i,r,this.filterLocale,this.sortOrder)}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!X.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let c=e.rowData,d=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)X.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=d,this.selectRange(e.originalEvent,d);else{let f=this.isSelected(c);if(!f&&!this.isRowSelectable(c,d))return;let y=!this.rowTouched&&this.metaKeySelection,w=this.dataKey?String(He.resolveFieldData(c,this.dataKey)):null;if(this.anchorRowIndex=d,this.rangeRowIndex=d,y){let E=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(f&&E){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let M=this.findIndexInSelection(c);this._selection=this.selection.filter((O,F)=>F!=M),this.selectionChange.emit(this.selection),w&&delete this.selectionKeys[w]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row"})}else this.isSingleSelectionMode()?(this._selection=c,this.selectionChange.emit(c),w&&(this.selectionKeys={},this.selectionKeys[w]=1)):this.isMultipleSelectionMode()&&(E?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,c],this.selectionChange.emit(this.selection),w&&(this.selectionKeys[w]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:d})}else if("single"===this.selectionMode)f?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:d})):(this._selection=c,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:d}),w&&(this.selectionKeys={},this.selectionKeys[w]=1));else if("multiple"===this.selectionMode)if(f){let E=this.findIndexInSelection(c);this._selection=this.selection.filter((M,O)=>O!=E),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:d}),w&&delete this.selectionKeys[w]}else this._selection=this.selection?[...this.selection,c]:[c],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:d}),w&&(this.selectionKeys[w]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),c=this.dataKey?String(He.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),c&&(this.selectionKeys={},this.selectionKeys[c]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),c&&(this.selectionKeys[c]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let c=[];for(let d=r;d<=o;d++){let f=this.filteredValue?this.filteredValue[d]:this.value[d];if(!this.isSelected(f)){if(!this.isRowSelectable(f,i))continue;c.push(f),this._selection=[...this.selection,f];let y=this.dataKey?String(He.resolveFieldData(f,this.dataKey)):null;y&&(this.selectionKeys[y]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:c,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let c=this.value[o],d=this.findIndexInSelection(c);this._selection=this.selection.filter((y,w)=>w!=d);let f=this.dataKey?String(He.resolveFieldData(c,this.dataKey)):null;f&&delete this.selectionKeys[f],this.onRowUnselect.emit({originalEvent:e,data:c,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[He.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(He.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(He.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let c=this.findIndexInSelection(i);this._selection=this.selection.filter((d,f)=>f!=c),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let o=this.selectionPageOnly&&this._selection?this._selection.filter(c=>!r.some(d=>this.equals(c,d))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((c,d)=>this.rowSelectable({data:c,index:d})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:He.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let d,r=!0,o=!1,c=!1;for(let f in this.filters)if(this.filters.hasOwnProperty(f)&&"global"!==f){c=!0;let y=f,w=this.filters[y];if(Array.isArray(w)){for(let E of w)if(r=this.executeLocalFilter(y,this.value[i],E),E.operator===La.OR&&r||E.operator===La.AND&&!r)break}else r=this.executeLocalFilter(y,this.value[i],w);if(!r)break}if(this.filters.global&&!o&&e)for(let f=0;f<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](He.resolveFieldData(this.value[i],e[f].field||e[f]),this.filters.global.value,this.filterLocale),!o);f++);d=this.filters.global?c?c&&r&&o:o:c&&r,d&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,c=r.matchMode||ei.STARTS_WITH,d=He.resolveFieldData(i,e);return(0,this.filterService.filters[c])(d,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:e&&e.allValues?i=this.value||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let f=0;f<o.length;f++){let y=o[f];!1!==y.exportable&&y.field&&(r+='"'+this.getExportHeader(y)+'"',f<o.length-1&&(r+=this.csvSeparator))}i.forEach((f,y)=>{r+="\n";for(let w=0;w<o.length;w++){let E=o[w];if(!1!==E.exportable&&E.field){let M=He.resolveFieldData(f,E.field);M=null!=M?this.exportFunction?this.exportFunction({data:M,field:E.field}):String(M).replace(/"/g,'""'):"",r+='"'+M+'"',w<o.length-1&&(r+=this.csvSeparator)}}});let c=new Blob([r],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.style.display="none",document.body.appendChild(d),void 0!==d.download?(d.setAttribute("href",URL.createObjectURL(c)),d.setAttribute("download",this.exportFilename+".csv"),d.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(d)}onLazyItemLoad(e){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...e,rows:e.last-e.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===X.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(X.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(He.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===X.find(i,".ng-invalid.ng-dirty").length){let r=String(He.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(He.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(He.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(He.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(He.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=X.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=X.getOffset(this.containerViewChild.nativeElement).left;X.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let d=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&d>15&&this.resizeTableCells(r,d)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+e+"px"),this.resizeTableCells(r,null));this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",X.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=X.index(this.resizeColumnElement),o=[];const c=X.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");X.find(c,"tr > th").forEach(y=>o.push(X.getOuterWidth(y))),this.destroyStyleElement(),this.createStyleElement();let f="";o.forEach((y,w)=>{let E=w===r?e:i&&w===r+1?i:y;f+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${w+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${w+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${w+1}) {\n                    width: ${E}px !important; max-width: ${E}px !important;\n                }\n            `}),this.styleElement.innerHTML=f}onColumnDragStart(e,i){this.reorderIconWidth=X.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=X.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=X.getOffset(this.containerViewChild.nativeElement),o=X.getOffset(i);if(this.draggedColumn!=i){X.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),X.indexWithinGroup(i,"preorderablecolumn");let f=o.left-r.left,w=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>w?(this.reorderIndicatorUpViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&e.preventDefault()}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=X.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=X.indexWithinGroup(i,"preorderablecolumn"),c=r!=o;c&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(c=!1),c&&o<r&&1===this.dropPosition&&(o+=1),c&&o>r&&-1===this.dropPosition&&(o-=1),c&&(He.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=X.getOffset(r).top+X.getWindowScrollTop(),c=e.pageY,d=o+X.getOuterHeight(r)/2,f=r.previousElementSibling;c<d?(X.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,f?X.addClass(f,"p-datatable-dragpoint-bottom"):X.addClass(r,"p-datatable-dragpoint-top")):(f?X.removeClass(f,"p-datatable-dragpoint-bottom"):X.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,X.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&X.removeClass(r,"p-datatable-dragpoint-bottom"),X.removeClass(i,"p-datatable-dragpoint-bottom"),X.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;He.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let c=JSON.parse(i,function(c,d){return"string"==typeof d&&r.test(d)?new Date(d):d});this.paginator&&(void 0!==this.first&&(this.first=c.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=c.rows,this.rowsChange.emit(this.rows))),c.sortField&&(this.restoringSort=!0,this._sortField=c.sortField,this._sortOrder=c.sortOrder),c.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=c.multiSortMeta),c.filters&&(this.restoringFilter=!0,this.filters=c.filters),this.resizableColumns&&(this.columnWidthsState=c.columnWidths,this.tableWidthState=c.tableWidth),c.expandedRowKeys&&(this.expandedRowKeys=c.expandedRowKeys),c.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(c.selection)),this.stateRestored=!0,this.onStateRestore.emit(c)}}saveColumnWidths(e){let i=[];X.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(X.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=X.getOuterWidth(this.tableViewChild.nativeElement))}setResizeTableWidth(e){this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),He.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,o)=>{i+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            width: ${r}px !important; max-width: ${r}px !important\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let c=[];o.map(d=>{let f=this.findColumnByKey(d);f&&c.push(f)}),this.columnOrderStateRestored=!0,this.columns=c}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Xw),s.Y36(s.sBO),s.Y36(Al),s.Y36(I))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Kq,5),s.Gf(Zq,5),s.Gf(Qq,5),s.Gf(Yq,5),s.Gf(Jq,5),s.Gf(Xq,5),s.Gf(eW,5),s.Gf(tW,5),s.Gf(nW,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableFooterViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([Xw]),s.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,iW,2,2,"div",2),s.YNc(3,sW,2,1,"div",3),s.YNc(4,oW,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,uW,3,17,"p-scroller",7),s.YNc(8,pW,2,7,"ng-container",8),s.YNc(9,wW,10,28,"ng-template",null,9,s.W1O),s.qZA(),s.YNc(11,CW,1,17,"p-paginator",10),s.YNc(12,EW,2,1,"div",11),s.YNc(13,SW,2,0,"div",12),s.YNc(14,IW,2,0,"span",13),s.YNc(15,DW,2,0,"span",14),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.kEZ(16,xW,i.rowHover||i.selectionMode,i.scrollable,i.scrollable&&"flex"===i.scrollHeight)),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,AW,i.virtualScroll?"":i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.virtualScroll),s.xp6(3),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},dependencies:function(){return[gt,Dn,xn,Cn,kq,ee,ik,PK]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),n})(),PK=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let o=He.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==He.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=He.resolveFieldData(i,this.dt.groupRowsBy),c=e[r+1];return!c||o!==He.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=He.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==He.resolveFieldData(c,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=He.resolveFieldData(i,this.dt.groupRowsBy),c=o,d=0;for(;o===c;){d++;let f=e[++r];if(!f)break;c=He.resolveFieldData(f,this.dt.groupRowsBy)}return 1===d?null:d}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=X.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=X.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}getScrollerOption(e,i){return this.dt.virtualScroll&&(i=i||this.scrollerOptions)?i[e]:null}getRowIndex(e){const i=this.dt.paginator?this.dt.first+e:e,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dp),s.Y36(Xw),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:MW,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.YNc(0,HW,2,2,"ng-container",0),s.YNc(1,YW,2,2,"ng-container",0),s.YNc(2,nK,2,2,"ng-container",0),s.YNc(3,rK,2,5,"ng-container",0),s.YNc(4,oK,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},dependencies:[ri,Dn,xn],encapsulation:2}),n})(),WL=(()=>{class n{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(i=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),X.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return X.hasClass(e,"pi-filter-icon")||X.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dp))},n.\u0275dir=s.lG2({type:n,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o)})("keydown.enter",function(o){return i.onEnterKey(o)}),2&e&&(s.uIk("tabindex",i.isEnabled()?"0":null)("role","columnheader")("aria-sort",i.sortOrder),s.ekj("p-sortable-column",i.isEnabled())("p-highlight",i.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),n})(),KL=(()=>{class n{constructor(e,i){this.dt=e,this.cd=i,this.subscription=this.dt.tableService.sortSource$.subscribe(r=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,i=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let r=0;r<e.length;r++){let o=e[r];if(o.field===this.field||o.field===this.field){i=r;break}}return i}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dp),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,i){1&e&&(s._UZ(0,"i",0),s.YNc(1,aK,2,1,"span",1)),2&e&&(s.Q6J("ngClass",s.kEZ(2,lK,1===i.sortOrder,-1===i.sortOrder,0===i.sortOrder)),s.xp6(1),s.Q6J("ngIf",i.isMultiSorted()))},dependencies:[gt,Dn],encapsulation:2,changeDetection:0}),n})(),FK=(()=>{class n{constructor(e){this.dt=e}onClick(e){this.isEnabled()&&(this.dt.toggleRow(this.data,e),e.preventDefault())}isEnabled(){return!0!==this.pRowTogglerDisabled}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dp))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRowToggler",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o)})},inputs:{data:["pRowToggler","data"],pRowTogglerDisabled:"pRowTogglerDisabled"}}),n})(),LK=(()=>{class n{constructor(e,i,r){this.dt=e,this.tableService=i,this.cd=r,this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.checked=this.dt.isSelected(this.value),this.cd.markForCheck()})}ngOnInit(){this.checked=this.dt.isSelected(this.value)}onClick(e){this.disabled||this.dt.toggleRowWithCheckbox({originalEvent:e,rowIndex:this.index},this.value),X.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dp),s.Y36(Xw),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-tableCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",value:"value",index:"index",inputId:"inputId",name:"name",required:"required",ariaLabel:"ariaLabel"},decls:6,vars:19,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(o){return i.onClick(o)}),s.TgZ(1,"div",1)(2,"input",2),s.NdJ("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(3,"div",3,4),s._UZ(5,"span",5),s.qZA()()),2&e&&(s.Q6J("ngClass",s.WLB(10,jL,i.focused,i.disabled)),s.xp6(2),s.Q6J("checked",i.checked)("disabled",i.disabled),s.uIk("id",i.inputId)("name",i.name)("required",i.required)("aria-label",i.ariaLabel),s.xp6(1),s.Q6J("ngClass",s.kEZ(13,dK,i.checked,i.focused,i.disabled)),s.uIk("aria-checked",i.checked),s.xp6(2),s.Q6J("ngClass",s.VKq(17,qL,i.checked)))},dependencies:[gt],encapsulation:2,changeDetection:0}),n})(),VK=(()=>{class n{constructor(e,i,r){this.dt=e,this.tableService=i,this.cd=r,this.valueChangeSubscription=this.dt.tableService.valueSource$.subscribe(()=>{this.checked=this.updateCheckedState()}),this.selectionChangeSubscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.checked=this.updateCheckedState()})}ngOnInit(){this.checked=this.updateCheckedState()}onClick(e){this.disabled||this.dt.value&&this.dt.value.length>0&&this.dt.toggleRowsWithCheckbox(e,!this.checked),X.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}isDisabled(){return this.disabled||!this.dt.value||!this.dt.value.length}ngOnDestroy(){this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe()}updateCheckedState(){if(this.cd.markForCheck(),null!==this.dt._selectAll)return this.dt._selectAll;{const e=this.dt.selectionPageOnly?this.dt.dataToRender(this.dt.processedData):this.dt.processedData,i=this.dt.frozenValue?[...this.dt.frozenValue,...e]:e,r=this.dt.rowSelectable?i.filter((o,c)=>this.dt.rowSelectable({data:o,index:c})):i;return He.isNotEmpty(r)&&He.isNotEmpty(this.dt.selection)&&r.every(o=>this.dt.selection.some(c=>this.dt.equals(o,c)))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dp),s.Y36(Xw),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-tableHeaderCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",inputId:"inputId",name:"name",ariaLabel:"ariaLabel"},decls:7,vars:18,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["cb",""],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(o){return i.onClick(o)}),s.TgZ(1,"div",1)(2,"input",2,3),s.NdJ("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4,5),s._UZ(6,"span",6),s.qZA()()),2&e&&(s.Q6J("ngClass",s.WLB(9,jL,i.focused,i.isDisabled())),s.xp6(2),s.Q6J("checked",i.checked)("disabled",i.isDisabled()),s.uIk("id",i.inputId)("name",i.name)("aria-label",i.ariaLabel),s.xp6(2),s.Q6J("ngClass",s.kEZ(12,hK,i.checked,i.focused,i.isDisabled())),s.uIk("aria-checked",i.checked),s.xp6(2),s.Q6J("ngClass",s.VKq(16,qL,i.checked)))},dependencies:[gt],encapsulation:2,changeDetection:0}),n})(),BK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,UL,qw,pI,jw,Uh,HL,AL,fI,Wq,up,ve,up]}),n})();function UK(n,t){1&n&&(s.TgZ(0,"tr"),s._UZ(1,"th",21),s.TgZ(2,"th",22),s._uU(3,"Oracle # "),s._UZ(4,"p-sortIcon",23),s.qZA(),s.TgZ(5,"th",24),s._uU(6,"Amount"),s._UZ(7,"p-sortIcon",25),s.qZA(),s.TgZ(8,"th",26),s._uU(9,"CBM "),s._UZ(10,"p-sortIcon",27),s.qZA()())}function HK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._UZ(2,"button",28),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA()()),2&n){const e=t.$implicit,i=t.expanded;s.xp6(2),s.Q6J("pRowToggler",e)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),s.xp6(2),s.Oqu(e.oracleNo),s.xp6(2),s.Oqu(e.amount),s.xp6(2),s.Oqu(e.cbm)}}function zK(n,t){1&n&&(s.TgZ(0,"tr")(1,"th",33),s._uU(2,"Packing List #"),s._UZ(3,"p-sortIcon",25),s.qZA(),s.TgZ(4,"th",34),s._uU(5,"Qty "),s._UZ(6,"p-sortIcon",35),s.qZA(),s.TgZ(7,"th",36),s._uU(8,"Weight "),s._UZ(9,"p-sortIcon",37),s.qZA(),s._UZ(10,"th",38),s.qZA())}function GK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._UZ(8,"p-button",39),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.plNo),s.xp6(2),s.Oqu(e.qty),s.xp6(2),s.Oqu(e.weight)}}function $K(n,t){1&n&&(s.TgZ(0,"tr")(1,"td",40),s._uU(2,"There are no order for this product yet."),s.qZA()())}function jK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",29)(2,"div",30)(3,"p-table",31),s.YNc(4,zK,11,0,"ng-template",18),s.YNc(5,GK,9,3,"ng-template",19),s.YNc(6,$K,3,0,"ng-template",32),s.qZA()()()()),2&n){const e=t.$implicit;s.xp6(3),s.Q6J("value",e.packingLists)}}const qK=function(){return{"min-width":"60rem"}};class eC{constructor(t,e){this.packingService=t,this.oracleService=e,this.oracle=new NL,this.packingLists=[],this.selectedPacking=[],this.oracleList=[],this.selectedOracle=new NL,this.totalQty=0,this.itemTypes=[{type:"Merchandise"},{type:"Non-Merchandise"}],this.selectedItemType="",this.readPackingLists(),this.readOracleLists()}readPackingLists(){this.packingService.getAll().snapshotChanges().pipe((0,bt.U)(t=>t.map(e=>({key:e.payload.key,...e.payload.val()})))).subscribe(t=>{this.packingLists=t})}readOracleLists(){this.oracleService.getAll().snapshotChanges().pipe((0,bt.U)(t=>t.map(e=>({key:e.payload.key,...e.payload.val()})))).subscribe(t=>{this.oracleList=t})}readSelectedOracleList(t){this.oracleList=t.data}createOracle(t){this.oracleService.create(t.value)}}eC.\u0275fac=function(t){return new(t||eC)(s.Y36(bg),s.Y36(mg))},eC.\u0275cmp=s.Xpm({type:eC,selectors:[["app-oracle"]],decls:47,vars:12,consts:[[1,"p-card","p-3",2,"margin","50px",3,"ngSubmit"],["myForm","ngForm"],[1,"flex","justify-content-center","mb-3"],[1,"p-fluid","grid","formgrid"],[1,"field","col-12"],[1,"p-float-label"],["type","text","pInputText","","name","oracleNo",3,"ngModel","ngModelChange"],["for","inputtext"],[1,"field","col-12","md:col-6","lg:col-4"],["name","packingLists","optionLabel","plNo","optionValue","key",3,"options","ngModel","ngModelChange"],["type","text","pInputText","","name","amount",3,"ngModel","ngModelChange"],["type","text","pInputText","","name","vWeight",3,"ngModel","ngModelChange"],["type","text","pInputText","","name","cbm",3,"ngModel","ngModelChange"],["type","text","pInputText","","name","disc",3,"ngModel","ngModelChange"],["optionLabel","type","name","itemType","optionValue","type",3,"options","ngModel","ngModelChange"],[1,"flex","gap-3","justify-content-end","pb-5"],["pButton","","pRipple","","type","submit","label","Create","icon","pi pi-pencil",1,"w-1","p-button-raised","p-button-text"],["dataKey","oracleNo","styleClass","p-datatable-sm",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"width","5rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["colspan","7"],[1,"p-3"],["dataKey","key",3,"value"],["pTemplate","emptymessage"],["pSortableColumn","id"],["pSortableColumn","qty"],["field","customer"],["pSortableColumn","weight"],["field","date"],[2,"width","4rem"],["type","button","icon","pi pi-search"],["colspan","6"]],template:function(t,e){if(1&t){const i=s.EpF();s.TgZ(0,"form",0,1),s.NdJ("ngSubmit",function(){s.CHM(i);const o=s.MAs(1);return s.KtG(e.createOracle(o))}),s.TgZ(2,"div",2)(3,"h4"),s._uU(4,"Oracle List"),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4)(7,"span",5)(8,"input",6),s.NdJ("ngModelChange",function(o){return e.oracle.oracleNo=o}),s.qZA(),s.TgZ(9,"label",7),s._uU(10,"Oracle #"),s.qZA()()(),s.TgZ(11,"div",8)(12,"span",5)(13,"p-multiSelect",9),s.NdJ("ngModelChange",function(o){return e.selectedPacking=o}),s.qZA(),s.TgZ(14,"label",7),s._uU(15,"Packing List"),s.qZA()()(),s.TgZ(16,"div",8)(17,"span",5)(18,"input",10),s.NdJ("ngModelChange",function(o){return e.oracle.amount=o}),s.qZA(),s.TgZ(19,"label",7),s._uU(20,"Amount"),s.qZA()()(),s.TgZ(21,"div",8)(22,"span",5)(23,"input",11),s.NdJ("ngModelChange",function(o){return e.oracle.vWeight=o}),s.qZA(),s.TgZ(24,"label",7),s._uU(25,"Volumetric Weight"),s.qZA()()(),s.TgZ(26,"div",8)(27,"span",5)(28,"input",12),s.NdJ("ngModelChange",function(o){return e.oracle.cbm=o}),s.qZA(),s.TgZ(29,"label",7),s._uU(30,"CBM (Cubic Meter)"),s.qZA()()(),s.TgZ(31,"div",8)(32,"span",5)(33,"input",13),s.NdJ("ngModelChange",function(o){return e.oracle.disc=o}),s.qZA(),s.TgZ(34,"label",7),s._uU(35,"Item Description"),s.qZA()()(),s.TgZ(36,"div",8)(37,"span",5)(38,"p-dropdown",14),s.NdJ("ngModelChange",function(o){return e.selectedItemType=o}),s.qZA(),s.TgZ(39,"label",7),s._uU(40,"Item Type"),s.qZA()()()(),s.TgZ(41,"div",15),s._UZ(42,"button",16),s.qZA(),s.TgZ(43,"p-table",17),s.YNc(44,UK,11,0,"ng-template",18),s.YNc(45,HK,9,5,"ng-template",19),s.YNc(46,jK,7,1,"ng-template",20),s.qZA()()}2&t&&(s.xp6(8),s.Q6J("ngModel",e.oracle.oracleNo),s.xp6(5),s.Q6J("options",e.packingLists)("ngModel",e.selectedPacking),s.xp6(5),s.Q6J("ngModel",e.oracle.amount),s.xp6(5),s.Q6J("ngModel",e.oracle.vWeight),s.xp6(5),s.Q6J("ngModel",e.oracle.cbm),s.xp6(5),s.Q6J("ngModel",e.oracle.disc),s.xp6(5),s.Q6J("options",e.itemTypes)("ngModel",e.selectedItemType),s.xp6(5),s.Q6J("value",e.oracleList)("tableStyle",s.DdM(11,qK)))},dependencies:[Bs,cI,py,Uw,eI,yg,my,Bh,s1,ee,uI,hI,rk,dp,WL,FK,KL]});class WK{}class ZL{constructor(){this.shipFrom=[{name:"Apparel FZCO",addressLine1:"Zebel Ali,",addressLine2:"South Zone",location:"FZCO",countryName:"UAE",vatNo:"00015498",contactPerson:"Nabeel",contactNo:"+971123456"},{name:"Apparel LLC",addressLine1:"Dubai,",addressLine2:"Dubai",location:"DIP",countryName:"UAE",vatNo:"7895465",contactPerson:"Vinod",contactNo:"+97456789"},{name:"Apparel International LLC",addressLine1:"Dubai,",addressLine2:"Dubai",location:"DIP",countryName:"Oman",vatNo:"7895465",contactPerson:"Abhijit",contactNo:"+97456789"},{name:"R&B Fashion LLC",addressLine1:"Dubai,",addressLine2:"Dubai",location:"DIP",countryName:"Oman",vatNo:"7895465",contactPerson:"Alagation",contactNo:"+97456789"}]}getShipFrom(){return this.shipFrom}}const KK=["inputtext"];function ZK(n,t){1&n&&s.GkF(0)}function QK(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Oqu(i.field?i.resolveFieldData(e,i.field):e)}}function YK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",13),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().index,c=s.oxw();return s.KtG(c.removeItem(r,o))}),s.qZA()}}const JK=function(n){return{$implicit:n}};function XK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",7,8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,d=s.oxw();return s.KtG(d.onItemClick(r,c))}),s.YNc(2,ZK,1,0,"ng-container",9),s.YNc(3,QK,2,1,"span",10),s.YNc(4,YK,1,0,"span",11),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",s.VKq(4,JK,e)),s.xp6(1),s.Q6J("ngIf",!i.itemTemplate),s.xp6(1),s.Q6J("ngIf",!i.disabled)}}function eZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"i",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clear())}),s.qZA()()}}const tZ=function(n,t){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":t}},nZ=function(n){return{"p-chips-clearable":n}},iZ={provide:Er,useExisting:(0,s.Gpc)(()=>QL),multi:!0};let QL=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new s.vpe,this.onRemove=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onChipClick=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.itemTemplate=e.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(r=>{this.addItem(e,r,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,i){this.onChipClick.emit({originalEvent:e,value:i})}writeValue(e){this.value=e,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,i){if(e&&i){if(-1==i.indexOf("."))return e[i];{let c=i.split("."),d=e;for(var r=0,o=c.length;r<o;++r)d=d[c[r]];return d}}return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,i){if(this.disabled)return;let r=this.value[i];this.value=this.value.filter((o,c)=>c!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:r}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,i,r){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",r&&e.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(e){switch(e.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:i}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&(this.separator===e.key||e.key.match(this.separator))&&this.addItem(e,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-chips"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(KK,5),2&e){let r;s.iGM(r=s.CRH())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[s._Bn([iZ])],decls:7,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return i.onClick()}),s.TgZ(1,"ul",1),s.YNc(2,XK,5,6,"li",2),s.TgZ(3,"li",3)(4,"input",4,5),s.NdJ("keydown",function(o){return i.onKeydown(o)})("input",function(){return i.onInput()})("paste",function(o){return i.onPaste(o)})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA()(),s.YNc(6,eZ,2,0,"li",6),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-chips p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngClass",s.WLB(16,tZ,i.focus,i.disabled)),s.xp6(1),s.Q6J("ngForOf",i.value),s.xp6(1),s.Q6J("ngClass",s.VKq(19,nZ,i.showClear&&!i.disabled)),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("disabled",i.disabled)("ngStyle",i.inputStyle),s.uIk("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[gt,ri,Dn,xn,Cn],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),rZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,qw,ve,qw,ve]}),n})();function sZ(n,t){1&n&&(s.TgZ(0,"tr")(1,"th",24),s._UZ(2,"p-tableHeaderCheckbox"),s.qZA(),s.TgZ(3,"th",25),s._uU(4," PL No "),s._UZ(5,"p-sortIcon",26),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Brands"),s.qZA(),s.TgZ(8,"th",27),s._uU(9," Ship From "),s._UZ(10,"p-sortIcon",28),s.qZA(),s.TgZ(11,"th",29),s._uU(12," Ship To "),s._UZ(13,"p-sortIcon",30),s.qZA(),s.TgZ(14,"th",31),s._uU(15," Document Date "),s._UZ(16,"p-sortIcon",32),s.qZA(),s.TgZ(17,"th"),s._uU(18,"Pack Qty"),s.qZA(),s.TgZ(19,"th"),s._uU(20,"Qty"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Cartons"),s.qZA(),s.TgZ(23,"th"),s._uU(24,"Pallets"),s.qZA(),s.TgZ(25,"th"),s._uU(26,"Weight"),s.qZA()())}function oZ(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._UZ(2,"p-tableCheckbox",33),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.ALo(13,"date"),s.qZA(),s.TgZ(14,"td"),s._uU(15),s.qZA(),s.TgZ(16,"td"),s._uU(17),s.qZA(),s.TgZ(18,"td"),s._uU(19),s.qZA(),s.TgZ(20,"td"),s._uU(21),s.qZA(),s.TgZ(22,"td"),s._uU(23),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("value",e),s.xp6(2),s.Oqu(e.plNo),s.xp6(2),s.Oqu(null==e.brandNames?null:e.brandNames.toString()),s.xp6(2),s.Oqu(null==e.shipFrom?null:e.shipFrom.name),s.xp6(2),s.Oqu(null==e.shipTo?null:e.shipTo.name),s.xp6(2),s.Oqu(s.xi3(13,11,e.docDate,"dd-MM-yyyy")),s.xp6(3),s.Oqu(e.packQty),s.xp6(2),s.Oqu(e.qty),s.xp6(2),s.Oqu(e.ctns),s.xp6(2),s.Oqu(e.plts),s.xp6(2),s.Oqu(e.weight)}}class tC{constructor(t){this.database=t,this.packingList=new WK,this.packingLists=[],this.selectedPackings=[],this.shipFrom=[],this.shipTo=[],this.shipFrom=(new ZL).getShipFrom(),this.shipTo=(new ZL).getShipFrom(),this.readPackingLists()}readPackingLists(){this.database.getAll().snapshotChanges().pipe((0,bt.U)(t=>t.map(e=>({key:e.payload.key,...e.payload.val()})))).subscribe(t=>{this.packingLists=t})}readSelectedPackingList(t){this.packingList=t.data,this.packingList.docDate=RT.anyToDate(t.data.docDate)}createPackingList(t){this.packingList=t.value,this.packingList.docDate=t.value.docDate.toString(),this.packingList.isOracleGenerate=!1,this.database.create(this.packingList),this.clearForm()}deletePackingList(){this.database.delete(String(this.packingList.key)),this.clearForm()}updatePackingList(){this.database.update(String(this.packingList.key),this.packingList)}clearForm(){this.packingList={}}}tC.\u0275fac=function(t){return new(t||tC)(s.Y36(bg))},tC.\u0275cmp=s.Xpm({type:tC,selectors:[["app-packing"]],decls:65,vars:23,consts:[[1,"p-card","p-3",2,"margin","50px",3,"ngSubmit"],["myForm","ngForm"],[1,"flex","justify-content-center","mb-3"],[1,"p-fluid","grid","formgrid"],[1,"field","col-12","md:col-6","lg:col-4"],[1,"p-float-label"],["name","docDate","dateFormat","dd-mm-yy",3,"ngModel","ngModelChange"],["for","inputtext"],["type","text","pInputText","","name","plNo",3,"ngModel","ngModelChange"],["separator",",","name","brandNames",3,"ngModel","showClear","ngModelChange"],["name","shipFrom","optionLabel","name",3,"options","ngModel","autoDisplayFirst","showClear","ngModelChange"],["name","shipTo","optionLabel","name",3,"options","ngModel","autoDisplayFirst","showClear","ngModelChange"],["name","packQty","inputId","integeronly",3,"ngModel","ngModelChange"],["name","qty","inputId","integeronly",3,"ngModel","ngModelChange"],["name","ctns","inputId","integeronly",3,"ngModel","ngModelChange"],["name","plts","inputId","integeronly",3,"ngModel","ngModelChange"],["name","weight","inputId","minmaxfraction","mode","decimal",3,"ngModel","minFractionDigits","maxFractionDigits","ngModelChange"],[1,"flex","gap-3","justify-content-end","pb-5"],["pButton","","pRipple","","type","submit","label","Create","icon","pi pi-pencil",1,"w-1","p-button-raised","p-button-text"],["pButton","","pRipple","","type","button","label","Update","icon","pi pi-replay",1,"w-1","p-button-raised","p-button-text","p-button-plain",3,"click"],["pButton","","pRipple","","type","button","label","Delete","icon","pi pi-times",1,"w-1","p-button-raised","p-button-danger","p-button-text",3,"click"],["dataKey","key","styleClass","p-datatable-sm",3,"value","selection","paginator","rows","selectionChange","onRowSelect"],["pTemplate","header"],["pTemplate","body"],[2,"width","4rem"],["pSortableColumn","plNo"],["field","plNo"],["pSortableColumn","shipFrom.name"],["field","shipFrom"],["pSortableColumn","shipTo.countryName"],["field","shipTo"],["pSortableColumn","docDate"],["field","docDate"],[3,"value"]],template:function(t,e){if(1&t){const i=s.EpF();s.TgZ(0,"form",0,1),s.NdJ("ngSubmit",function(){s.CHM(i);const o=s.MAs(1);return s.KtG(e.createPackingList(o))}),s.TgZ(2,"div",2)(3,"h4"),s._uU(4,"Packing Lists"),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4)(7,"span",5)(8,"p-calendar",6),s.NdJ("ngModelChange",function(o){return e.packingList.docDate=o}),s.qZA(),s.TgZ(9,"label",7),s._uU(10,"Document Date"),s.qZA()()(),s.TgZ(11,"div",4)(12,"span",5)(13,"input",8),s.NdJ("ngModelChange",function(o){return e.packingList.plNo=o}),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"label",7),s._uU(16,"Packing List #"),s.qZA()()(),s.TgZ(17,"div",4)(18,"span",5)(19,"p-chips",9),s.NdJ("ngModelChange",function(o){return e.packingList.brandNames=o}),s.qZA(),s.TgZ(20,"label",7),s._uU(21,"Brands"),s.qZA()()(),s.TgZ(22,"div",4)(23,"span",5)(24,"p-dropdown",10),s.NdJ("ngModelChange",function(o){return e.packingList.shipFrom=o}),s.qZA(),s.TgZ(25,"label",7),s._uU(26,"Ship From"),s.qZA()()(),s.TgZ(27,"div",4)(28,"span",5)(29,"p-dropdown",11),s.NdJ("ngModelChange",function(o){return e.packingList.shipTo=o}),s.qZA(),s.TgZ(30,"label",7),s._uU(31,"Ship To"),s.qZA()()(),s.TgZ(32,"div",4)(33,"span",5)(34,"p-inputNumber",12),s.NdJ("ngModelChange",function(o){return e.packingList.packQty=o}),s.qZA(),s.TgZ(35,"label",7),s._uU(36,"Packing Qty"),s.qZA()()(),s.TgZ(37,"div",4)(38,"span",5)(39,"p-inputNumber",13),s.NdJ("ngModelChange",function(o){return e.packingList.qty=o}),s.qZA(),s.TgZ(40,"label",7),s._uU(41,"Quantity"),s.qZA()()(),s.TgZ(42,"div",4)(43,"span",5)(44,"p-inputNumber",14),s.NdJ("ngModelChange",function(o){return e.packingList.ctns=o}),s.qZA(),s.TgZ(45,"label",7),s._uU(46,"Cartons"),s.qZA()()(),s.TgZ(47,"div",4)(48,"span",5)(49,"p-inputNumber",15),s.NdJ("ngModelChange",function(o){return e.packingList.plts=o}),s.qZA(),s.TgZ(50,"label",7),s._uU(51,"Pallets"),s.qZA()()(),s.TgZ(52,"div",4)(53,"span",5)(54,"p-inputNumber",16),s.NdJ("ngModelChange",function(o){return e.packingList.weight=o}),s.qZA(),s.TgZ(55,"label",7),s._uU(56,"Weight"),s.qZA()()()(),s.TgZ(57,"div",17),s._UZ(58,"button",18),s.TgZ(59,"button",19),s.NdJ("click",function(){return e.updatePackingList()}),s.qZA(),s.TgZ(60,"button",20),s.NdJ("click",function(){return e.deletePackingList()}),s.qZA()(),s.TgZ(61,"div")(62,"p-table",21),s.NdJ("selectionChange",function(o){return e.selectedPackings=o})("onRowSelect",function(o){return e.readSelectedPackingList(o)}),s.YNc(63,sZ,27,0,"ng-template",22),s.YNc(64,oZ,24,14,"ng-template",23),s.qZA()()()}2&t&&(s.xp6(8),s.Q6J("ngModel",e.packingList.docDate),s.xp6(5),s.Q6J("ngModel",e.packingList.plNo),s.xp6(6),s.Q6J("ngModel",e.packingList.brandNames)("showClear",!0),s.xp6(5),s.Q6J("options",e.shipFrom)("ngModel",e.packingList.shipFrom)("autoDisplayFirst",!1)("showClear",!0),s.xp6(5),s.Q6J("options",e.shipTo)("ngModel",e.packingList.shipTo)("autoDisplayFirst",!1)("showClear",!0),s.xp6(5),s.Q6J("ngModel",e.packingList.packQty),s.xp6(5),s.Q6J("ngModel",e.packingList.qty),s.xp6(5),s.Q6J("ngModel",e.packingList.ctns),s.xp6(5),s.Q6J("ngModel",e.packingList.plts),s.xp6(5),s.Q6J("ngModel",e.packingList.weight)("minFractionDigits",2)("maxFractionDigits",3),s.xp6(8),s.Q6J("value",e.packingLists)("selection",e.selectedPackings)("paginator",!0)("rows",5))},dependencies:[Bs,cI,py,Uw,eI,yg,my,Bh,ee,uI,ek,QL,hI,ok,dp,WL,KL,LK,VK,rr]});class nC{}nC.\u0275fac=function(t){return new(t||nC)},nC.\u0275cmp=s.Xpm({type:nC,selectors:[["app-shipment"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"shipment works!"),s.qZA())}});const aZ=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"packing",component:tC},{path:"oracle",component:eC},{path:"invoice",component:Qw},{path:"shipment",component:nC}];class vy{}function YL(n){return new s.vHH(3e3,!1)}function zZ(){return typeof window<"u"&&typeof window.document<"u"}function ck(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function hp(n){switch(n.length){case 0:return new Ww;case 1:return n[0];default:return new EL(n)}}function JL(n,t,e,i,r=new Map,o=new Map){const c=[],d=[];let f=-1,y=null;if(i.forEach(w=>{const E=w.get("offset"),M=E==f,O=M&&y||new Map;w.forEach((F,z)=>{let W=z,Ee=F;if("offset"!==z)switch(W=t.normalizePropertyName(W,c),Ee){case"!":Ee=r.get(z);break;case Hd:Ee=o.get(z);break;default:Ee=t.normalizeStyleValue(z,W,Ee,c)}O.set(W,Ee)}),M||d.push(O),y=O,f=E}),c.length)throw function MZ(n){return new s.vHH(3502,!1)}();return d}function uk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&dk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&dk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&dk(e,"destroy",n)))}}function dk(n,t,e){const o=hk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function hk(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function oa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XL(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}vy.\u0275fac=function(t){return new(t||vy)},vy.\u0275mod=s.oAB({type:vy}),vy.\u0275inj=s.cJS({imports:[Pf.forRoot(aZ),Pf]});let pk=(n,t)=>!1,e2=(n,t,e)=>[],t2=null;function fk(n){const t=n.parentNode||n.host;return t===t2?null:t}(ck()||typeof Element<"u")&&(zZ()?(t2=(()=>document.documentElement)(),pk=(n,t)=>{for(;t;){if(t===n)return!0;t=fk(t)}return!1}):pk=(n,t)=>n.contains(t),e2=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let wg=null,n2=!1;const r2=pk,s2=e2;let o2=(()=>{class n{validateStyleProperty(e){return function $Z(n){wg||(wg=function jZ(){return typeof document<"u"?document.body:null}()||{},n2=!!wg.style&&"WebkitAppearance"in wg.style);let t=!0;return wg.style&&!function GZ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wg.style,!t&&n2&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return r2(e,i)}getParentElement(e){return fk(e)}query(e,i,r){return s2(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,d=[],f){return new Ww(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),gk=(()=>{class n{}return n.NOOP=new o2,n})();const mk="ng-enter",_I="ng-leave",yI="ng-trigger",vI=".ng-trigger",l2="ng-animating",_k=".ng-animating";function zd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yk(parseFloat(t[1]),t[2])}function yk(n,t){return"s"===t?1e3*n:n}function bI(n,t,e){return n.hasOwnProperty("duration")?n:function KZ(n,t,e){let r,o=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(YL()),{duration:0,delay:0,easing:""};r=yk(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(o=yk(parseFloat(f),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,f=t.length;r<0&&(t.push(function lZ(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function cZ(){return new s.vHH(3101,!1)}()),d=!0),d&&t.splice(f,0,YL())}return{duration:r,delay:o,easing:c}}(n,t,e)}function iC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function c2(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function pp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function d2(n,t,e){return e?t+":"+e+";":""}function h2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=d2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=d2(0,JZ(e),n.style[e]));n.setAttribute("style",t)}function cu(n,t,e){n.style&&(t.forEach((i,r)=>{const o=bk(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),ck()&&h2(n))}function Cg(n,t){n.style&&(t.forEach((e,i)=>{const r=bk(i);n.style[r]=""}),ck()&&h2(n))}function rC(n){return Array.isArray(n)?1==n.length?n[0]:bL(n):n}const vk=new RegExp("{{\\s*(.+?)\\s*}}","g");function p2(n){let t=[];if("string"==typeof n){let e;for(;e=vk.exec(n);)t.push(e[1]);vk.lastIndex=0}return t}function sC(n,t,e){const i=n.toString(),r=i.replace(vk,(o,c)=>{let d=t[c];return null==d&&(e.push(function dZ(n){return new s.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function wI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const YZ=/-+([a-z0-9])/g;function bk(n){return n.replace(YZ,(...t)=>t[1].toUpperCase())}function JZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function aa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function hZ(n){return new s.vHH(3004,!1)}()}}function f2(n,t){return window.getComputedStyle(n)[t]}function s5(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function o5(n,t,e){if(":"==n[0]){const f=function a5(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function IZ(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function SZ(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(g2(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(g2(c,r))}(i,e,t)):e.push(n),e}const SI=new Set(["true","1"]),II=new Set(["false","0"]);function g2(n,t){const e=SI.has(n)||II.has(n),i=SI.has(t)||II.has(t);return(r,o)=>{let c="*"==n||n==r,d="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?SI.has(n):II.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?SI.has(t):II.has(t)),c&&d}}const l5=new RegExp("s*:selfs*,?","g");function wk(n,t,e,i){return new c5(n).build(t,e,i)}class c5{constructor(t){this._driver=t}build(t,e,i){const r=new h5(e);return this._resetContextStyleTimingState(r),aa(this,rC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function fZ(){return new s.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,y=f.name;y.toString().split(/\s*,\s*/).forEach(w=>{f.name=w,o.push(this.visitState(f,e))}),f.name=y}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,r+=f.depCount,c.push(f)}else e.errors.push(function gZ(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{p2(f).forEach(y=>{c.hasOwnProperty(y)||o.add(y)})})}),o.size&&(wI(o.values()),e.errors.push(function mZ(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=aa(this,rC(t.animation),e);return{type:1,matchers:s5(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Tg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>aa(this,i,e)),options:Tg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const d=aa(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:Tg(t.options)}}visitAnimate(t,e){const i=function f5(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ck(bI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ck(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=bI(e,t);return Ck(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:lu({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=lu(y)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,e);f.isEmptyStep=d,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Hd?i.push(d):e.errors.push(new s.vHH(3002,!1)):i.push(c2(d));let o=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!o))for(let f of d.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,f)=>{const y=e.collectedStyles.get(e.currentQuerySelector),w=y.get(f);let E=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function yZ(n,t,e,i,r){return new s.vHH(3010,!1)}()),E=!1),o=w.startTime),E&&y.set(f,{startTime:o,endTime:r}),e.options&&function QZ(n,t,e){const i=t.params||{},r=p2(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function uZ(n){return new s.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vZ(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let d=!1,f=!1,y=0;const w=t.steps.map(Ee=>{const Le=this._makeStyleAst(Ee,e);let Pe=null!=Le.offset?Le.offset:function p5(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Le.styles),Ve=0;return null!=Pe&&(o++,Ve=Le.offset=Pe),f=f||Ve<0||Ve>1,d=d||Ve<y,y=Ve,c.push(Ve),Le});f&&e.errors.push(function bZ(){return new s.vHH(3012,!1)}()),d&&e.errors.push(function wZ(){return new s.vHH(3200,!1)}());const E=t.steps.length;let M=0;o>0&&o<E?e.errors.push(function CZ(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(E-1));const O=E-1,F=e.currentTime,z=e.currentAnimateTimings,W=z.duration;return w.forEach((Ee,Le)=>{const Pe=M>0?Le==O?1:M*Le:c[Le],Ve=Pe*W;e.currentTime=F+z.delay+Ve,z.duration=Ve,this._validateStyleAst(Ee,e),Ee.offset=Pe,i.styles.push(Ee)}),i}visitReference(t,e){return{type:8,animation:aa(this,rC(t.animation),e),options:Tg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Tg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Tg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function u5(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(l5,"")),n=n.replace(/@\*/g,vI).replace(/@\w+/g,e=>vI+"-"+e.slice(1)).replace(/:animating/g,_k),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,oa(e.collectedStyles,e.currentQuerySelector,new Map);const d=aa(this,rC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:Tg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function TZ(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:bI(t.timings,e.errors,!0);return{type:12,animation:aa(this,rC(t.animation),e),timings:i,options:null}}}class h5{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tg(n){return n?(n=iC(n)).params&&(n.params=function d5(n){return n?iC(n):null}(n.params)):n={},n}function Ck(n,t,e){return{duration:n,delay:t,easing:e}}function Tk(n,t,e,i,r,o,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class DI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const _5=new RegExp(":enter","g"),v5=new RegExp(":leave","g");function Ek(n,t,e,i,r,o=new Map,c=new Map,d,f,y=[]){return(new b5).buildKeyframes(n,t,e,i,r,o,c,d,f,y)}class b5{buildKeyframes(t,e,i,r,o,c,d,f,y,w=[]){y=y||new DI;const E=new Sk(t,e,y,r,o,w,[]);E.options=f;const M=f.delay?zd(f.delay):0;E.currentTimeline.delayNextStep(M),E.currentTimeline.setStyles([c],null,E.errors,f),aa(this,i,E);const O=E.timelines.filter(F=>F.containsAnimation());if(O.length&&d.size){let F;for(let z=O.length-1;z>=0;z--){const W=O[z];if(W.element===e){F=W;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([d],null,E.errors,f)}return O.length?O.map(F=>F.buildKeyframes()):[Tk(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const c="number"==typeof o?o:zd(sC(o,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?zd(i.duration):null,d=null!=i.delay?zd(i.delay):null;return 0!==c&&t.forEach(f=>{const y=e.appendInstructionToTimeline(f,c,d);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),aa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xI);const c=zd(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>aa(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?zd(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),aa(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return bI(e.params?sC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*o),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?zd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xI);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((y,w)=>{e.currentQueryIndex=w;const E=e.createSubContext(t.options,y);o&&E.delayNextStep(o),y===e.element&&(f=E.currentTimeline),aa(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),d=c*(e.currentQueryTotal-1);let f=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const w=e.currentTimeline;f&&w.delayNextStep(f);const E=w.currentTime;aa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const xI={};class Sk{constructor(t,e,i,r,o,c,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new AI(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=zd(i.duration)),null!=i.delay&&(r.delay=zd(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=sC(o[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Sk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=xI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new w5(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(_5,"."+this._enterClassName)).replace(v5,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!o&&0==d.length&&c.push(function EZ(n){return new s.vHH(3014,!1)}()),d}}class AI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new AI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Hd),this._currentKeyframe.set(e,Hd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function C5(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Hd)}else pp(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,f]of c){const y=sC(f,o,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Hd),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const y=pp(d,new Map,this._backFill);y.forEach((w,E)=>{"!"===w?t.add(E):w===Hd&&e.add(E)}),i||y.set("offset",f/this.duration),r.push(y)});const o=t.size?wI(t.values()):[],c=e.size?wI(e.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return Tk(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class w5 extends AI{constructor(t,e,i,r,o,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,d=e/c,f=pp(t[0]);f.set("offset",0),o.push(f);const y=pp(t[0]);y.set("offset",y2(d)),o.push(y);const w=t.length-1;for(let E=1;E<=w;E++){let M=pp(t[E]);const O=M.get("offset");M.set("offset",y2((e+O*i)/c)),o.push(M)}i=c,e=0,r="",t=o}return Tk(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function y2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ik{}const T5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class E5 extends Ik{normalizePropertyName(t,e){return bk(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(T5.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function pZ(n,t){return new s.vHH(3005,!1)}())}return c+o}}function v2(n,t,e,i,r,o,c,d,f,y,w,E,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:d,queriedElements:f,preStyleProps:y,postStyleProps:w,totalTime:E,errors:M}}const Dk={};class b2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function S5(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,d,f,y,w){const E=[],M=this.ast.options&&this.ast.options.params||Dk,F=this.buildStyles(i,d&&d.params||Dk,E),z=f&&f.params||Dk,W=this.buildStyles(r,z,E),Ee=new Set,Le=new Map,Pe=new Map,Ve="void"===r,ut={params:I5(z,M),delay:this.ast.options?.delay},pt=w?[]:Ek(t,e,this.ast.animation,o,c,F,W,ut,y,E);let Jt=0;if(pt.forEach(yi=>{Jt=Math.max(yi.duration+yi.delay,Jt)}),E.length)return v2(e,this._triggerName,i,r,Ve,F,W,[],[],Le,Pe,Jt,E);pt.forEach(yi=>{const eo=yi.element,gz=oa(Le,eo,new Set);yi.preStyleProps.forEach(em=>gz.add(em));const _0=oa(Pe,eo,new Set);yi.postStyleProps.forEach(em=>_0.add(em)),eo!==e&&Ee.add(eo)});const Rn=wI(Ee.values());return v2(e,this._triggerName,i,r,Ve,F,W,pt,Rn,Le,Pe,Jt)}}function I5(n,t){const e=iC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class D5{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=iC(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{c&&(c=sC(c,r,e));const f=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,f,c,e),i.set(d,c)})}),i}}class A5{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new D5(r.style,r.options&&r.options.params||{},i))}),w2(this.states,"true","1"),w2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new b2(t,r,this.states))}),this.fallbackTransition=function M5(n,t,e){return new b2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function w2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const k5=new DI;class R5{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=wk(this._driver,e,i,[]);if(i.length)throw function kZ(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=JL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const d=new Map;if(o?(c=Ek(this._driver,e,o,mk,_I,new Map,new Map,i,k5,r),c.forEach(w=>{const E=oa(d,w.element,new Map);w.postStyleProps.forEach(M=>E.set(M,null))})):(r.push(function RZ(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function OZ(n){return new s.vHH(3504,!1)}();d.forEach((w,E)=>{w.forEach((M,O)=>{w.set(O,this._driver.computeStyle(E,O,Hd))})});const y=hp(c.map(w=>{const E=d.get(w.element);return this._buildPlayer(w,new Map,E)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function NZ(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=hk(e,"","","");return uk(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const C2="ng-animate-queued",xk="ng-animate-disabled",L5=[],T2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},il="__ng_removed";class Ak{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function z5(n){return n??null}(i?t.value:t),i){const o=iC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const oC="void",Mk=new Ak(oC);class B5{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,rl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function PZ(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function FZ(n){return new s.vHH(3303,!1)}();if(!function G5(n){return"start"==n||"done"==n}(i))throw function LZ(n,t){return new s.vHH(3400,!1)}();const o=oa(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const d=oa(this._engine.statesByElement,t,new Map);return d.has(e)||(rl(t,yI),rl(t,yI+"-"+e),d.set(e,Mk)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(c);f>=0&&o.splice(f,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function VZ(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new kk(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(rl(t,yI),rl(t,yI+"-"+e),this._engine.statesByElement.set(t,d=new Map));let f=d.get(e);const y=new Ak(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),d.set(e,y),f||(f=Mk),y.value!==oC&&f.value===y.value){if(!function q5(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,y.params)){const z=[],W=o.matchStyles(f.value,f.params,z),Ee=o.matchStyles(y.value,y.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{Cg(t,W),cu(t,Ee)})}return}const M=oa(this._engine.playersByElement,t,[]);M.forEach(z=>{z.namespaceId==this.id&&z.triggerName==e&&z.queued&&z.destroy()});let O=o.matchTransition(f.value,y.value,t,y.params),F=!1;if(!O){if(!r)return;O=o.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:O,fromState:f,toState:y,player:c,isFallbackTransition:F}),F||(rl(t,C2),c.onStart(()=>{by(t,C2)})),c.onDone(()=>{let z=this.players.indexOf(c);z>=0&&this.players.splice(z,1);const W=this._engine.playersByElement.get(t);if(W){let Ee=W.indexOf(c);Ee>=0&&W.splice(Ee,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,vI,!0);i.forEach(r=>{if(r[il])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const d=[];if(o.forEach((f,y)=>{if(c.set(y,f.value),this._triggers.has(y)){const w=this.trigger(t,y,oC,r);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&hp(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const f=this._triggers.get(c).fallbackTransition,y=i.get(c)||Mk,w=new Ak(oC),E=new kk(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:f,fromState:y,toState:w,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[il];(!o||o===T2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){rl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==i.triggerName){const f=hk(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,uk(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class U5{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new B5(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const f=r.get(d);if(f){const y=i.indexOf(f);i.splice(y+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(MI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!MI(e))return;const o=e[il];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),rl(t,xk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),by(t,xk))}removeNode(t,e,i,r){if(MI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[il]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return MI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,vI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,_k,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[il];if(e&&e.setForRemoval){if(t[il]=T2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(xk)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)rl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?hp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function BZ(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new DI,r=[],o=new Map,c=[],d=new Map,f=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(Tt=>{w.add(Tt);const Lt=this.driver.query(Tt,".ng-animate-queued",!0);for(let zt=0;zt<Lt.length;zt++)w.add(Lt[zt])});const E=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=I2(M,this.collectedEnterElements),F=new Map;let z=0;O.forEach((Tt,Lt)=>{const zt=mk+z++;F.set(Lt,zt),Tt.forEach(wn=>rl(wn,zt))});const W=[],Ee=new Set,Le=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const Lt=this.collectedLeaveElements[Tt],zt=Lt[il];zt&&zt.setForRemoval&&(W.push(Lt),Ee.add(Lt),zt.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(wn=>Ee.add(wn)):Le.add(Lt))}const Pe=new Map,Ve=I2(M,Array.from(Ee));Ve.forEach((Tt,Lt)=>{const zt=_I+z++;Pe.set(Lt,zt),Tt.forEach(wn=>rl(wn,zt))}),t.push(()=>{O.forEach((Tt,Lt)=>{const zt=F.get(Lt);Tt.forEach(wn=>by(wn,zt))}),Ve.forEach((Tt,Lt)=>{const zt=Pe.get(Lt);Tt.forEach(wn=>by(wn,zt))}),W.forEach(Tt=>{this.processLeaveNode(Tt)})});const ut=[],pt=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(e).forEach(zt=>{const wn=zt.player,Ur=zt.element;if(ut.push(wn),this.collectedEnterElements.length){const Es=Ur[il];if(Es&&Es.setForMove){if(Es.previousTriggersValues&&Es.previousTriggersValues.has(zt.triggerName)){const tm=Es.previousTriggersValues.get(zt.triggerName),ol=this.statesByElement.get(zt.element);if(ol&&ol.has(zt.triggerName)){const lx=ol.get(zt.triggerName);lx.value=tm,ol.set(zt.triggerName,lx)}}return void wn.destroy()}}const bu=!E||!this.driver.containsElement(E,Ur),ha=Pe.get(Ur),Pp=F.get(Ur),Oi=this._buildInstruction(zt,i,Pp,ha,bu);if(Oi.errors&&Oi.errors.length)return void pt.push(Oi);if(bu)return wn.onStart(()=>Cg(Ur,Oi.fromStyles)),wn.onDestroy(()=>cu(Ur,Oi.toStyles)),void r.push(wn);if(zt.isFallbackTransition)return wn.onStart(()=>Cg(Ur,Oi.fromStyles)),wn.onDestroy(()=>cu(Ur,Oi.toStyles)),void r.push(wn);const yz=[];Oi.timelines.forEach(Es=>{Es.stretchStartingKeyframe=!0,this.disabledNodes.has(Es.element)||yz.push(Es)}),Oi.timelines=yz,i.append(Ur,Oi.timelines),c.push({instruction:Oi,player:wn,element:Ur}),Oi.queriedElements.forEach(Es=>oa(d,Es,[]).push(wn)),Oi.preStyleProps.forEach((Es,tm)=>{if(Es.size){let ol=f.get(tm);ol||f.set(tm,ol=new Set),Es.forEach((lx,QN)=>ol.add(QN))}}),Oi.postStyleProps.forEach((Es,tm)=>{let ol=y.get(tm);ol||y.set(tm,ol=new Set),Es.forEach((lx,QN)=>ol.add(QN))})});if(pt.length){const Tt=[];pt.forEach(Lt=>{Tt.push(function UZ(n,t){return new s.vHH(3505,!1)}())}),ut.forEach(Lt=>Lt.destroy()),this.reportError(Tt)}const Jt=new Map,Rn=new Map;c.forEach(Tt=>{const Lt=Tt.element;i.has(Lt)&&(Rn.set(Lt,Lt),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,Jt))}),r.forEach(Tt=>{const Lt=Tt.element;this._getPreviousPlayers(Lt,!1,Tt.namespaceId,Tt.triggerName,null).forEach(wn=>{oa(Jt,Lt,[]).push(wn),wn.destroy()})});const yi=W.filter(Tt=>x2(Tt,f,y)),eo=new Map;S2(eo,this.driver,Le,y,Hd).forEach(Tt=>{x2(Tt,f,y)&&yi.push(Tt)});const _0=new Map;O.forEach((Tt,Lt)=>{S2(_0,this.driver,new Set(Tt),f,"!")}),yi.forEach(Tt=>{const Lt=eo.get(Tt),zt=_0.get(Tt);eo.set(Tt,new Map([...Array.from(Lt?.entries()??[]),...Array.from(zt?.entries()??[])]))});const em=[],mz=[],_z={};c.forEach(Tt=>{const{element:Lt,player:zt,instruction:wn}=Tt;if(i.has(Lt)){if(w.has(Lt))return zt.onDestroy(()=>cu(Lt,wn.toStyles)),zt.disabled=!0,zt.overrideTotalTime(wn.totalTime),void r.push(zt);let Ur=_z;if(Rn.size>1){let ha=Lt;const Pp=[];for(;ha=ha.parentNode;){const Oi=Rn.get(ha);if(Oi){Ur=Oi;break}Pp.push(ha)}Pp.forEach(Oi=>Rn.set(Oi,Ur))}const bu=this._buildAnimation(zt.namespaceId,wn,Jt,o,_0,eo);if(zt.setRealPlayer(bu),Ur===_z)em.push(zt);else{const ha=this.playersByElement.get(Ur);ha&&ha.length&&(zt.parentPlayer=hp(ha)),r.push(zt)}}else Cg(Lt,wn.fromStyles),zt.onDestroy(()=>cu(Lt,wn.toStyles)),mz.push(zt),w.has(Lt)&&r.push(zt)}),mz.forEach(Tt=>{const Lt=o.get(Tt.element);if(Lt&&Lt.length){const zt=hp(Lt);Tt.setRealPlayer(zt)}}),r.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<W.length;Tt++){const Lt=W[Tt],zt=Lt[il];if(by(Lt,_I),zt&&zt.hasAnimation)continue;let wn=[];if(d.size){let bu=d.get(Lt);bu&&bu.length&&wn.push(...bu);let ha=this.driver.query(Lt,_k,!0);for(let Pp=0;Pp<ha.length;Pp++){let Oi=d.get(ha[Pp]);Oi&&Oi.length&&wn.push(...Oi)}}const Ur=wn.filter(bu=>!bu.destroyed);Ur.length?$5(this,Lt,Ur):this.processLeaveNode(Lt)}return W.length=0,em.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const Lt=this.players.indexOf(Tt);this.players.splice(Lt,1)}),Tt.play()}),em}elementContainsData(t,e){let i=!1;const r=e[il];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const f=!o||o==oC;d.forEach(y=>{y.queued||!f&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const y=f.element,w=y!==o,E=oa(i,y,[]);this._getPreviousPlayers(y,w,c,d,e.toState).forEach(O=>{const F=O.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),O.destroy(),E.push(O)})}Cg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const d=e.triggerName,f=e.element,y=[],w=new Set,E=new Set,M=e.timelines.map(F=>{const z=F.element;w.add(z);const W=z[il];if(W&&W.removedBeforeQueried)return new Ww(F.duration,F.delay);const Ee=z!==f,Le=function j5(n){const t=[];return D2(n,t),t}((i.get(z)||L5).map(Jt=>Jt.getRealPlayer())).filter(Jt=>!!Jt.element&&Jt.element===z),Pe=o.get(z),Ve=c.get(z),ut=JL(0,this._normalizer,0,F.keyframes,Pe,Ve),pt=this._buildPlayer(F,ut,Le);if(F.subTimeline&&r&&E.add(z),Ee){const Jt=new kk(t,d,z);Jt.setRealPlayer(pt),y.push(Jt)}return pt});y.forEach(F=>{oa(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function H5(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),w.forEach(F=>rl(F,l2));const O=hp(M);return O.onDestroy(()=>{w.forEach(F=>by(F,l2)),cu(f,e.toStyles)}),E.forEach(F=>{oa(r,F,[]).push(O)}),O}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ww(t.duration,t.delay)}}class kk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ww,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>uk(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){oa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function MI(n){return n&&1===n.nodeType}function E2(n,t){const e=n.style.display;return n.style.display=t??"none",e}function S2(n,t,e,i,r){const o=[];e.forEach(f=>o.push(E2(f)));const c=[];i.forEach((f,y)=>{const w=new Map;f.forEach(E=>{const M=t.computeStyle(y,E,r);w.set(E,M),(!M||0==M.length)&&(y[il]=V5,c.push(y))}),n.set(y,w)});let d=0;return e.forEach(f=>E2(f,o[d++])),c}function I2(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(d){if(!d)return 1;let f=o.get(d);if(f)return f;const y=d.parentNode;return f=e.has(y)?y:r.has(y)?1:c(y),o.set(d,f),f}return t.forEach(d=>{const f=c(d);1!==f&&e.get(f).push(d)}),e}function rl(n,t){n.classList?.add(t)}function by(n,t){n.classList?.remove(t)}function $5(n,t,e){hp(e).onDone(()=>n.processLeaveNode(t))}function D2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof EL?D2(i.players,t):t.push(i)}}function x2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class kI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new U5(t,e,i),this._timelineEngine=new R5(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const f=[],w=wk(this._driver,o,f,[]);if(f.length)throw function AZ(n,t){return new s.vHH(3404,!1)}();d=function x5(n,t,e){return new A5(n,t,e)}(r,w,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=XL(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,d]=XL(i);return this._timelineEngine.listen(c,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let K5=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&cu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cu(this._element,this._initialStyles),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cg(this._element,this._endStyles),this._endStyles=null),cu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Rk(n){let t=null;return n.forEach((e,i)=>{(function Z5(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class A2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:f2(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Q5{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return r2(t,e)}getParentElement(t){return fk(t)}query(t,e,i){return s2(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const y=new Map,w=c.filter(O=>O instanceof A2);(function XZ(n,t){return 0===n||0===t})(i,r)&&w.forEach(O=>{O.currentSnapshot.forEach((F,z)=>y.set(z,F))});let E=function ZZ(n){return n.length?n[0]instanceof Map?n:n.map(t=>c2(t)):[]}(e).map(O=>pp(O));E=function e5(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(d=>c.set(d,f2(n,d)))}}return t}(t,E,y);const M=function W5(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Rk(t[0]),t.length>1&&(i=Rk(t[t.length-1]))):t instanceof Map&&(e=Rk(t)),e||i?new K5(n,e,i):null}(t,E);return new A2(t,E,f,M)}}let Y5=(()=>{class n extends yL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?bL(e):e;return M2(this._renderer,null,i,"register",[r]),new J5(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class J5 extends hG{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new X5(this._id,t,e||{},this._renderer)}}class X5{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return M2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function M2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const k2="@.disabled";let eQ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const d=c?.parentNode(o);d&&c.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new R2("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=w=>{Array.isArray(w)?w.forEach(f):this.engine.registerTrigger(c,d,e,w.name,w)};return i.data.animation.forEach(f),new tQ(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,d]=o;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(kI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class R2{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==k2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tQ extends R2{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==k2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function nQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function iQ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let rQ=(()=>{class n extends kI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(gk),s.LFG(Ik),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const O2=[{provide:yL,useClass:Y5},{provide:Ik,useFactory:function sQ(){return new E5}},{provide:kI,useClass:rQ},{provide:s.FYo,useFactory:function oQ(n,t,e){return new eQ(n,t,e)},deps:[lo,kI,s.R0b]}],Ok=[{provide:gk,useFactory:()=>new Q5},{provide:s.QbO,useValue:"BrowserAnimations"},...O2],N2=[{provide:gk,useClass:o2},{provide:s.QbO,useValue:"NoopAnimations"},...O2];let aQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?N2:Ok}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Ok,imports:[Qu]}),n})();function Nk(){return(0,bn.e)((n,t)=>{let e,i=!1;n.subscribe((0,kn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Dt,lQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gd={},Pk=Pk||{},Qt=lQ||self;function OI(){}function NI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function aC(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Fk="closure_uid_"+(1e9*Math.random()>>>0),uQ=0;function dQ(n,t,e){return n.call.apply(n.bind,arguments)}function hQ(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ws(n,t,e){return(ws=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dQ:hQ).apply(null,arguments)}function PI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ts(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function fp(){this.s=this.s,this.o=this.o}fp.prototype.s=!1,fp.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function cQ(n){Object.prototype.hasOwnProperty.call(n,Fk)&&n[Fk]||(n[Fk]=++uQ)}(this)},fp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const P2=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Lk(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function F2(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(NI(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function Cs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Cs.prototype.h=function(){this.defaultPrevented=!0};var fQ=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",OI,t),Qt.removeEventListener("test",OI,t)}catch{}return n}();function FI(n){return/^[\s\xa0]*$/.test(n)}var L2=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vk(n,t){return n<t?-1:n>t?1:0}function LI(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function uu(n){return-1!=LI().indexOf(n)}function Bk(n){return Bk[" "](n),n}Bk[" "]=OI;var VI,n,mQ=uu("Opera"),wy=uu("Trident")||uu("MSIE"),V2=uu("Edge"),Uk=V2||wy,B2=uu("Gecko")&&!(-1!=LI().toLowerCase().indexOf("webkit")&&!uu("Edge"))&&!(uu("Trident")||uu("MSIE"))&&!uu("Edge"),_Q=-1!=LI().toLowerCase().indexOf("webkit")&&!uu("Edge");function U2(){var n=Qt.document;return n?n.documentMode:void 0}e:{var Hk="",zk=(n=LI(),B2?/rv:([^\);]+)(\)|;)/.exec(n):V2?/Edge\/([\d\.]+)/.exec(n):wy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_Q?/WebKit\/(\S+)/.exec(n):mQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zk&&(Hk=zk?zk[1]:""),wy){var Gk=U2();if(null!=Gk&&Gk>parseFloat(Hk)){VI=String(Gk);break e}}VI=Hk}var yQ={};var bQ=Qt.document&&wy&&(U2()||parseInt(VI,10))||void 0;function lC(n,t){if(Cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(B2){e:{try{Bk(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lC.X.h.call(this)}}ts(lC,Cs);var wQ={2:"touch",3:"pen",4:"mouse"};lC.prototype.h=function(){lC.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cC="closure_listenable_"+(1e6*Math.random()|0),CQ=0;function TQ(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++CQ,this.ba=this.ea=!1}function BI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function jk(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function z2(n){const t={};for(const e in n)t[e]=n[e];return t}const G2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $2(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<G2.length;o++)e=G2[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function UI(n){this.src=n,this.g={},this.h=0}function qk(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=P2(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(BI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Wk(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}UI.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Wk(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new TQ(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var Kk="closure_lm_"+(1e6*Math.random()|0),Zk={};function j2(n,t,e,i,r){if(i&&i.once)return W2(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)j2(n,t[o],e,i,r);return null}return e=Xk(e),n&&n[cC]?n.N(t,e,aC(i)?!!i.capture:!!i,r):q2(n,t,e,!1,i,r)}function q2(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=aC(r)?!!r.capture:!!r,d=Yk(n);if(d||(n[Kk]=d=new UI(n)),(e=d.add(t,e,i,c,o)).proxy)return e;if(i=function EQ(){const t=SQ;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)fQ||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Z2(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function W2(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)W2(n,t[o],e,i,r);return null}return e=Xk(e),n&&n[cC]?n.O(t,e,aC(i)?!!i.capture:!!i,r):q2(n,t,e,!0,i,r)}function K2(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)K2(n,t[o],e,i,r);else i=aC(i)?!!i.capture:!!i,e=Xk(e),n&&n[cC]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Wk(o=n.g[t],e,i,r))&&(BI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Yk(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Wk(t,e,i,r)),(e=-1<n?t[n]:null)&&Qk(e))}function Qk(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[cC])qk(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Z2(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Yk(t))?(qk(e,n),0==e.h&&(e.src=null,t[Kk]=null)):BI(n)}}}function Z2(n){return n in Zk?Zk[n]:Zk[n]="on"+n}function SQ(n,t){if(n.ba)n=!0;else{t=new lC(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Qk(n),n=e.call(i,t)}return n}function Yk(n){return(n=n[Kk])instanceof UI?n:null}var Jk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xk(n){return"function"==typeof n?n:(n[Jk]||(n[Jk]=function(t){return n.handleEvent(t)}),n[Jk])}function Fr(){fp.call(this),this.i=new UI(this),this.P=this,this.I=null}function ns(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Cs(t,n);else if(t instanceof Cs)t.target=t.target||n;else{var r=t;$2(t=new Cs(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=HI(c,i,!0,t)&&r}if(r=HI(c=t.g=n,i,!0,t)&&r,r=HI(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=HI(c=t.g=e[o],i,!1,t)&&r}function HI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ba&&c.capture==e){var d=c.listener,f=c.ha||c.src;c.ea&&qk(n.i,c),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}ts(Fr,fp),Fr.prototype[cC]=!0,Fr.prototype.removeEventListener=function(n,t,e,i){K2(this,n,t,e,i)},Fr.prototype.M=function(){if(Fr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)BI(e[i]);delete n.g[t],n.h--}}this.I=null},Fr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Fr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var eR=Qt.JSON.stringify;function IQ(){var n=J2;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var tR,Q2=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new xQ,n=>n.reset());class xQ{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function AQ(n){Qt.setTimeout(()=>{throw n},0)}function Y2(n,t){tR||function MQ(){var n=Qt.Promise.resolve(void 0);tR=function(){n.then(kQ)}}(),nR||(tR(),nR=!0),J2.add(n,t)}var nR=!1,J2=new class DQ{constructor(){this.h=this.g=null}add(t,e){const i=Q2.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function kQ(){for(var n;n=IQ();){try{n.h.call(n.g)}catch(e){AQ(e)}var t=Q2;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}nR=!1}function zI(n,t){Fr.call(this),this.h=n||1,this.g=t||Qt,this.j=ws(this.lb,this),this.l=Date.now()}function iR(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function rR(n,t,e){if("function"==typeof n)e&&(n=ws(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ws(n.handleEvent,n)}return 2147483647<Number(t)?-1:Qt.setTimeout(n,t||0)}function X2(n){n.g=rR(()=>{n.g=null,n.i&&(n.i=!1,X2(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ts(zI,Fr),(Dt=zI.prototype).ca=!1,Dt.R=null,Dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ns(this,"tick"),this.ca&&(iR(this),this.start()))}},Dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){zI.X.M.call(this),iR(this),delete this.g};class RQ extends fp{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:X2(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uC(n){fp.call(this),this.h=n,this.g={}}ts(uC,fp);var eV=[];function tV(n,t,e,i){Array.isArray(e)||(e&&(eV[0]=e.toString()),e=eV);for(var r=0;r<e.length;r++){var o=j2(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function nV(n){jk(n.g,function(t,e){this.g.hasOwnProperty(e)&&Qk(t)},n),n.g={}}function GI(){this.g=!0}function Cy(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function FQ(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return eR(e)}catch{return t}}(n,e)+(i?" "+i:"")})}uC.prototype.M=function(){uC.X.M.call(this),nV(this)},uC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},GI.prototype.Aa=function(){this.g=!1},GI.prototype.info=function(){};var Eg={},iV=null;function $I(){return iV=iV||new Fr}function rV(n){Cs.call(this,Eg.Pa,n)}function dC(n){const t=$I();ns(t,new rV(t))}function sV(n,t){Cs.call(this,Eg.STAT_EVENT,n),this.stat=t}function Ws(n){const t=$I();ns(t,new sV(t,n))}function oV(n,t){Cs.call(this,Eg.Qa,n),this.size=t}function hC(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},t)}Eg.Pa="serverreachability",ts(rV,Cs),Eg.STAT_EVENT="statevent",ts(sV,Cs),Eg.Qa="timingevent",ts(oV,Cs);var jI={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},aV={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sR(){}function cV(){}sR.prototype.h=null;var lR,pC={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function oR(){Cs.call(this,"d")}function aR(){Cs.call(this,"c")}function qI(){}function fC(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new uC(this),this.O=LQ,this.T=new zI(n=Uk?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new uV}function uV(){this.i=null,this.g="",this.h=!1}ts(oR,Cs),ts(aR,Cs),ts(qI,sR),qI.prototype.g=function(){return new XMLHttpRequest},qI.prototype.i=function(){return{}},lR=new qI;var LQ=45e3,cR={},WI={};function uR(n,t,e){n.K=1,n.v=YI($d(t)),n.s=e,n.P=!0,dV(n,null)}function dV(n,t){n.F=Date.now(),gC(n),n.A=$d(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),wV(e.i,"t",i),n.C=0,e=n.l.H,n.h=new uV,n.g=jV(n.l,e?t:null,!n.s),0<n.N&&(n.L=new RQ(ws(n.La,n,n.g),n.N)),tV(n.S,n.g,"readystatechange",n.ib),t=n.H?z2(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),dC(),function OQ(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),f=0;f<d.length;f++){var y=d[f].split("=");if(1<y.length){var w=y[0];y=y[1];var E=w.split("_");c=2<=E.length&&"type"==E[1]?c+(w+"=")+y+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function hV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function pV(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=VQ(n,e),r==WI){4==t&&(n.o=4,Ws(14),i=!1),Cy(n.j,n.m,null,"[Incomplete Response]");break}if(r==cR){n.o=4,Ws(15),Cy(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Cy(n.j,n.m,r,null),dR(n,r)}hV(n)&&r!=WI&&r!=cR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ws(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),vR(t),t.K=!0,Ws(11))):(Cy(n.j,n.m,e,"[Invalid Chunked Response]"),Sg(n),mC(n))}function VQ(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?WI:(e=Number(t.substring(e,i)),isNaN(e)?cR:(i+=1)+e>t.length?WI:(t=t.substr(i,e),n.C=i+e,t))}function gC(n){n.V=Date.now()+n.O,fV(n,n.O)}function fV(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hC(ws(n.gb,n),t)}function KI(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function mC(n){0==n.l.G||n.I||HV(n.l,n)}function Sg(n){KI(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,iR(n.T),nV(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function dR(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||hR(e.h,n)))if(!n.J&&hR(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;iD(e),tD(e)}yR(e),Ws(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=hC(ws(e.cb,e),6e3));if(1>=EV(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Dg(e,11)}else if((n.J||e.g==n)&&iD(e),!FI(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const w=y[3];null!=w&&(e.ma=w,e.j.info("VER="+e.ma));const E=y[4];null!=E&&(e.Ca=E,e.j.info("SVER="+e.Ca));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.J=i=1.5*M,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const O=n.g;if(O){const F=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var o=i.h;o.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(pR(o,o.h),o.h=null))}if(i.D){const z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.za=z,Si(i.F,i.D,z))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=$V(i,i.H?i.ka:null,i.V),c.J){SV(i.h,c);var d=c,f=i.J;f&&d.setTimeout(f),d.B&&(KI(d),gC(d)),i.g=c}else BV(i);0<e.i.length&&nD(e)}else"stop"!=y[0]&&"close"!=y[0]||Dg(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Dg(e,7):_R(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}dC()}catch{}}function gV(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(NI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function UQ(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(NI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function BQ(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(NI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Dt=fC.prototype).setTimeout=function(n){this.O=n},Dt.ib=function(n){n=n.target;const t=this.L;t&&3==jd(n)?t.l():this.La(n)},Dt.La=function(n){try{if(n==this.g)e:{const w=jd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||Uk||this.g&&(this.h.h||this.g.fa()||OV(this.g)))){this.I||4!=w||7==t||dC(),KI(this);var e=this.g.aa();this.Y=e;t:if(hV(this)){var i=OV(this.g);n="";var r=i.length,o=4==jd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sg(this),mC(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function NQ(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,w,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!FI(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Ws(12),Sg(this),mC(this);break e}Cy(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dR(this,e)}this.P?(pV(this,w,c),Uk&&this.i&&3==w&&(tV(this.S,this.T,"tick",this.hb),this.T.start())):(Cy(this.j,this.m,c,null),dR(this,c)),4==w&&Sg(this),this.i&&!this.I&&(4==w?HV(this.l,this):(this.i=!1,gC(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Ws(12)):(this.o=0,Ws(13)),Sg(this),mC(this)}}}catch{}},Dt.hb=function(){if(this.g){var n=jd(this.g),t=this.g.fa();this.C<t.length&&(KI(this),pV(this,n,t),this.i&&4!=n&&gC(this))}},Dt.cancel=function(){this.I=!0,Sg(this)},Dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function PQ(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(dC(),Ws(17)),Sg(this),this.o=2,mC(this)):fV(this,this.V-n)};var mV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ig(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ig){this.h=void 0!==t?t:n.h,ZI(this,n.j),this.s=n.s,this.g=n.g,QI(this,n.m),this.l=n.l,t=n.i;var e=new vC;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),_V(this,e),this.o=n.o}else n&&(e=String(n).match(mV))?(this.h=!!t,ZI(this,e[1]||"",!0),this.s=_C(e[2]||""),this.g=_C(e[3]||"",!0),QI(this,e[4]),this.l=_C(e[5]||"",!0),_V(this,e[6]||"",!0),this.o=_C(e[7]||"")):(this.h=!!t,this.i=new vC(null,this.h))}function $d(n){return new Ig(n)}function ZI(n,t,e){n.j=e?_C(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function QI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function _V(n,t,e){t instanceof vC?(n.i=t,function WQ(n,t){t&&!n.j&&(gp(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(vV(this,i),wV(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=yC(t,jQ)),n.i=new vC(t,n.h))}function Si(n,t,e){n.i.set(t,e)}function YI(n){return Si(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _C(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yC(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,zQ),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ig.prototype.toString=function(){var n=[],t=this.j;t&&n.push(yC(t,yV,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(yC(t,yV,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(yC(e,"/"==e.charAt(0)?$Q:GQ,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",yC(e,qQ)),n.join("")};var yV=/[#\/\?@]/g,GQ=/[#\?:]/g,$Q=/[#\?]/g,jQ=/[#\?@]/g,qQ=/#/g;function vC(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function gp(n){n.g||(n.g=new Map,n.h=0,n.i&&function HQ(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function vV(n,t){gp(n),t=Ty(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function bV(n,t){return gp(n),t=Ty(n,t),n.g.has(t)}function wV(n,t,e){vV(n,t),0<e.length&&(n.i=null,n.g.set(Ty(n,t),Lk(e)),n.h+=e.length)}function Ty(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function CV(n){this.l=n||ZQ,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ga&&Qt.g.Ga()&&Qt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=vC.prototype).add=function(n,t){gp(this),this.i=null,n=Ty(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Dt.forEach=function(n,t){gp(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Dt.oa=function(){gp(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Dt.W=function(n){gp(this);let t=[];if("string"==typeof n)bV(this,n)&&(t=t.concat(this.g.get(Ty(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Dt.set=function(n,t){return gp(this),this.i=null,bV(this,n=Ty(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Dt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var ZQ=10;function TV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EV(n){return n.h?1:n.g?n.g.size:0}function hR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function pR(n,t){n.g?n.g.add(t):n.h=t}function SV(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function IV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Lk(n.i)}function fR(){}function QQ(){this.g=new fR}function YQ(n,t,e){const i=e||"";try{gV(n,function(r,o){let c=r;aC(r)&&(c=eR(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function JI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function bC(n){this.l=n.ac||null,this.j=n.jb||!1}function XI(n,t){Fr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=gR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}CV.prototype.cancel=function(){if(this.i=IV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fR.prototype.stringify=function(n){return Qt.JSON.stringify(n,void 0)},fR.prototype.parse=function(n){return Qt.JSON.parse(n,void 0)},ts(bC,sR),bC.prototype.g=function(){return new XI(this.l,this.j)},bC.prototype.i=function(n){return function(){return n}}({}),ts(XI,Fr);var gR=0;function DV(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function wC(n){n.readyState=4,n.l=null,n.j=null,n.A=null,CC(n)}function CC(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=XI.prototype).open=function(n,t){if(this.readyState!=gR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,CC(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Qt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wC(this)),this.readyState=gR},Dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,CC(this)),this.g&&(this.readyState=3,CC(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DV(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?wC(this):CC(this),3==this.readyState&&DV(this)}},Dt.Va=function(n){this.g&&(this.response=this.responseText=n,wC(this))},Dt.Ua=function(n){this.g&&(this.response=n,wC(this))},Dt.ga=function(){this.g&&wC(this)},Dt.setRequestHeader=function(n,t){this.v.append(n,t)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(XI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var XQ=Qt.JSON.parse;function Bi(n){Fr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xV,this.K=this.L=!1}ts(Bi,Fr);var xV="",eY=/^https?$/i,tY=["POST","PUT"];function AV(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,MV(n),eD(n)}function MV(n){n.D||(n.D=!0,ns(n,"complete"),ns(n,"error"))}function kV(n){if(n.h&&typeof Pk<"u"&&(!n.C[1]||4!=jd(n)||2!=n.aa()))if(n.v&&4==jd(n))rR(n.Ha,0,n);else if(ns(n,"readystatechange"),4==jd(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(mV)[1]||null;if(!r&&Qt.self&&Qt.self.location){var o=Qt.self.location.protocol;r=o.substr(0,o.length-1)}i=!eY.test(r?r.toLowerCase():"")}e=i}if(e)ns(n,"complete"),ns(n,"success");else{n.m=6;try{var c=2<jd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",MV(n)}}finally{eD(n)}}}function eD(n,t){if(n.g){RV(n);const e=n.g,i=n.C[0]?OI:null;n.g=null,n.C=null,t||ns(n,"ready");try{e.onreadystatechange=i}catch{}}}function RV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function jd(n){return n.g?n.g.readyState:0}function OV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function NV(n){let t="";return jk(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function mR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=NV(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Si(n,t,e))}function TC(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function PV(n){this.Ca=0,this.i=[],this.j=new GI,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=TC("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=TC("baseRetryDelayMs",5e3,n),this.bb=TC("retryDelaySeedMs",1e4,n),this.$a=TC("forwardChannelMaxRetries",2,n),this.ta=TC("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new CV(n&&n.concurrentRequestLimit),this.Fa=new QQ,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _R(n){if(FV(n),3==n.G){var t=n.U++,e=$d(n.F);Si(e,"SID",n.I),Si(e,"RID",t),Si(e,"TYPE","terminate"),EC(n,e),(t=new fC(n,n.j,t,void 0)).K=2,t.v=YI($d(e)),e=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(e=Qt.navigator.sendBeacon(t.v.toString(),"")),!e&&Qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=jV(t.l,null),t.g.da(t.v)),t.F=Date.now(),gC(t)}GV(n)}function tD(n){n.g&&(vR(n),n.g.cancel(),n.g=null)}function FV(n){tD(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),iD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function nD(n){TV(n.h)||n.m||(n.m=!0,Y2(n.Ja,n),n.C=0)}function LV(n,t){var e;e=t?t.m:n.U++;const i=$d(n.F);Si(i,"SID",n.I),Si(i,"RID",e),Si(i,"AID",n.T),EC(n,i),n.o&&n.s&&mR(i,n.o,n.s),e=new fC(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=VV(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),pR(n.h,e),uR(e,i,t)}function EC(n,t){n.ia&&jk(n.ia,function(e,i){Si(t,i,e)}),n.l&&gV({},function(e,i){Si(t,i,e)})}function VV(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ws(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let f=0;f<e;f++){let y=r[f].h;const w=r[f].g;if(y-=o,0>y)o=Math.max(0,r[f].h-100),d=!1;else try{YQ(w,c,"req"+y+"_")}catch{i&&i(w)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function BV(n){n.g||n.u||(n.Z=1,Y2(n.Ia,n),n.A=0)}function yR(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=hC(ws(n.Ia,n),zV(n,n.A)),n.A++,0))}function vR(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function UV(n){n.g=new fC(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=$d(n.sa);Si(t,"RID","rpc"),Si(t,"SID",n.I),Si(t,"CI",n.L?"0":"1"),Si(t,"AID",n.T),Si(t,"TYPE","xmlhttp"),EC(n,t),n.o&&n.s&&mR(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=YI($d(t)),e.s=null,e.P=!0,dV(e,n)}function iD(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function HV(n,t){var e=null;if(n.g==t){iD(n),vR(n),n.g=null;var i=2}else{if(!hR(n.h,t))return;e=t.D,SV(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ns(i=$I(),new oV(i,e)),nD(n)}else BV(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function iY(n,t){return!(EV(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=hC(ws(n.Ja,n,t),zV(n,n.C)),n.C++,0)))}(n,t)||2==i&&yR(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Dg(n,5);break;case 4:Dg(n,10);break;case 3:Dg(n,6);break;default:Dg(n,2)}}function zV(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Dg(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ws(n.kb,n);e||(e=new Ig("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||ZI(e,"https"),YI(e)),function JQ(n,t){const e=new GI;if(Qt.Image){const i=new Image;i.onload=PI(JI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=PI(JI,e,i,"TestLoadImage: error",!1,t),i.onabort=PI(JI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=PI(JI,e,i,"TestLoadImage: timeout",!1,t),Qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ws(2);n.G=0,n.l&&n.l.va(t),GV(n),FV(n)}function GV(n){if(n.G=0,n.la=[],n.l){const t=IV(n.h);(0!=t.length||0!=n.i.length)&&(F2(n.la,t),F2(n.la,n.i),n.h.i.length=0,Lk(n.i),n.i.length=0),n.l.ua()}}function $V(n,t,e){var i=e instanceof Ig?$d(e):new Ig(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),QI(i,i.m);else{var r=Qt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Ig(null,void 0);i&&ZI(o,i),t&&(o.g=t),r&&QI(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&Si(i,e,t),Si(i,"VER",n.ma),EC(n,i),i}function jV(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Bi(e&&n.Da&&!n.ra?new bC({jb:!0}):n.ra)).Ka(n.H),t}function qV(){}function rD(){if(wy&&!(10<=Number(bQ)))throw Error("Environmental error: no available transport.")}function la(n,t){Fr.call(this),this.g=new PV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!FI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!FI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ey(this)}function WV(n){oR.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function KV(){aR.call(this),this.status=1}function Ey(n){this.g=n}(Dt=Bi.prototype).Ka=function(n){this.L=n},Dt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lR.g(),this.C=function lV(n){return n.h||(n.h=n.i())}(this.u?this.u:lR),this.g.onreadystatechange=ws(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void AV(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Qt.FormData&&n instanceof Qt.FormData,!(0<=P2(tY,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of e)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RV(this),0<this.B&&((this.K=function nY(n){return wy&&function vQ(){return function gQ(n){var t=yQ;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=L2(String(VI)).split("."),e=L2("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Vk(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Vk(0==r[2].length,0==o[2].length)||Vk(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ws(this.qa,this)):this.A=rR(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){AV(this,o)}},Dt.qa=function(){typeof Pk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ns(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ns(this,"complete"),ns(this,"abort"),eD(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eD(this,!0)),Bi.X.M.call(this)},Dt.Ha=function(){this.s||(this.F||this.v||this.l?kV(this):this.fb())},Dt.fb=function(){kV(this)},Dt.aa=function(){try{return 2<jd(this)?this.g.status:-1}catch{return-1}},Dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),XQ(t)}},Dt.Ea=function(){return this.m},Dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=PV.prototype).ma=8,Dt.G=1,Dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new fC(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=z2(o),$2(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=VV(this,r,t),Si(e=$d(this.F),"RID",n),Si(e,"CVER",22),this.D&&Si(e,"X-HTTP-Session-Id",this.D),EC(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(NV(o)))+"&"+t:this.o&&mR(e,this.o,o)),pR(this.h,r),this.Ya&&Si(e,"TYPE","init"),this.O?(Si(e,"$req",t),Si(e,"SID","null"),r.Z=!0,uR(r,e,null)):uR(r,e,t),this.G=2}}else 3==this.G&&(n?LV(this,n):0==this.i.length||TV(this.h)||LV(this))},Dt.Ia=function(){if(this.u=null,UV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=hC(ws(this.eb,this),n)}},Dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ws(10),tD(this),UV(this))},Dt.cb=function(){null!=this.v&&(this.v=null,tD(this),yR(this),Ws(19))},Dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ws(2)):(this.j.info("Failed to ping google.com"),Ws(1))},(Dt=qV.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Ra=function(){},rD.prototype.g=function(n,t){return new la(n,t)},ts(la,Fr),la.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Ws(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=$V(n,null,n.V),nD(n)},la.prototype.close=function(){_R(this.g)},la.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=eR(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&nD(t)},la.prototype.M=function(){this.g.l=null,delete this.j,_R(this.g),delete this.g,la.X.M.call(this)},ts(WV,oR),ts(KV,aR),ts(Ey,qV),Ey.prototype.xa=function(){ns(this.g,"a")},Ey.prototype.wa=function(n){ns(this.g,new WV(n))},Ey.prototype.va=function(n){ns(this.g,new KV)},Ey.prototype.ua=function(){ns(this.g,"b")},rD.prototype.createWebChannel=rD.prototype.g,la.prototype.send=la.prototype.u,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,jI.NO_ERROR=0,jI.TIMEOUT=8,jI.HTTP_ERROR=6,aV.COMPLETE="complete",cV.EventType=pC,pC.OPEN="a",pC.CLOSE="b",pC.ERROR="c",pC.MESSAGE="d",Fr.prototype.listen=Fr.prototype.N,Bi.prototype.listenOnce=Bi.prototype.O,Bi.prototype.getLastError=Bi.prototype.Oa,Bi.prototype.getLastErrorCode=Bi.prototype.Ea,Bi.prototype.getStatus=Bi.prototype.aa,Bi.prototype.getResponseJson=Bi.prototype.Sa,Bi.prototype.getResponseText=Bi.prototype.fa,Bi.prototype.send=Bi.prototype.da,Bi.prototype.setWithCredentials=Bi.prototype.Ka;var rY=Gd.createWebChannelTransport=function(){return new rD},sY=Gd.getStatEventTarget=function(){return $I()},bR=Gd.ErrorCode=jI,oY=Gd.EventType=aV,aY=Gd.Event=Eg,ZV=Gd.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},lY=Gd.FetchXmlHttpFactory=bC,sD=Gd.WebChannel=cV,cY=Gd.XhrIo=Bi;const QV="@firebase/firestore";class Lr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Sy="9.17.1";const mp=new Hs.Yd("@firebase/firestore");function wR(){return mp.logLevel}function Ge(n,...t){if(mp.logLevel<=Hs.in.DEBUG){const e=t.map(CR);mp.debug(`Firestore (${Sy}): ${n}`,...e)}}function Ji(n,...t){if(mp.logLevel<=Hs.in.ERROR){const e=t.map(CR);mp.error(`Firestore (${Sy}): ${n}`,...e)}}function xg(n,...t){if(mp.logLevel<=Hs.in.WARN){const e=t.map(CR);mp.warn(`Firestore (${Sy}): ${n}`,...e)}}function CR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const t=`FIRESTORE (${Sy}) INTERNAL ASSERTION FAILED: `+n;throw Ji(t),new Error(t)}function Et(n,t){n||mt()}function at(n,t){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends P.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class YV{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Lr.UNAUTHENTICATED))}shutdown(){}}class pY{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class fY{constructor(t){this.t=t,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Sr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,ge.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},f=y=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Sr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et("string"==typeof i.accessToken),new YV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Et(null===t||"string"==typeof t),new Lr(t)}}class gY{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Et(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class mY{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new gY(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Y{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Et("string"==typeof e.token),this.A=e.token,new JV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yY(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class XV{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=yY(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Yt(n,t){return n<t?-1:n>t?1:0}function Iy(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function eB(n){return n+"\0"}class Ii{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ii.fromMillis(Date.now())}static fromDate(t){return Ii.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ii(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ii(0,0))}static max(){return new kt(new Ii(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class SC{constructor(t,e,i){void 0===e?e=0:e>t.length&&mt(),void 0===i?i=t.length-e:i>t.length-e&&mt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===SC.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof SC?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class _n extends SC{construct(t,e,i){return new _n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new _n(e)}static emptyPath(){return new _n([])}}const vY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends SC{construct(t,e,i){return new Ui(t,e,i)}static isValidIdentifier(t){return vY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ui(e)}static emptyPath(){return new Ui([])}}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(_n.fromString(t))}static fromName(t){return new rt(_n.fromString(t).popFirst(5))}static empty(){return new rt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===_n.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return _n.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new _n(t.slice()))}}class oD{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function TR(n){return n.fields.find(t=>2===t.kind)}function Ag(n){return n.fields.filter(t=>2!==t.kind)}oD.UNKNOWN_ID=-1;class aD{constructor(t,e){this.fieldPath=t,this.kind=e}}class IC{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new IC(0,ca.min())}}function tB(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new Ii(e+1,0):new Ii(e,i));return new ca(r,rt.empty(),t)}function nB(n){return new ca(n.readTime,n.key,-1)}class ca{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ca(kt.min(),rt.empty(),-1)}static max(){return new ca(kt.max(),rt.empty(),-1)}}function ER(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rt.comparator(n.documentKey,t.documentKey),0!==e?e:Yt(n.largestBatchId,t.largestBatchId))}const iB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function _p(n){return SR.apply(this,arguments)}function SR(){return SR=(0,ge.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==iB)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),SR.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const y=f;e(t[y]).next(w=>{c[y]=w,++d,d===o&&i(c)},w=>r(w))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class lD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Sr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new DC(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=IR(i.target.error);this.P.reject(new DC(t,r))}}static open(t,e,i,r){try{return new lD(e,t.transaction(r,i))}catch(o){throw new DC(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new TY(e)}}class ec{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===ec.D((0,P.z$)())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),Mg(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,P.hl)())return!1;if(ec.N())return!0;const t=(0,P.z$)(),e=ec.D(t),i=0<e&&e<10,r=ec.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,ge.Z)(function*(){return e.db||(Ge("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new DC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ne(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new DC(t,d))},o.onupgradeneeded=c=>{Ge("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ge.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.F(t);const f=lD.open(o.db,t,c?"readonly":"readwrite",i),y=r(f).next(w=>(f.V(),w)).catch(w=>(f.abort(w),ae.reject(w))).toPromise();return y.catch(()=>{}),yield f.v,y}catch(f){const y=f,w="FirebaseError"!==y.name&&d<3;if(Ge("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),o.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class CY{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return Mg(this.q.delete())}}class DC extends Ne{constructor(t,e){super(ce.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function yp(n){return"IndexedDbTransactionError"===n.name}class TY{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ge("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Mg(i)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),Mg(this.store.add(t))}get(t){return Mg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ge("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),Mg(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),Mg(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const c=IR(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new ae((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const f=new CY(d),y=e(d.primaryKey,d.value,f);if(y instanceof ae){const w=y.catch(E=>(f.done(),ae.reject(E)));i.push(w)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Mg(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=IR(i.target.error);e(r)}})}let sB=!1;function IR(n){const t=ec.D((0,P.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sB||(sB=!0,setTimeout(()=>{throw i},0)),i}}return n}class EY{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ge("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ge.Z)(function*(){e.task=null;try{Ge("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){yp(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield _p(i)}yield e.nt(6e4)}))}}class SY{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ge.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Ge("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,o)).next(d=>(Ge("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=nB(o);ER(c,i)>0&&(i=c)}),new ca(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ua=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class IY{constructor(t,e,i,r,o,c,d,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class vp{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new vp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof vp&&t.projectId===this.projectId&&t.database===this.database}}function oB(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function kg(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function aB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xC(n){return null==n}function AC(n){return 0===n&&1/n==-1/0}function lB(n){return"number"==typeof n&&Number.isInteger(n)&&!AC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ir{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ir(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Ir(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const xY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bp(n){if(Et(!!n),"string"==typeof n){let t=0;const e=xY.exec(n);if(Et(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hi(n.seconds),nanos:Hi(n.nanos)}}function Hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rg(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function DR(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function cB(n){const t=n.mapValue.fields.__previous_value__;return DR(t)?cB(t):t}function MC(n){const t=bp(n.mapValue.fields.__local_write_time__.timestampValue);return new Ii(t.seconds,t.nanos)}const wp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cD={nullValue:"NULL_VALUE"};function Og(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?DR(n)?4:pB(n)?9007199254740991:10:mt()}function du(n,t){if(n===t)return!0;const e=Og(n);if(e!==Og(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return MC(n).isEqual(MC(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=bp(i.timestampValue),c=bp(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Rg(n.bytesValue).isEqual(Rg(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Hi(i.geoPointValue.latitude)===Hi(r.geoPointValue.latitude)&&Hi(i.geoPointValue.longitude)===Hi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Hi(i.integerValue)===Hi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Hi(i.doubleValue),c=Hi(r.doubleValue);return o===c?AC(o)===AC(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Iy(n.arrayValue.values||[],t.arrayValue.values||[],du);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(oB(o)!==oB(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!du(o[d],c[d])))return!1;return!0}(n,t);default:return mt()}var r}function kC(n,t){return void 0!==(n.values||[]).find(e=>du(e,t))}function Cp(n,t){if(n===t)return 0;const e=Og(n),i=Og(t);if(e!==i)return Yt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=Hi(r.integerValue||r.doubleValue),d=Hi(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return uB(n.timestampValue,t.timestampValue);case 4:return uB(MC(n),MC(t));case 5:return Yt(n.stringValue,t.stringValue);case 6:return function(r,o){const c=Rg(r),d=Rg(o);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let f=0;f<c.length&&f<d.length;f++){const y=Yt(c[f],d[f]);if(0!==y)return y}return Yt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=Yt(Hi(r.latitude),Hi(o.latitude));return 0!==c?c:Yt(Hi(r.longitude),Hi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let f=0;f<c.length&&f<d.length;++f){const y=Cp(c[f],d[f]);if(y)return y}return Yt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===wp.mapValue&&o===wp.mapValue)return 0;if(r===wp.mapValue)return 1;if(o===wp.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),f=o.fields||{},y=Object.keys(f);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const E=Yt(d[w],y[w]);if(0!==E)return E;const M=Cp(c[d[w]],f[y[w]]);if(0!==M)return M}return Yt(d.length,y.length)}(n.mapValue,t.mapValue);default:throw mt()}}function uB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yt(n,t);const e=bp(n),i=bp(t),r=Yt(e.seconds,i.seconds);return 0!==r?r:Yt(e.nanos,i.nanos)}function Dy(n){return xR(n)}function xR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=bp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rg(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=xR(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${xR(i.fields[d])}`;return o+"}"}(n.mapValue):mt();var t}function Ng(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function AR(n){return!!n&&"integerValue"in n}function RC(n){return!!n&&"arrayValue"in n}function dB(n){return!!n&&"nullValue"in n}function hB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uD(n){return!!n&&"mapValue"in n}function OC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return kg(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=OC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=OC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function pB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function AY(n){return"nullValue"in n?cD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ng(vp.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function MY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ng(vp.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wp:mt()}function fB(n,t){const e=Cp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function gB(n,t){const e=Cp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Tp{constructor(t,e){this.position=t,this.inclusive=e}}function mB(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),e.key):Cp(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function _B(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!du(n.position[e],t.position[e]))return!1;return!0}class yB{}class hn extends yB{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new kY(t,e,i):"array-contains"===e?new NY(t,i):"in"===e?new EB(t,i):"not-in"===e?new PY(t,i):"array-contains-any"===e?new FY(t,i):new hn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new RY(t,i):new OY(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Cp(e,this.value)):null!==e&&Og(this.value)===Og(e)&&this.matchesComparison(Cp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zn extends yB{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new zn(t,e)}matches(t){return xy(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function xy(n){return"and"===n.op}function MR(n){return"or"===n.op}function kR(n){return vB(n)&&xy(n)}function vB(n){for(const t of n.filters)if(t instanceof zn)return!1;return!0}function RR(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+Dy(n.value);if(kR(n))return n.filters.map(t=>RR(t)).join(",");{const t=n.filters.map(e=>RR(e)).join(",");return`${n.op}(${t})`}}function bB(n,t){return n instanceof hn?(e=n,(i=t)instanceof hn&&e.op===i.op&&e.field.isEqual(i.field)&&du(e.value,i.value)):n instanceof zn?function(e,i){return i instanceof zn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,c)=>r&&bB(o,i.filters[c]),!0)}(n,t):void mt();var e,i}function wB(n,t){const e=n.filters.concat(t);return zn.create(e,n.op)}function CB(n){return n instanceof hn?`${(t=n).field.canonicalString()} ${t.op} ${Dy(t.value)}`:n instanceof zn?function(t){return t.op.toString()+" {"+t.getFilters().map(CB).join(" ,")+"}"}(n):"Filter";var t}class kY extends hn{constructor(t,e,i){super(t,e,i),this.key=rt.fromName(i.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class RY extends hn{constructor(t,e){super(t,"in",e),this.keys=TB(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class OY extends hn{constructor(t,e){super(t,"not-in",e),this.keys=TB(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function TB(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>rt.fromName(i.referenceValue))}class NY extends hn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return RC(e)&&kC(e.arrayValue,this.value)}}class EB extends hn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&kC(this.value.arrayValue,e)}}class PY extends hn{constructor(t,e){super(t,"not-in",e)}matches(t){if(kC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!kC(this.value.arrayValue,e)}}class FY extends hn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!RC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>kC(this.value.arrayValue,i))}}class Ay{constructor(t,e="asc"){this.field=t,this.dir=e}}function LY(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class zi{constructor(t,e){this.comparator=t,this.root=e||is.EMPTY}insert(t,e){return new zi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,is.BLACK,null,null))}remove(t){return new zi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,is.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dD(this.root,t,this.comparator,!1)}getReverseIterator(){return new dD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dD(this.root,t,this.comparator,!0)}}class dD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class is{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??is.RED,this.left=r??is.EMPTY,this.right=o??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new is(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return is.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new is(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(t){this.comparator=t,this.data=new zi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new SB(this.data.getIterator())}getIteratorFrom(t){return new SB(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yn(this.comparator);return e.data=t,e}}class SB{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function My(n){return n.hasNext()?n.getNext():void 0}class To{constructor(t){this.fields=t,t.sort(Ui.comparator)}static empty(){return new To([])}unionWith(t){let e=new Yn(Ui.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new To(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Iy(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class rs{constructor(t){this.value=t}static empty(){return new rs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!uD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=OC(e)}setAll(t){let e=Ui.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=OC(c):r.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());uD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return du(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];uD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){kg(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new rs(OC(this.value))}}function IB(n){const t=[];return kg(n.fields,(e,i)=>{const r=new Ui([e]);if(uD(i)){const o=IB(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new To(t)}class gi{constructor(t,e,i,r,o,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(t){return new gi(t,0,kt.min(),kt.min(),kt.min(),rs.empty(),0)}static newFoundDocument(t,e,i,r){return new gi(t,1,e,kt.min(),i,r,0)}static newNoDocument(t,e){return new gi(t,2,e,kt.min(),kt.min(),rs.empty(),0)}static newUnknownDocument(t,e){return new gi(t,3,e,kt.min(),kt.min(),rs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof gi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class VY{constructor(t,e=null,i=[],r=[],o=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.ft=null}}function OR(n,t=null,e=[],i=[],r=null,o=null,c=null){return new VY(n,t,e,i,r,o,c)}function Pg(n){const t=at(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>RR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),xC(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Dy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Dy(i)).join(",")),t.ft=e}return t.ft}function NC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!LY(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!bB(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!_B(n.startAt,t.startAt)&&_B(n.endAt,t.endAt)}function hD(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pD(n,t){return n.filters.filter(e=>e instanceof hn&&e.field.isEqual(t))}function DB(n,t,e){let i=cD,r=!0;for(const o of pD(n,t)){let c=cD,d=!0;switch(o.op){case"<":case"<=":c=AY(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=cD}fB({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];fB({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function xB(n,t,e){let i=wp,r=!0;for(const o of pD(n,t)){let c=wp,d=!0;switch(o.op){case">=":case">":c=MY(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=wp}gB({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];gB({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class qd{constructor(t,e=null,i=[],r=[],o=null,c="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.dt=null,this._t=null}}function AB(n,t,e,i,r,o,c,d){return new qd(n,t,e,i,r,o,c,d)}function ky(n){return new qd(n)}function MB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function NR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fD(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function PR(n){return null!==n.collectionGroup}function Fg(n){const t=at(n);if(null===t.dt){t.dt=[];const e=fD(t),i=NR(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Ay(e)),t.dt.push(new Ay(Ui.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ay(Ui.keyField(),o))}}}return t.dt}function Ks(n){const t=at(n);if(!t._t)if("F"===t.limitType)t._t=OR(t.path,t.collectionGroup,Fg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Fg(t))e.push(new Ay(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tp(t.startAt.position,t.startAt.inclusive):null;t._t=OR(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function FR(n,t){t.getFirstInequalityField(),fD(n);const e=n.filters.concat([t]);return new qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function gD(n,t,e){return new qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function PC(n,t){return NC(Ks(n),Ks(t))&&n.limitType===t.limitType}function kB(n){return`${Pg(Ks(n))}|lt:${n.limitType}`}function LR(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>CB(i)).join(", ")}]`),xC(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Dy(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Dy(i)).join(",")),`Target(${e})`}(Ks(n))}; limitType=${n.limitType})`}function FC(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Fg(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const d=mB(r,o,c);return r.inclusive?d<=0:d<0}(e.startAt,Fg(e),i)||e.endAt&&!function(r,o,c){const d=mB(r,o,c);return r.inclusive?d>=0:d>0}(e.endAt,Fg(e),i)));var e,i}function RB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OB(n){return(t,e)=>{let i=!1;for(const r of Fg(n)){const o=BY(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function BY(n,t,e){const i=n.field.isKeyField()?rt.comparator(t.key,e.key):function(r,o,c){const d=o.data.field(r),f=c.data.field(r);return null!==d&&null!==f?Cp(d,f):mt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}function NB(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:AC(t)?"-0":t}}function PB(n){return{integerValue:""+n}}function FB(n,t){return lB(t)?PB(t):NB(n,t)}class mD{constructor(){this._=void 0}}function UY(n,t,e){return n instanceof Ry?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Lg?VB(n,t):n instanceof Vg?BB(n,t):function(i,r){const o=LB(i,r),c=UB(o)+UB(i.gt);return AR(o)&&AR(i.gt)?PB(c):NB(i.yt,c)}(n,t)}function HY(n,t,e){return n instanceof Lg?VB(n,t):n instanceof Vg?BB(n,t):e}function LB(n,t){return n instanceof Oy?AR(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ry extends mD{}class Lg extends mD{constructor(t){super(),this.elements=t}}function VB(n,t){const e=HB(t);for(const i of n.elements)e.some(r=>du(r,i))||e.push(i);return{arrayValue:{values:e}}}class Vg extends mD{constructor(t){super(),this.elements=t}}function BB(n,t){let e=HB(t);for(const i of n.elements)e=e.filter(r=>!du(r,i));return{arrayValue:{values:e}}}class Oy extends mD{constructor(t,e){super(),this.yt=t,this.gt=e}}function UB(n){return Hi(n.integerValue||n.doubleValue)}function HB(n){return RC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class LC{constructor(t,e){this.field=t,this.transform=e}}class GY{constructor(t,e){this.version=t,this.transformResults=e}}class Di{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _D(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class yD{}function zB(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Py(n.key,Di.none()):new Ny(n.key,n.data,Di.none());{const e=n.data,i=rs.empty();let r=new Yn(Ui.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Wd(n.key,i,new To(r.toArray()),Di.none())}}function $Y(n,t,e){n instanceof Ny?function(i,r,o){const c=i.value.clone(),d=jB(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Wd?function(i,r,o){if(!_D(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=jB(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll($B(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function VC(n,t,e,i){return n instanceof Ny?function(r,o,c,d){if(!_D(r.precondition,o))return c;const f=r.value.clone(),y=qB(r.fieldTransforms,d,o);return f.setAll(y),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Wd?function(r,o,c,d){if(!_D(r.precondition,o))return c;const f=qB(r.fieldTransforms,d,o),y=o.data;return y.setAll($B(r)),y.setAll(f),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(c=e,_D(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function jY(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=LB(i.transform,r||null);null!=o&&(null===e&&(e=rs.empty()),e.set(i.field,o))}return e||null}function GB(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Iy(e,i,(r,o)=>function zY(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Lg&&i instanceof Lg||e instanceof Vg&&i instanceof Vg?Iy(e.elements,i.elements,du):e instanceof Oy&&i instanceof Oy?du(e.gt,i.gt):e instanceof Ry&&i instanceof Ry);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Ny extends yD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wd extends yD{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $B(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function jB(n,t,e){const i=new Map;Et(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,d=t.data.field(o.field);i.set(o.field,HY(c,d,e[r]))}return i}function qB(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,UY(o,c,t))}return i}class Py extends yD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends yD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qY{constructor(t){this.count=t}}var hr,yn;function WB(n){switch(n){default:return mt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function KB(n){if(void 0===n)return Ji("GRPC error has no .code"),ce.UNKNOWN;switch(n){case hr.OK:return ce.OK;case hr.CANCELLED:return ce.CANCELLED;case hr.UNKNOWN:return ce.UNKNOWN;case hr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case hr.INTERNAL:return ce.INTERNAL;case hr.UNAVAILABLE:return ce.UNAVAILABLE;case hr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case hr.NOT_FOUND:return ce.NOT_FOUND;case hr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case hr.ABORTED:return ce.ABORTED;case hr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case hr.DATA_LOSS:return ce.DATA_LOSS;default:return mt()}}(yn=hr||(hr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class Ep{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){kg(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return aB(this.inner)}size(){return this.innerSize}}const WY=new zi(rt.comparator);function Eo(){return WY}const ZB=new zi(rt.comparator);function BC(...n){let t=ZB;for(const e of n)t=t.insert(e.key,e);return t}function QB(n){let t=ZB;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function hu(){return UC()}function YB(){return UC()}function UC(){return new Ep(n=>n.toString(),(n,t)=>n.isEqual(t))}const KY=new zi(rt.comparator),ZY=new Yn(rt.comparator);function nn(...n){let t=ZY;for(const e of n)t=t.add(e);return t}const QY=new Yn(Yt);function vD(){return QY}class HC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,zC.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new HC(kt.min(),r,vD(),Eo(),nn())}}class zC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new zC(i,e,nn(),nn(),nn())}}class bD{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class JB{constructor(t,e){this.targetId=t,this.Et=e}}class XB{constructor(t,e,i=Ir.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class eU{constructor(){this.At=0,this.Rt=nU(),this.bt=Ir.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=nn(),e=nn(),i=nn();return this.Rt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new zC(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=nU()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class YY{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Eo(),this.qt=tU(),this.Ut=new Yn(Yt)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:mt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const o=r.target;if(hD(o))if(0===i){const c=new rt(o.path);this.Qt(e,c,gi.newNoDocument(c,kt.min()))}else Et(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((o,c)=>{const d=this.Yt(c);if(d){if(o.current&&hD(d.target)){const f=new rt(d.target.path);null!==this.Lt.get(f)||this.te(c,f)||this.Qt(c,f,gi.newNoDocument(f,t))}o.St&&(e.set(c,o.Ct()),o.xt())}});let i=nn();this.qt.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const y=this.Yt(f);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.Lt.forEach((o,c)=>c.setReadTime(t));const r=new HC(t,e,this.Ut,this.Lt,i);return this.Lt=Eo(),this.qt=tU(),this.Ut=new Yn(Yt),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new eU,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Yn(Yt),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Ge("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new eU),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function tU(){return new zi(rt.comparator)}function nU(){return new zi(rt.comparator)}const JY={asc:"ASCENDING",desc:"DESCENDING"},XY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e8={and:"AND",or:"OR"};class t8{constructor(t,e){this.databaseId=t,this.wt=e}}function Fy(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iU(n,t){return n.wt?t.toBase64():t.toUint8Array()}function n8(n,t){return Fy(n,t.toTimestamp())}function Xi(n){return Et(!!n),kt.fromTimestamp(function(t){const e=bp(t);return new Ii(e.seconds,e.nanos)}(n))}function BR(n,t){return(e=n,new _n(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function rU(n){const t=_n.fromString(n);return Et(pU(t)),t}function GC(n,t){return BR(n.databaseId,t.path)}function pu(n,t){const e=rU(t);if(e.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(oU(e))}function UR(n,t){return BR(n.databaseId,t)}function sU(n){const t=rU(n);return 4===t.length?_n.emptyPath():oU(t)}function $C(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oU(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aU(n,t,e){return{name:GC(n,t),fields:e.value.mapValue.fields}}function lU(n,t,e){const i=pu(n,t.name),r=Xi(t.updateTime),o=t.createTime?Xi(t.createTime):kt.min(),c=new rs({mapValue:{fields:t.fields}}),d=gi.newFoundDocument(i,r,o,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function jC(n,t){let e;if(t instanceof Ny)e={update:aU(n,t.key,t.value)};else if(t instanceof Py)e={delete:GC(n,t.key)};else if(t instanceof Wd)e={update:aU(n,t.key,t.data),updateMask:d8(t.fieldMask)};else{if(!(t instanceof VR))return mt();e={verify:GC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Ry)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Oy)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw mt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:n8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),e;var r}function HR(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Di.updateTime(Xi(r.updateTime)):void 0!==r.exists?Di.exists(r.exists):Di.none():Di.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(Et("REQUEST_TIME"===c.setToServerValue),d=new Ry):"appendMissingElements"in c?d=new Lg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Vg(c.removeAllFromArray.values||[]):"increment"in c?d=new Oy(o,c.increment):mt();const f=Ui.fromServerFormat(c.fieldPath);return new LC(f,d)}(n,r)):[];var r;if(t.update){const r=pu(n,t.update.name),o=new rs({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new To((t.updateMask.fieldPaths||[]).map(y=>Ui.fromServerFormat(y)));return new Wd(r,o,c,e,i)}return new Ny(r,o,e,i)}if(t.delete){const r=pu(n,t.delete);return new Py(r,e)}if(t.verify){const r=pu(n,t.verify);return new VR(r,e)}return mt()}function cU(n,t){return{documents:[UR(n,t.path)]}}function zR(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=UR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=UR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return hU(zn.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(y=>{return{field:Ly((w=y).field),direction:l8(w.dir)};var w})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(y=t.limit,n.wt||xC(y)?y:{value:y});var y,d,f;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function uU(n){let t=sU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Et(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=function(w){const E=dU(w);return E instanceof zn&&kR(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new Ay(Vy((E=w).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(w){let E;return E="object"==typeof w?w.value:w,xC(E)?null:E}(e.limit));let f=null;var w;e.startAt&&(f=new Tp((w=e.startAt).values||[],!!w.before));let y=null;return e.endAt&&(y=function(w){return new Tp(w.values||[],!w.before)}(e.endAt)),AB(t,r,c,o,d,"F",f,y)}function dU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Vy(t.unaryFilter.field);return hn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Vy(t.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vy(t.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vy(t.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?hn.create(Vy((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return zn.create(t.compositeFilter.filters.map(e=>dU(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mt()}}(t.compositeFilter.op))}(n):mt();var t}function l8(n){return JY[n]}function c8(n){return XY[n]}function u8(n){return e8[n]}function Ly(n){return{fieldPath:n.canonicalString()}}function Vy(n){return Ui.fromServerFormat(n.fieldPath)}function hU(n){return n instanceof hn?function(t){if("=="===t.op){if(hB(t.value))return{unaryFilter:{field:Ly(t.field),op:"IS_NAN"}};if(dB(t.value))return{unaryFilter:{field:Ly(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hB(t.value))return{unaryFilter:{field:Ly(t.field),op:"IS_NOT_NAN"}};if(dB(t.value))return{unaryFilter:{field:Ly(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ly(t.field),op:c8(t.op),value:t.value}}}(n):n instanceof zn?function(t){const e=t.getFilters().map(i=>hU(i));return 1===e.length?e[0]:{compositeFilter:{op:u8(t.op),filters:e}}}(n):mt()}function d8(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function pU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fU(t)),t=h8(n.get(e),t);return fU(t)}function h8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function fU(n){return n+"\x01\x01"}function fu(n){const t=n.length;if(Et(t>=2),2===t)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&mt(),n.charAt(c+1)){case"\x01":const d=n.substring(o,c);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:mt()}o=c+2}return new _n(i)}const gU=["userId","batchId"];function wD(n,t){return[n,Zs(t)]}function mU(n,t,e){return[n,Zs(t),e]}const p8={},f8=["prefixPath","collectionGroup","readTime","documentId"],g8=["prefixPath","collectionGroup","documentId"],m8=["collectionGroup","readTime","prefixPath","documentId"],_8=["canonicalId","targetId"],y8=["targetId","path"],v8=["path","targetId"],b8=["collectionId","parent"],w8=["indexId","uid"],C8=["uid","sequenceNumber"],T8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],E8=["indexId","uid","orderedDocumentKey"],S8=["userId","collectionPath","documentId"],I8=["userId","collectionPath","largestBatchId"],D8=["userId","collectionGroup","largestBatchId"],_U=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],x8=[..._U,"documentOverlays"],yU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vU=yU,A8=[...vU,"indexConfiguration","indexState","indexEntries"];class GR extends rB{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function Vr(n,t){const e=at(n);return ec.M(e.se,t)}class $R{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&$Y(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=VC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=VC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=YB();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=e.has(r.key)?null:d;const f=zB(c,d);null!==f&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(kt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),nn())}isEqual(t){return this.batchId===t.batchId&&Iy(this.mutations,t.mutations,(e,i)=>GB(e,i))&&Iy(this.baseMutations,t.baseMutations,(e,i)=>GB(e,i))}}class jR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Et(t.mutations.length===i.length);let r=KY;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new jR(t,e,i,r)}}class qR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sp{constructor(t,e,i,r,o=kt.min(),c=kt.min(),d=Ir.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Sp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class bU{constructor(t){this.ie=t}}function wU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:CD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:GC(r=n.ie,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Fy(r,o.version.toTimestamp()),createTime:Fy(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Bg(t.version)};else{if(!t.isUnknownDocument())return mt();i.unknownDocument={path:e.path.toArray(),version:Bg(t.version)}}var r,o;return i}function CD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Bg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ug(n){const t=new Ii(n.seconds,n.nanoseconds);return kt.fromTimestamp(t)}function Hg(n,t){const e=(t.baseMutations||[]).map(o=>HR(n.ie,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>HR(n.ie,o)),r=Ii.fromMillis(t.localWriteTimeMs);return new $R(t.batchId,r,e,i)}function qC(n){const t=Ug(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Ug(n.lastLimboFreeSnapshotVersion):kt.min();let i;var r;return void 0!==n.query.documents?(Et(1===(r=n.query).documents.length),i=Ks(ky(sU(r.documents[0])))):i=Ks(uU(n.query)),new Sp(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ir.fromBase64String(n.resumeToken))}function CU(n,t){const e=Bg(t.snapshotVersion),i=Bg(t.lastLimboFreeSnapshotVersion);let r;r=hD(t.target)?cU(n.ie,t.target):zR(n.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Pg(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function WR(n){const t=uU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gD(t,t.limit,"L"):t}function KR(n,t){return new qR(t.largestBatchId,HR(n.ie,t.overlayMutation))}function TU(n,t){const e=t.path.lastSegment();return[n,Zs(t.path.popLast()),e]}function EU(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Bg(i.readTime),documentKey:Zs(i.documentKey.path),largestBatchId:i.largestBatchId}}class k8{getBundleMetadata(t,e){return SU(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ug(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return SU(t).put({bundleId:(i=e).id,createTime:Bg(Xi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return IU(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:WR(r.bundledQuery),readTime:Ug(r.readTime)};var r})}saveNamedQuery(t,e){return IU(t).put({name:(i=e).name,readTime:Bg(Xi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function SU(n){return Vr(n,"bundles")}function IU(n){return Vr(n,"namedQueries")}class TD{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new TD(t,e.uid||"")}getOverlay(t,e){return WC(t).get(TU(this.userId,e)).next(i=>i?KR(this.yt,i):null)}getOverlays(t,e){const i=hu();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const d=new qR(e,c);r.push(this.oe(t,d))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Zs(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(WC(t).Y("collectionPathOverlayIndex",d))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=hu(),o=Zs(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return WC(t).W("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const y=KR(this.yt,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=hu();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return WC(t).Z({index:"collectionGroupOverlayIndex",range:d},(f,y,w)=>{const E=KR(this.yt,y);o.size()<r||E.largestBatchId===c?(o.set(E.getKey(),E),c=E.largestBatchId):w.done()}).next(()=>o)}oe(t,e){return WC(t).put(function(i,r,o){const[c,d,f]=TU(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:jC(i.ie,o.mutation)}}(this.yt,this.userId,e))}}function WC(n){return Vr(n,"documentOverlays")}class zg{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Hi(t.integerValue));else if("doubleValue"in t){const i=Hi(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),AC(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Rg(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?pB(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):mt()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),rt.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function R8(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function DU(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=R8(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}zg.Ie=new zg;class O8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=DU(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=DU(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class N8{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class P8{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class KC{constructor(){this.$e=new O8,this.Be=new N8(this.$e),this.Le=new P8(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Gg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Gg(this.indexId,this.documentKey,this.arrayValue,i)}}function Ip(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=xU(n.arrayValue,t.arrayValue),0!==e?e:(e=xU(n.directionalValue,t.directionalValue),0!==e?e:rt.comparator(n.documentKey,t.documentKey)))}function xU(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class F8{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){Et(t.collectionGroup===this.collectionId);const e=TR(t);if(void 0!==e&&!this.We(e))return!1;const i=Ag(t);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const c=i[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[o++],c))return!1;++r}for(;r<i.length;++r)if(o>=this.Ke.length||!this.He(this.Ke[o++],i[r]))return!1;return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function AU(n){var t,e;if(Et(n instanceof hn||n instanceof zn),n instanceof hn){if(n instanceof EB){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>hn.create(n.field,"==",o)))||[];return zn.create(r,"or")}return n}const i=n.filters.map(r=>AU(r));return zn.create(i,n.op)}function L8(n){if(0===n.getFilters().length)return[];const t=YR(AU(n));return Et(MU(t)),ZR(t)||QR(t)?[t]:t.getFilters()}function ZR(n){return n instanceof hn}function QR(n){return n instanceof zn&&kR(n)}function MU(n){return ZR(n)||QR(n)||function(t){if(t instanceof zn&&MR(t)){for(const e of t.getFilters())if(!ZR(e)&&!QR(e))return!1;return!0}return!1}(n)}function YR(n){if(Et(n instanceof hn||n instanceof zn),n instanceof hn)return n;if(1===n.filters.length)return YR(n.filters[0]);const t=n.filters.map(i=>YR(i));let e=zn.create(t,n.op);return e=ED(e),MU(e)?e:(Et(e instanceof zn),Et(xy(e)),Et(e.filters.length>1),e.filters.reduce((i,r)=>JR(i,r)))}function JR(n,t){let e;return Et(n instanceof hn||n instanceof zn),Et(t instanceof hn||t instanceof zn),e=n instanceof hn?t instanceof hn?zn.create([n,t],"and"):kU(n,t):t instanceof hn?kU(t,n):function(i,r){if(Et(i.filters.length>0&&r.filters.length>0),xy(i)&&xy(r))return wB(i,r.getFilters());const o=MR(i)?i:r,c=MR(i)?r:i,d=o.filters.map(f=>JR(f,c));return zn.create(d,"or")}(n,t),ED(e)}function kU(n,t){if(xy(t))return wB(t,n.getFilters());{const e=t.filters.map(i=>JR(n,i));return zn.create(e,"or")}}function ED(n){if(Et(n instanceof hn||n instanceof zn),n instanceof hn)return n;const t=n.getFilters();if(1===t.length)return ED(t[0]);if(vB(n))return n;const e=t.map(r=>ED(r)),i=[];return e.forEach(r=>{r instanceof hn?i.push(r):r instanceof zn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:zn.create(i,n.op)}class V8{constructor(){this.Je=new XR}addToCollectionParentIndex(t,e){return this.Je.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(ca.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(ca.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class XR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Yn(_n.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Yn(_n.comparator)).toArray()}}const SD=new Uint8Array(0);class B8{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new XR,this.Xe=new Ep(i=>Pg(i),(i,r)=>NC(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const o={collectionId:i,parent:Zs(r)};return RU(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[eB(e),""],!1,!0);return RU(t).W(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(fu(c.parent))}return i})}addFieldIndex(t,e){const i=ID(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=QC(t);return o.next(d=>{c.put(EU(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=ID(t),r=QC(t),o=ZC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ZC(t);let r=!0;const o=new Map;return ae.forEach(this.Ze(e),c=>this.tn(t,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=nn();const d=[];return ae.forEach(o,(f,y)=>{var w;Ge("IndexedDbIndexManager",`Using index ${w=f,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Pe=>`${Pe.fieldPath}:${Pe.kind}`).join(",")}`} to execute ${Pg(e)}`);const E=function(Pe,Ve){const ut=TR(Ve);if(void 0===ut)return null;for(const pt of pD(Pe,ut.fieldPath))switch(pt.op){case"array-contains-any":return pt.value.arrayValue.values||[];case"array-contains":return[pt.value]}return null}(y,f),M=function(Pe,Ve){const ut=new Map;for(const pt of Ag(Ve))for(const Jt of pD(Pe,pt.fieldPath))switch(Jt.op){case"==":case"in":ut.set(pt.fieldPath.canonicalString(),Jt.value);break;case"not-in":case"!=":return ut.set(pt.fieldPath.canonicalString(),Jt.value),Array.from(ut.values())}return null}(y,f),O=function(Pe,Ve){const ut=[];let pt=!0;for(const Jt of Ag(Ve)){const Rn=0===Jt.kind?DB(Pe,Jt.fieldPath,Pe.startAt):xB(Pe,Jt.fieldPath,Pe.startAt);ut.push(Rn.value),pt&&(pt=Rn.inclusive)}return new Tp(ut,pt)}(y,f),F=function(Pe,Ve){const ut=[];let pt=!0;for(const Jt of Ag(Ve)){const Rn=0===Jt.kind?xB(Pe,Jt.fieldPath,Pe.endAt):DB(Pe,Jt.fieldPath,Pe.endAt);ut.push(Rn.value),pt&&(pt=Rn.inclusive)}return new Tp(ut,pt)}(y,f),z=this.en(f,y,O),W=this.en(f,y,F),Ee=this.nn(f,y,M),Le=this.sn(f.indexId,E,z,O.inclusive,W,F.inclusive,Ee);return ae.forEach(Le,Pe=>i.J(Pe,e.limit).next(Ve=>{Ve.forEach(ut=>{const pt=rt.fromSegments(ut.documentKey);c.has(pt)||(c=c.add(pt),d.push(pt))})}))}).next(()=>d)}return ae.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:L8(zn.create(t.filters,"and")).map(i=>OR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,o,c,d){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),y=f/(null!=e?e.length:1),w=[];for(let E=0;E<f;++E){const M=e?this.rn(e[E/y]):SD,O=this.on(t,M,i[E%y],r),F=this.un(t,M,o[E%y],c),z=d.map(W=>this.on(t,M,W,!0));w.push(...this.createRange(O,F,z))}return w}on(t,e,i,r){const o=new Gg(t,rt.empty(),e,i);return r?o:o.Ue()}un(t,e,i,r){const o=new Gg(t,rt.empty(),e,i);return r?o.Ue():o}tn(t,e){const i=new F8(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const d of o)i.je(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;const r=this.Ze(e);return ae.forEach(r,o=>this.tn(t,o).next(c=>{c?0!==i&&c.fields.length<function(d){let f=new Yn(Ui.comparator),y=!1;for(const w of d.filters)for(const E of w.getFlattenedFilters())E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?y=!0:f=f.add(E.field));for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new KC;for(const r of Ag(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.qe(r.kind);zg.Ie.ue(o,c)}return i.Fe()}rn(t){const e=new KC;return zg.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new KC;return zg.Ie.ue(Ng(this.databaseId,e),i.qe(function(r){const o=Ag(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new KC);let o=0;for(const c of Ag(t)){const d=i[o++];for(const f of r)if(this.hn(e,c.fieldPath)&&RC(d))r=this.ln(r,c,d);else{const y=f.qe(c.kind);zg.Ie.ue(d,y)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const d of r){const f=new KC;f.seed(d.Fe()),zg.Ie.ue(c,f.qe(e.kind)),o.push(f)}return o}hn(t,e){return!!t.filters.find(i=>i instanceof hn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ID(t),r=QC(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const c=[];return ae.forEach(o,d=>r.get([d.indexId,this.uid]).next(f=>{c.push(function(y,w){const E=w?new IC(w.sequenceNumber,new ca(Ug(w.readTime),new rt(fu(w.documentKey)),w.largestBatchId)):IC.empty(),M=y.fields.map(([O,F])=>new aD(Ui.fromServerFormat(O),F));return new oD(y.indexId,y.collectionGroup,M,E)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Yt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ID(t),o=QC(t);return this.dn(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>ae.forEach(d,f=>o.put(EU(f.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ae.forEach(d,f=>this._n(t,r,f).next(y=>{const w=this.wn(o,f);return y.isEqual(w)?ae.resolve():this.mn(t,o,f,y,w)}))))})}gn(t,e,i,r){return ZC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return ZC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=ZC(t);let o=new Yn(Ip);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(c,d)=>{o=o.add(new Gg(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}wn(t,e){let i=new Yn(Ip);const r=this.cn(e,t);if(null==r)return i;const o=TR(e);if(null!=o){const c=t.data.field(o.fieldPath);if(RC(c))for(const d of c.arrayValue.values||[])i=i.add(new Gg(e.indexId,t.key,this.rn(d),r))}else i=i.add(new Gg(e.indexId,t.key,SD,r));return i}mn(t,e,i,r,o){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,f,y,w,E){const M=d.getIterator(),O=f.getIterator();let F=My(M),z=My(O);for(;F||z;){let W=!1,Ee=!1;if(F&&z){const Le=y(F,z);Le<0?Ee=!0:Le>0&&(W=!0)}else null!=F?Ee=!0:W=!0;W?(w(z),z=My(O)):Ee?(E(F),F=My(M)):(F=My(M),z=My(O))}}(r,o,Ip,d=>{c.push(this.gn(t,e,i,d))},d=>{c.push(this.yn(t,e,i,d))}),ae.waitFor(c)}dn(t){let e=1;return QC(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Ip(c,d)).filter((c,d,f)=>!d||0!==Ip(c,f[d-1]));const r=[];r.push(t);for(const c of i){const d=Ip(c,t),f=Ip(c,e);if(0===d)r[0]=t.Ue();else if(d>0&&f<0)r.push(c),r.push(c.Ue());else if(f>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,SD,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,SD,[]]))}return o}pn(t,e){return Ip(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(OU)}getMinOffset(t,e){return ae.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||mt())).next(OU)}}function RU(n){return Vr(n,"collectionParents")}function ZC(n){return Vr(n,"indexEntries")}function ID(n){return Vr(n,"indexConfiguration")}function QC(n){return Vr(n,"indexState")}function OU(n){Et(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ER(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ca(t.readTime,t.documentKey,e)}const NU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new So(t,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PU(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let d=0;const f=i.Z({range:c},(w,E,M)=>(d++,M.delete()));o.push(f.next(()=>{Et(1===d)}));const y=[];for(const w of e.mutations){const E=mU(t,w.key.path,e.batchId);o.push(r.delete(E)),y.push(w.key)}return ae.waitFor(o).next(()=>y)}function DD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt();t=n.noDocument}return JSON.stringify(t).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class xD{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){Et(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new xD(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dp(t).Z({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=By(t),c=Dp(t);return c.add({}).next(d=>{Et("number"==typeof d);const f=new $R(d,e,i,r),y=function(M,O,F){const z=F.baseMutations.map(Ee=>jC(M.ie,Ee)),W=F.mutations.map(Ee=>jC(M.ie,Ee));return{userId:O,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:z,mutations:W}}(this.yt,this.userId,f),w=[];let E=new Yn((M,O)=>Yt(M.canonicalString(),O.canonicalString()));for(const M of r){const O=mU(this.userId,M.key.path,d);E=E.add(M.key.path.popLast()),w.push(c.put(y)),w.push(o.put(O,p8))}return E.forEach(M=>{w.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[d]=f.keys()}),ae.waitFor(w).next(()=>f)})}lookupMutationBatch(t,e){return Dp(t).get(e).next(i=>i?(Et(i.userId===this.userId),Hg(this.yt,i)):null)}Tn(t,e){return this.In[e]?ae.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Dp(t).Z({index:"userMutationsIndex",range:r},(c,d,f)=>{d.userId===this.userId&&(Et(d.batchId>=i),o=Hg(this.yt,d)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Dp(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dp(t).W("userMutationsIndex",e).next(i=>i.map(r=>Hg(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=wD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return By(t).Z({range:r},(c,d,f)=>{const[y,w,E]=c,M=fu(w);if(y===this.userId&&e.path.isEqual(M))return Dp(t).get(E).next(O=>{if(!O)throw mt();Et(O.userId===this.userId),o.push(Hg(this.yt,O))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(Yt);const r=[];return e.forEach(o=>{const c=wD(this.userId,o.path),d=IDBKeyRange.lowerBound(c),f=By(t).Z({range:d},(y,w,E)=>{const[M,O,F]=y,z=fu(O);M===this.userId&&o.path.isEqual(z)?i=i.add(F):E.done()});r.push(f)}),ae.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=wD(this.userId,i),c=IDBKeyRange.lowerBound(o);let d=new Yn(Yt);return By(t).Z({range:c},(f,y,w)=>{const[E,M,O]=f,F=fu(M);E===this.userId&&i.isPrefixOf(F)?F.length===r&&(d=d.add(O)):w.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Dp(t).get(o).next(c=>{if(null===c)throw mt();Et(c.userId===this.userId),i.push(Hg(this.yt,c))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return PU(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return By(t).Z({range:i},(o,c,d)=>{if(o[0]===this.userId){const f=fu(o[1]);r.push(f)}else d.done()}).next(()=>{Et(0===r.length)})})}containsKey(t,e){return FU(t,this.userId,e)}Rn(t){return LU(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FU(n,t,e){const i=wD(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return By(n).Z({range:o,X:!0},(d,f,y)=>{const[w,E,M]=d;w===t&&E===r&&(c=!0),y.done()}).next(()=>c)}function Dp(n){return Vr(n,"mutations")}function By(n){return Vr(n,"documentMutations")}function LU(n){return Vr(n,"mutationQueues")}class $g{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new $g(0)}static vn(){return new $g(-1)}}class U8{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new $g(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>kt.fromTimestamp(new Ii(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Uy(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Et(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Uy(t).Z((c,d)=>{const f=qC(d);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Uy(t).Z((i,r)=>{const o=qC(r);e(o)})}Vn(t){return VU(t).get("targetGlobalKey").next(e=>(Et(null!==e),e))}Sn(t,e){return VU(t).put("targetGlobalKey",e)}Dn(t,e){return Uy(t).put(CU(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Pg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Uy(t).Z({range:r,index:"queryTargetsIndex"},(c,d,f)=>{const y=qC(d);NC(e,y.target)&&(o=y,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=xp(t);return e.forEach(c=>{const d=Zs(c.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=xp(t);return ae.forEach(e,o=>{const c=Zs(o.path);return ae.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=xp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=xp(t);let o=nn();return r.Z({range:i,X:!0},(c,d,f)=>{const y=fu(c[1]),w=new rt(y);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=Zs(e.path),r=IDBKeyRange.bound([i],[eB(i)],!1,!0);let o=0;return xp(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],f,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}ne(t,e){return Uy(t).get(e).next(i=>i?qC(i):null)}}function Uy(n){return Vr(n,"targets")}function VU(n){return Vr(n,"targetGlobal")}function xp(n){return Vr(n,"targetDocuments")}function BU([n,t],[e,i]){const r=Yt(n,e);return 0===r?Yt(t,i):r}class H8{constructor(t){this.xn=t,this.buffer=new Yn(BU),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();BU(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class z8{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ge.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){yp(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield _p(i)}yield e.Fn(3e5)}))}}class G8{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(ua.at);const i=new H8(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(NU)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NU):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,o,c,d,f,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(y=Date.now(),wR()<=Hs.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(f-d)+`ms\n\tRemoved ${E} documents in `+(y-f)+`ms\nTotal Duration: ${y-w}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:E})))}}class $8{constructor(t,e){this.db=t,this.garbageCollector=new G8(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return AD(t,i)}removeReference(t,e,i){return AD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return AD(t,e)}Gn(t,e){return function(i,r){let o=!1;return LU(i).tt(c=>FU(i,c,r).next(d=>(d&&(o=!0),ae.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(c,d)=>{if(d<=e){const f=this.Gn(t,c).next(y=>{if(!y)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,kt.min()),xp(t).delete([0,Zs(c.path)])))});r.push(f)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return AD(t,e)}Kn(t,e){const i=xp(t);let r,o=ua.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:y})=>{0===c?(o!==ua.at&&e(new rt(fu(r)),o),o=y,r=f):o=ua.at}).next(()=>{o!==ua.at&&e(new rt(fu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function AD(n,t){return xp(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zs(t.path),sequenceNumber:i}));var i}class UU{constructor(){this.changes=new Ep(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,gi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class j8{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return jg(t).put(i)}removeEntry(t,e,i){return jg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],CD(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=gi.newInvalidDocument(e);return jg(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(YC(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:gi.newInvalidDocument(e)};return jg(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(YC(e))},(r,o)=>{i={document:this.jn(e,o),size:DD(o)}}).next(()=>i)}getEntries(t,e){let i=Eo();return this.zn(t,e,(r,o)=>{const c=this.jn(r,o);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=Eo(),r=new zi(rt.comparator);return this.zn(t,e,(o,c)=>{const d=this.jn(o,c);i=i.insert(o,d),r=r.insert(o,DD(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ae.resolve();let r=new Yn($U);e.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(YC(r.first()),YC(r.last())),c=r.getIterator();let d=c.getNext();return jg(t).Z({index:"documentKeyIndex",range:o},(f,y,w)=>{const E=rt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&$U(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?w.j(YC(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),CD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jg(t).W(IDBKeyRange.bound(c,d,!0)).next(f=>{let y=Eo();for(const w of f){const E=this.jn(rt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);E.isFoundDocument()&&(FC(e,E)||r.has(E.key))&&(y=y.insert(E.key,E))}return y})}getAllFromCollectionGroup(t,e,i,r){let o=Eo();const c=GU(e,i),d=GU(e,ca.max());return jg(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,y,w)=>{const E=this.jn(rt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(E.key,E),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(t){return new q8(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return zU(t).get("remoteDocumentGlobalKey").next(e=>(Et(!!e),e))}Qn(t,e){return zU(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function M8(n,t){let e;if(t.document)e=lU(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=rt.fromSegments(t.noDocument.path),r=Ug(t.noDocument.readTime);e=gi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt();{const i=rt.fromSegments(t.unknownDocument.path),r=Ug(t.unknownDocument.version);e=gi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ii(i[0],i[1]);return kt.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(kt.min()))return i}return gi.newInvalidDocument(t)}}function HU(n){return new j8(n)}class q8 extends UU{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Ep(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Yn((o,c)=>Yt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,d.readTime)),c.isValidDocument()){const f=wU(this.Yn.yt,c);r=r.add(o.path.popLast());const y=DD(f);i+=y-d.size,e.push(this.Yn.addEntry(t,o,f))}else if(i-=d.size,this.trackRemovals){const f=wU(this.Yn.yt,c.convertToNoDocument(kt.min()));e.push(this.Yn.addEntry(t,o,f))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,c)=>{this.Xn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function zU(n){return Vr(n,"remoteDocumentGlobal")}function jg(n){return Vr(n,"remoteDocumentsV14")}function YC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function GU(n,t){const e=t.documentKey.path.toArray();return[n,CD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function $U(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Yt(e[o],i[o]),r)return r;return r=Yt(e.length,i.length),r||(r=Yt(e[e.length-2],i[i.length-2]),r||Yt(e[e.length-1],i[i.length-1]))}class W8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class jU{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&VC(i.mutation,r,To.empty(),Ii.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,nn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=nn()){const r=hu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=BC();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=hu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,nn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let o=Eo();const c=UC(),d=UC();return e.forEach((f,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof Wd)?o=o.insert(y.key,y):void 0!==w?(c.set(y.key,w.mutation.getFieldMask()),VC(w.mutation,y,w.mutation.getFieldMask(),Ii.now())):c.set(y.key,To.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((y,w)=>c.set(y,w)),e.forEach((y,w)=>{var E;return d.set(y,new W8(w,null!==(E=c.get(y))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=UC();let r=new zi((c,d)=>c-d),o=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(f=>{const y=e.get(f);if(null===y)return;let w=i.get(f)||To.empty();w=d.applyToLocalView(y,w),i.set(f,w);const E=(r.get(d.batchId)||nn()).add(f);r=r.insert(d.batchId,E)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,w=f.value,E=YB();w.forEach(M=>{if(!o.has(M)){const O=zB(e.get(M),i.get(M));null!==O&&E.set(M,O),o=o.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,E))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return rt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):PR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(hu());let d=-1,f=o;return c.next(y=>ae.forEach(y,(w,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),o.get(w)?ae.resolve():this.remoteDocumentCache.getEntry(t,w).next(M=>{f=f.insert(w,M)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,f,y,nn())).next(w=>({batchId:d,changes:QB(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(i=>{let r=BC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=BC();return this.indexManager.getCollectionParents(t,r).next(c=>ae.forEach(c,d=>{const f=(y=e,w=d.child(r),new qd(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(y=>{y.forEach((w,E)=>{o=o.insert(w,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((d,f)=>{const y=f.getKey();null===o.get(y)&&(o=o.insert(y,gi.newInvalidDocument(y)))});let c=BC();return o.forEach((d,f)=>{const y=r.get(d);void 0!==y&&VC(y.mutation,f,To.empty(),Ii.now()),FC(e,f)&&(c=c.insert(d,f))}),c})}}class K8{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ae.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Xi(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:WR(i.bundledQuery),readTime:Xi(i.readTime)}),ae.resolve();var i}}class Z8{constructor(){this.overlays=new zi(rt.comparator),this.es=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=hu();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.oe(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=hu(),o=e.length+1,c=new rt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new zi((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let w=o.get(y.largestBatchId);null===w&&(w=hu(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=hu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=r)););return ae.resolve(d)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new qR(e,i));let o=this.es.get(e);void 0===o&&(o=nn(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class eO{constructor(){this.ns=new Yn(Br.ss),this.rs=new Yn(Br.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Br(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Br(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new rt(new _n([])),i=new Br(e,t),r=new Br(e,t+1),o=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),o.push(c.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new rt(new _n([])),i=new Br(e,t),r=new Br(e,t+1);let o=nn();return this.rs.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Br(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Br{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return rt.comparator(t.key,e.key)||Yt(t._s,e._s)}static os(t,e){return Yt(t._s,e._s)||rt.comparator(t.key,e.key)}}class Q8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Yn(Br.ss)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const c=new $R(o,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Br(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(t,e){return ae.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Br(e,0),r=new Br(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);o.push(d)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(Yt);return e.forEach(r=>{const o=new Br(r,0),c=new Br(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,c],d=>{i=i.add(d._s)})}),ae.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;rt.isDocumentKey(o)||(o=o.child(""));const c=new Br(new rt(o),0);let d=new Yn(Yt);return this.gs.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(f._s)),!0)},c),ae.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Et(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ae.forEach(e.mutations,r=>{const o=new Br(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Br(e,0),r=this.gs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Y8{constructor(t){this.Es=t,this.docs=new zi(rt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():gi.newInvalidDocument(e))}getEntries(t,e){let i=Eo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():gi.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Eo();const c=e.path,d=new rt(c.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:w}}=f.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||ER(nB(w),i)<=0||(r.has(w.key)||FC(e,w))&&(o=o.insert(w.key,w.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(t,e,i,r){mt()}As(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new J8(this)}getSize(t){return ae.resolve(this.size)}}class J8 extends UU{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class X8{constructor(t){this.persistence=t,this.Rs=new Ep(e=>Pg(e),NC),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new eO,this.targetCount=0,this.vs=$g.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ae.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new $g(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Dn(e),ae.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.Ps.containsKey(e))}}class qU{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new ua(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new X8(this),this.indexManager=new V8,this.remoteDocumentCache=new Y8(i=>this.referenceDelegate.xs(i)),this.yt=new bU(e),this.Ns=new K8(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Z8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Q8(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("MemoryPersistence","Starting transaction:",t);const r=new e7(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return ae.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class e7 extends rB{constructor(t){super(),this.currentSequenceNumber=t}}class MD{constructor(t){this.persistence=t,this.Fs=new eO,this.$s=null}static Bs(t){return new MD(t)}get Ls(){if(this.$s)return this.$s;throw mt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,i=>{const r=rt.fromPath(i);return this.qs(t,r).next(o=>{o||e.removeEntry(r,kt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return ae.or([()=>ae.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class t7{constructor(t){this.yt=t}$(t,e,i,r){const o=new lD("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gU,{unique:!0}),d.createObjectStore("documentMutations"),WU(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),WU(t)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,f){return f.store("mutations").W().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gU,{unique:!0});const w=f.store("mutations"),E=y.map(M=>w.put(M));return ae.waitFor(E)})}(t,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Us(o))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(o))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(o))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:S8});f.createIndex("collectionPathOverlayIndex",I8,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",D8,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:f8});f.createIndex("documentKeyIndex",g8),f.createIndex("collectionGroupIndex",m8)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,o))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:w8}).createIndex("sequenceNumberIndex",C8,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:T8}).createIndex("documentKeyIndex",E8,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=DD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ae.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>ae.forEach(d,f=>{Et(f.userId===o.userId);const y=Hg(this.yt,f);return PU(t,o.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((c,d)=>{const f=new _n(c),y=[0,Zs(f)];o.push(e.get(y).next(w=>w?ae.resolve():e.put({targetId:0,path:Zs(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:b8});const i=e.store("collectionParents"),r=new XR,o=c=>{if(r.add(c)){const d=c.lastSegment(),f=c.popLast();return i.put({collectionId:d,parent:Zs(f)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const f=new _n(c);return o(f.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,f],y)=>{const w=fu(d);return o(w.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=qC(r),c=CU(this.yt,o);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,c)=>{const d=e.store("remoteDocumentsV14"),f=(y=c,y.document?new rt(_n.fromString(y.document.name).popFirst(5)):y.noDocument?rt.fromSegments(y.noDocument.path):y.unknownDocument?rt.fromSegments(y.unknownDocument.path):mt()).path.toArray();var y;const w={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(w))}).next(()=>ae.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=HU(this.yt),o=new qU(MD.Bs,this.yt.ie);return i.W().next(c=>{const d=new Map;return c.forEach(f=>{var y;let w=null!==(y=d.get(f.userId))&&void 0!==y?y:nn();Hg(this.yt,f).keys().forEach(E=>w=w.add(E)),d.set(f.userId,w)}),ae.forEach(d,(f,y)=>{const w=new Lr(y),E=TD.re(this.yt,w),M=o.getIndexManager(w),O=xD.re(w,this.yt,M,o.referenceDelegate);return new jU(r,O,E,M).recalculateAndSaveOverlaysForDocumentKeys(new GR(e,ua.at),f).next()})})}}function WU(n){n.createObjectStore("targetDocuments",{keyPath:y8}).createIndex("documentTargetsIndex",v8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_8,{unique:!0}),n.createObjectStore("targetGlobal")}const tO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nO{constructor(t,e,i,r,o,c,d,f,y,w,E=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=c,this.document=d,this.Js=y,this.Ys=w,this.Xs=E,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!nO.C())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $8(this,r),this.ii=e+"main",this.yt=new bU(f),this.ri=new ec(this.ii,this.Xs,new t7(this.yt)),this.Cs=new U8(this.referenceDelegate,this.yt),this.remoteDocumentCache=HU(this.yt),this.Ns=new k8,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,tO);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new ua(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,ge.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,ge.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,ge.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>kD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(yp(t))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return JC(t).get("owner").next(e=>ae.resolve(this.mi(e)))}gi(t){return kD(t).delete(this.clientId)}yi(){var t=this;return(0,ge.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vr(i,"clientMetadata");return r.W().next(o=>{const c=t.Ii(o,18e5),d=o.filter(f=>-1===c.indexOf(f));return ae.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ae.resolve(!0):JC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,tO);return!1}}return!(!this.networkEnabled||!this.inForeground)||kD(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ge("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ge.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new GR(e,ua.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>kD(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return xD.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new B8(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return TD.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.Xs)?A8:14===c?vU:13===c?yU:12===c?x8:11===c?_U:void mt();var c;let d;return this.ri.runTransaction(t,r,o,f=>(d=new GR(f,this.Ss?this.Ss.next():ua.at),"readwrite-primary"===e?this.fi(d).next(y=>!!y||this.di(d)).next(y=>{if(!y)throw Ji(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ne(ce.FAILED_PRECONDITION,iB);return i(d)}).next(y=>this.wi(d).next(()=>y)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(t){return JC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,tO)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return JC(t).put("owner",e)}static C(){return ec.C()}_i(t){const e=JC(t);return e.get("owner").next(i=>this.mi(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ji(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,P.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ge("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ji("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Ji("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function JC(n){return Vr(n,"owner")}function kD(n){return Vr(n,"clientMetadata")}function iO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class rO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=nn(),r=nn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new rO(t,e.fromCache,i,r)}}class KU{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(MB(e))return ae.resolve(null);let i=Ks(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=gD(e,null,"F"),i=Ks(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=nn(...o);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(f=>{const y=this.Fi(e,d);return this.$i(e,y,c,f.readTime)?this.ki(t,gD(e,null,"F")):this.Bi(t,y,e,f)}))})))}Oi(t,e,i,r){return MB(e)||r.isEqual(kt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const c=this.Fi(e,o);return this.$i(e,c,i,r)?this.Mi(t,e):(wR()<=Hs.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LR(e)),this.Bi(t,c,e,tB(r,-1)))})}Fi(t,e){let i=new Yn(OB(t));return e.forEach((r,o)=>{FC(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return wR()<=Hs.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",LR(e)),this.Ni.getDocumentsMatchingQuery(t,e,ca.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class n7{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new zi(Yt),this.Ui=new Ep(o=>Pg(o),NC),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function ZU(n,t,e,i){return new n7(n,t,e,i)}function QU(n,t){return sO.apply(this,arguments)}function sO(){return sO=(0,ge.Z)(function*(n,t){const e=at(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let f=nn();for(const y of r){c.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}for(const y of o){d.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}return e.localDocuments.getDocuments(i,f).next(y=>({ji:y,removedBatchIds:c,addedBatchIds:d}))})})}),sO.apply(this,arguments)}function r7(n,t){const e=at(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,f,y){const w=f.batch,E=w.keys();let M=ae.resolve();return E.forEach(O=>{M=M.next(()=>y.getEntry(d,O)).next(F=>{const z=f.docVersions.get(O);Et(null!==z),F.version.compareTo(z)<0&&(w.applyToRemoteDocument(F,f),F.isValidDocument()&&(F.setReadTime(f.commitVersion),y.addEntry(F)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,w))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=nn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function YU(n){const t=at(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function s7(n,t){const e=at(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const d=[];t.targetChanges.forEach((w,E)=>{const M=r.get(E);if(!M)return;d.push(e.Cs.removeMatchingKeys(o,w.removedDocuments,E).next(()=>e.Cs.addMatchingKeys(o,w.addedDocuments,E)));let O=M.withSequenceNumber(o.currentSequenceNumber);var F,z,W;t.targetMismatches.has(E)?O=O.withResumeToken(Ir.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),r=r.insert(E,O),z=O,W=w,(0===(F=M).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(o,O))});let f=Eo(),y=nn();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,w))}),d.push(JU(o,c,t.documentUpdates).next(w=>{f=w.Wi,y=w.zi})),!i.isEqual(kt.min())){const w=e.Cs.getLastRemoteSnapshotVersion(o).next(E=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(w)}return ae.waitFor(d).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,y)).next(()=>f)}).then(o=>(e.qi=r,o))}function JU(n,t,e){let i=nn(),r=nn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Eo();return e.forEach((d,f)=>{const y=o.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(kt.min())?(t.removeEntry(d,f.readTime),c=c.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||0===f.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(f),c=c.insert(d,f)):Ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),{Wi:c,zi:r}})}function o7(n,t){const e=at(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Hy(n,t){const e=at(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new Sp(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function zy(n,t,e){return oO.apply(this,arguments)}function oO(){return oO=(0,ge.Z)(function*(n,t,e){const i=at(n),r=i.qi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!yp(c))throw c;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),oO.apply(this,arguments)}function RD(n,t,e){const i=at(n);let r=kt.min(),o=nn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,f,y){const w=at(d),E=w.Ui.get(y);return void 0!==E?ae.resolve(w.qi.get(E)):w.Cs.getTargetData(f,y)}(i,c,Ks(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:kt.min(),e?o:nn())).next(d=>(tH(i,RB(t),d),{documents:d,Hi:o})))}function XU(n,t){const e=at(n),i=at(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,t).next(c=>c?c.target:null))}function eH(n,t){const e=at(n),i=e.Ki.get(t)||kt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,tB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tH(e,t,r),r))}function tH(n,t,e){let i=n.Ki.get(t)||kt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function aO(){return aO=(0,ge.Z)(function*(n,t,e,i){const r=at(n);let o=nn(),c=Eo();for(const y of e){const w=t.Ji(y.metadata.name);y.document&&(o=o.add(w));const E=t.Yi(y);E.setReadTime(t.Xi(y.metadata.readTime)),c=c.insert(w,E)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield Hy(r,(y=i,Ks(ky(_n.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>JU(y,d,c).next(w=>(d.apply(y),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.Cs.addMatchingKeys(y,o,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Wi,w.zi)).next(()=>w.Wi)))}),aO.apply(this,arguments)}function l7(n,t){return lO.apply(this,arguments)}function lO(){return lO=(0,ge.Z)(function*(n,t,e=nn()){const i=yield Hy(n,Ks(WR(t.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Xi(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(o,t);const d=i.withResumeToken(Ir.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(o,d).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),lO.apply(this,arguments)}function nH(n,t){return`firestore_clients_${n}_${t}`}function iH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function cO(n,t){return`firestore_targets_${n}_${t}`}class OD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ne(r.error.code,r.error.message))),c?new OD(t,e,r.state,o):(Ji("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class XC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ne(i.error.code,i.error.message))),o?new XC(t,i.state,r):(Ji("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ND{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=vD();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=lB(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new ND(t,o):(Ji("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class uO{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new uO(e.clientId,e.onlineState):(Ji("SharedClientState",`Failed to parse online state: ${t}`),null)}}class dO{constructor(){this.activeTargetIds=vD()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hO{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new zi(Yt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=nH(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new dO),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ge.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(nH(t.persistenceKey,r));if(o){const c=ND.Zi(r,o);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(cO(this.persistenceKey,t));if(i){const r=XC.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(cO(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ge("SharedClientState","READ",t,e),e}setItem(t,e){Ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ge.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let c=ua.at;if(null!=o)try{const d=JSON.parse(o);Et("number"==typeof d),c=d}catch(d){Ji("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==ua.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new OD(this.currentUser,t,e,i),o=iH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=iH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=cO(this.persistenceKey,t),o=new XC(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return ND.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return OD.Zi(new Lr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return XC.Zi(r,e)}yr(t){return uO.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,ge.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),c=[],d=[];return o.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{o.has(f)||d.push(f)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=vD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class rH{constructor(){this.Lr=new dO,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new dO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class c7{Ur(t){}shutdown(){}}class sH{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const u7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d7{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class h7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const c=this.ho(t,e);Ge("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,o),this.fo(t,c,d,i).then(f=>(Ge("RestConnection","Received: ",f),f),f=>{throw xg("RestConnection",`${t} failed with error: `,f,"url: ",c,"request:",i),f})}_o(t,e,i,r,o,c){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Sy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${u7[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,c)=>{const d=new cY;d.setWithCredentials(!0),d.listenOnce(oY.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bR.NO_ERROR:const y=d.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(y)),o(y);break;case bR.TIMEOUT:Ge("Connection",'RPC "'+t+'" timed out'),c(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case bR.HTTP_ERROR:const w=d.getStatus();if(Ge("Connection",'RPC "'+t+'" failed with status:',w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const M=E?.error;if(M&&M.status&&M.message){const O=function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(z)>=0?z:ce.UNKNOWN}(M.status);c(new Ne(O,M.message))}else c(new Ne(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Ge("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);d.send(e,"POST",f,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=rY(),c=sY(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new lY({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const f=r.join("");Ge("Connection","Creating WebChannel: "+f,d);const y=o.createWebChannel(f,d);let w=!1,E=!1;const M=new d7({Hr:F=>{E?Ge("Connection","Not sending because WebChannel is closed:",F):(w||(Ge("Connection","Opening WebChannel transport."),y.open(),w=!0),Ge("Connection","WebChannel sending:",F),y.send(F))},Jr:()=>y.close()}),O=(F,z,W)=>{F.listen(z,Ee=>{try{W(Ee)}catch(Le){setTimeout(()=>{throw Le},0)}})};return O(y,sD.EventType.OPEN,()=>{E||Ge("Connection","WebChannel transport opened.")}),O(y,sD.EventType.CLOSE,()=>{E||(E=!0,Ge("Connection","WebChannel transport closed"),M.io())}),O(y,sD.EventType.ERROR,F=>{E||(E=!0,xg("Connection","WebChannel transport errored:",F),M.io(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),O(y,sD.EventType.MESSAGE,F=>{var z;if(!E){const W=F.data[0];Et(!!W);const Le=W.error||(null===(z=W[0])||void 0===z?void 0:z.error);if(Le){Ge("Connection","WebChannel received error:",Le);const Pe=Le.status;let Ve=function(pt){const Jt=hr[pt];if(void 0!==Jt)return KB(Jt)}(Pe),ut=Le.message;void 0===Ve&&(Ve=ce.INTERNAL,ut="Unknown error status: "+Pe+" with message "+Le.message),E=!0,M.io(new Ne(Ve,ut)),y.close()}else Ge("Connection","WebChannel received:",W),M.ro(W)}}),O(c,aY.STAT_EVENT,F=>{F.stat===ZV.PROXY?Ge("Connection","Detected buffering proxy"):F.stat===ZV.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function oH(){return typeof window<"u"?window:null}function PD(){return typeof document<"u"?document:null}function e0(n){return new t8(n,!0)}class pO{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class aH{constructor(t,e,i,r,o,c,d,f){this.Hs=t,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new pO(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ge.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,ge.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,ge.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ce.RESOURCE_EXHAUSTED?(Ji(e.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,ge.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p7 extends aH{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.yt=o}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function s8(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:mt(),r=t.targetChange.targetIds||[],o=function(f,y){return f.wt?(Et(void 0===y||"string"==typeof y),Ir.fromBase64String(y||"")):(Et(void 0===y||y instanceof Uint8Array),Ir.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(f){const y=void 0===f.code?ce.UNKNOWN:KB(f.code);return new Ne(y,f.message||"")}(c);e=new XB(i,r,o,d||null)}else if("documentChange"in t){const i=t.documentChange,r=pu(n,i.document.name),o=Xi(i.document.updateTime),c=i.document.createTime?Xi(i.document.createTime):kt.min(),d=new rs({mapValue:{fields:i.document.fields}}),f=gi.newFoundDocument(r,o,c,d);e=new bD(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=pu(n,i.document),o=i.readTime?Xi(i.readTime):kt.min(),c=gi.newNoDocument(r,o);e=new bD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=pu(n,i.document);e=new bD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return mt();{const i=t.filter,o=new qY(i.count||0);e=new JB(i.targetId,o)}}var f;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return kt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?Xi(o.readTime):kt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=$C(this.yt),e.addTarget=function(r,o){let c;const d=o.target;return c=hD(d)?{documents:cU(r,d)}:{query:zR(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=iU(r,o.resumeToken):o.snapshotVersion.compareTo(kt.min())>0&&(c.readTime=Fy(r,o.snapshotVersion.toTimestamp())),c}(this.yt,t);const i=function a8(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=$C(this.yt),e.removeTarget=t,this.Bo(e)}}class f7 extends aH{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Et(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function o8(n,t){return n&&n.length>0?(Et(void 0!==t),n.map(e=>function(i,r){let o=Xi(i.updateTime?i.updateTime:r);return o.isEqual(kt.min())&&(o=Xi(r)),new GY(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Xi(t.commitTime);return this.listener.Zo(i,e)}return Et(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=$C(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>jC(this.yt,i))};this.Bo(e)}}class g7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(ce.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection._o(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ce.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class _7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ji(e),this.ou=!1):Ge("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class y7{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(d=>{i.enqueueAndForget((0,ge.Z)(function*(){var f;Kd(c)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,ge.Z)(function*(y){const w=at(y);w._u.add(4),yield Gy(w),w.gu.set("Unknown"),w._u.delete(4),yield t0(w)}),function(y){return f.apply(this,arguments)})(c))}))}),this.gu=new _7(i,r)}}function t0(n){return gO.apply(this,arguments)}function gO(){return gO=(0,ge.Z)(function*(n){if(Kd(n))for(const t of n.wu)yield t(!0)}),gO.apply(this,arguments)}function Gy(n){return mO.apply(this,arguments)}function mO(){return mO=(0,ge.Z)(function*(n){for(const t of n.wu)yield t(!1)}),mO.apply(this,arguments)}function FD(n,t){const e=at(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),vO(e)?yO(e):jy(e).ko()&&_O(e,t))}function n0(n,t){const e=at(n),i=jy(e);e.du.delete(t),i.ko()&&lH(e,t),0===e.du.size&&(i.ko()?i.Fo():Kd(e)&&e.gu.set("Unknown"))}function _O(n,t){n.yu.Ot(t.targetId),jy(n).zo(t)}function lH(n,t){n.yu.Ot(t),jy(n).Ho(t)}function yO(n){n.yu=new YY({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),jy(n).start(),n.gu.uu()}function vO(n){return Kd(n)&&!jy(n).No()&&n.du.size>0}function Kd(n){return 0===at(n)._u.size}function cH(n){n.yu=void 0}function v7(n){return bO.apply(this,arguments)}function bO(){return bO=(0,ge.Z)(function*(n){n.du.forEach((t,e)=>{_O(n,t)})}),bO.apply(this,arguments)}function b7(n,t){return wO.apply(this,arguments)}function wO(){return wO=(0,ge.Z)(function*(n,t){cH(n),vO(n)?(n.gu.hu(t),yO(n)):n.gu.set("Unknown")}),wO.apply(this,arguments)}function w7(n,t,e){return CO.apply(this,arguments)}function CO(){return CO=(0,ge.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof XB&&2===t.state&&t.cause)try{yield(i=(0,ge.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield LD(n,i)}else if(t instanceof bD?n.yu.Kt(t):t instanceof JB?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(kt.min()))try{const i=yield YU(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.yu.Zt(o);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.du.get(f);y&&r.du.set(f,y.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(Ir.EMPTY_BYTE_STRING,f.snapshotVersion)),lH(r,d);const y=new Sp(f.target,d,1,f.sequenceNumber);_O(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield LD(n,i)}var i}),CO.apply(this,arguments)}function LD(n,t,e){return TO.apply(this,arguments)}function TO(){return TO=(0,ge.Z)(function*(n,t,e){if(!yp(t))throw t;n._u.add(1),yield Gy(n),n.gu.set("Offline"),e||(e=()=>YU(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield t0(n)}))}),TO.apply(this,arguments)}function uH(n,t){return t().catch(e=>LD(n,e,t))}function $y(n){return EO.apply(this,arguments)}function EO(){return EO=(0,ge.Z)(function*(n){const t=at(n),e=Ap(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;C7(t);)try{const r=yield o7(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,T7(t,r)}catch(r){yield LD(t,r)}dH(t)&&hH(t)}),EO.apply(this,arguments)}function C7(n){return Kd(n)&&n.fu.length<10}function T7(n,t){n.fu.push(t);const e=Ap(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function dH(n){return Kd(n)&&!Ap(n).No()&&n.fu.length>0}function hH(n){Ap(n).start()}function E7(n){return SO.apply(this,arguments)}function SO(){return SO=(0,ge.Z)(function*(n){Ap(n).eu()}),SO.apply(this,arguments)}function S7(n){return IO.apply(this,arguments)}function IO(){return IO=(0,ge.Z)(function*(n){const t=Ap(n);for(const e of n.fu)t.Xo(e.mutations)}),IO.apply(this,arguments)}function I7(n,t,e){return DO.apply(this,arguments)}function DO(){return DO=(0,ge.Z)(function*(n,t,e){const i=n.fu.shift(),r=jR.from(i,t,e);yield uH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $y(n)}),DO.apply(this,arguments)}function D7(n,t){return xO.apply(this,arguments)}function xO(){return xO=(0,ge.Z)(function*(n,t){var e;t&&Ap(n).Yo&&(yield(e=(0,ge.Z)(function*(i,r){if(WB(o=r.code)&&o!==ce.ABORTED){const c=i.fu.shift();Ap(i).Mo(),yield uH(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield $y(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),dH(n)&&hH(n)}),xO.apply(this,arguments)}function pH(n,t){return AO.apply(this,arguments)}function AO(){return AO=(0,ge.Z)(function*(n,t){const e=at(n);e.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=Kd(e);e._u.add(3),yield Gy(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield t0(e)}),AO.apply(this,arguments)}function MO(n,t){return kO.apply(this,arguments)}function kO(){return kO=(0,ge.Z)(function*(n,t){const e=at(n);t?(e._u.delete(2),yield t0(e)):t||(e._u.add(2),yield Gy(e),e.gu.set("Unknown"))}),kO.apply(this,arguments)}function jy(n){return n.pu||(n.pu=function(t,e,i){const r=at(t);return r.su(),new p7(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:v7.bind(null,n),Zr:b7.bind(null,n),Wo:w7.bind(null,n)}),n.wu.push(function(){var t=(0,ge.Z)(function*(e){e?(n.pu.Mo(),vO(n)?yO(n):n.gu.set("Unknown")):(yield n.pu.stop(),cH(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Ap(n){return n.Iu||(n.Iu=function(t,e,i){const r=at(t);return r.su(),new f7(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:E7.bind(null,n),Zr:D7.bind(null,n),tu:S7.bind(null,n),Zo:I7.bind(null,n)}),n.wu.push(function(){var t=(0,ge.Z)(function*(e){e?(n.Iu.Mo(),yield $y(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class RO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,d=new RO(t,e,c,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(n,t){if(Ji("AsyncQueue",`${t}: ${n}`),yp(n))return new Ne(ce.UNAVAILABLE,`${t}: ${n}`);throw n}class Wy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||rt.comparator(e.key,i.key):(e,i)=>rt.comparator(e.key,i.key),this.keyedMap=BC(),this.sortedSet=new zi(this.comparator)}static emptySet(t){return new Wy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Wy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Wy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class fH{constructor(){this.Tu=new zi(rt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):mt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ky{constructor(t,e,i,r,o,c,d,f,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Ky(t,e,Wy.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&PC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class x7{constructor(){this.Au=void 0,this.listeners=[]}}class A7{constructor(){this.queries=new Ep(t=>kB(t),PC),this.onlineState="Unknown",this.Ru=new Set}}function OO(n,t){return NO.apply(this,arguments)}function NO(){return NO=(0,ge.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new x7),r)try{o.Au=yield e.onListen(i)}catch(c){const d=qy(c,`Initialization of query '${LR(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&LO(e)}),NO.apply(this,arguments)}function PO(n,t){return FO.apply(this,arguments)}function FO(){return FO=(0,ge.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),FO.apply(this,arguments)}function M7(n,t){const e=at(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&LO(e)}function k7(n,t,e){const i=at(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function LO(n){n.Ru.forEach(t=>{t.next()})}class VO{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Ky(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Ky.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class R7{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class gH{constructor(t){this.yt=t}Ji(t){return pu(this.yt,t)}Yi(t){return t.metadata.exists?lU(this.yt,t.document,!1):gi.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Xi(t)}}class O7{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mH(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=_n.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new gH(this.yt);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||nn()).add(o);e.set(c,d)}}return e}complete(){var t=this;return(0,ge.Z)(function*(){const e=yield function a7(n,t,e,i){return aO.apply(this,arguments)}(t.localStore,new gH(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield l7(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function mH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _H{constructor(t){this.key=t}}class yH{constructor(t){this.key=t}}class vH{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=nn(),this.mutatedKeys=nn(),this.Gu=OB(t),this.Qu=new Wy(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new fH,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,E)=>{const M=r.get(w),O=FC(this.query,E)?E:null,F=!!M&&this.mutatedKeys.has(M.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let W=!1;M&&O?M.data.isEqual(O.data)?F!==z&&(i.track({type:3,doc:O}),W=!0):this.Hu(M,O)||(i.track({type:2,doc:O}),W=!0,(f&&this.Gu(O,f)>0||y&&this.Gu(O,y)<0)&&(d=!0)):!M&&O?(i.track({type:0,doc:O}),W=!0):M&&!O&&(i.track({type:1,doc:M}),W=!0,(f||y)&&(d=!0)),W&&(O?(c=c.add(O),o=z?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Qu:c,zu:i,$i:d,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Eu();o.sort((y,w)=>function(E,M){const O=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return O(E)-O(M)}(y.type,w.type)||this.Gu(y.doc,w.doc)),this.Ju(i);const c=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.Uu;return this.Uu=d,0!==o.length||f?{snapshot:new Ky(this.query,t.Qu,r,o,t.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fH,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=nn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new yH(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new _H(i))}),e}tc(t){this.qu=t.Hi,this.Ku=nn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Ky.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class N7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class P7{constructor(t){this.key=t,this.nc=!1}}class F7{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Ep(d=>kB(d),PC),this.rc=new Map,this.oc=new Set,this.uc=new zi(rt.comparator),this.cc=new Map,this.ac=new eO,this.hc={},this.lc=new Map,this.fc=$g.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function L7(n,t){return BO.apply(this,arguments)}function BO(){return BO=(0,ge.Z)(function*(n,t){const e=lN(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const c=yield Hy(e.localStore,Ks(t));e.isPrimaryClient&&FD(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield UO(e,t,i,"current"===d,c.resumeToken)}return r}),BO.apply(this,arguments)}function UO(n,t,e,i,r){return HO.apply(this,arguments)}function HO(){return HO=(0,ge.Z)(function*(n,t,e,i,r){n._c=(E,M,O)=>{return(F=(0,ge.Z)(function*(z,W,Ee,Le){let Pe=W.view.Wu(Ee);Pe.$i&&(Pe=yield RD(z.localStore,W.query,!1).then(({documents:pt})=>W.view.Wu(pt,Pe)));const Ve=Le&&Le.targetChanges.get(W.targetId),ut=W.view.applyChanges(Pe,z.isPrimaryClient,Ve);return YO(z,W.targetId,ut.Xu),ut.snapshot}),function(z,W,Ee,Le){return F.apply(this,arguments)})(n,E,M,O);var F};const o=yield RD(n.localStore,t,!0),c=new vH(t,o.Hi),d=c.Wu(o.documents),f=zC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=c.applyChanges(d,n.isPrimaryClient,f);YO(n,e,y.Xu);const w=new N7(t,e,c);return n.ic.set(t,w),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),y.snapshot}),HO.apply(this,arguments)}function V7(n,t){return zO.apply(this,arguments)}function zO(){return zO=(0,ge.Z)(function*(n,t){const e=at(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!PC(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),n0(e.remoteStore,i.targetId),Zy(e,i.targetId)}).catch(_p))):(Zy(e,i.targetId),yield zy(e.localStore,i.targetId,!0))}),zO.apply(this,arguments)}function GO(){return GO=(0,ge.Z)(function*(n,t,e){const i=cN(n);try{const r=yield function(o,c){const d=at(o),f=Ii.now(),y=c.reduce((M,O)=>M.add(O.key),nn());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=Eo(),F=nn();return d.Gi.getEntries(M,y).next(z=>{O=z,O.forEach((W,Ee)=>{Ee.isValidDocument()||(F=F.add(W))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,O)).next(z=>{w=z;const W=[];for(const Ee of c){const Le=jY(Ee,w.get(Ee.key).overlayedDocument);null!=Le&&W.push(new Wd(Ee.key,Le,IB(Le.value.mapValue),Di.exists(!0)))}return d.mutationQueue.addMutationBatch(M,f,W,c)}).next(z=>{E=z;const W=z.applyToLocalDocumentSet(w,F);return d.documentOverlayCache.saveOverlays(M,z.batchId,W)})}).then(()=>({batchId:E.batchId,changes:QB(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let f=o.hc[o.currentUser.toKey()];f||(f=new zi(Yt)),f=f.insert(c,d),o.hc[o.currentUser.toKey()]=f}(i,r.batchId,e),yield Zd(i,r.changes),yield $y(i.remoteStore)}catch(r){const o=qy(r,"Failed to persist write");e.reject(o)}}),GO.apply(this,arguments)}function bH(n,t){return $O.apply(this,arguments)}function $O(){return $O=(0,ge.Z)(function*(n,t){const e=at(n);try{const i=yield s7(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.cc.get(o);c&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Et(c.nc):r.removedDocuments.size>0&&(Et(c.nc),c.nc=!1))}),yield Zd(e,i,t)}catch(i){yield _p(i)}}),$O.apply(this,arguments)}function wH(n,t,e){const i=at(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=at(o);d.onlineState=c;let f=!1;d.queries.forEach((y,w)=>{for(const E of w.listeners)E.bu(c)&&(f=!0)}),f&&LO(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function U7(n,t,e){return jO.apply(this,arguments)}function jO(){return jO=(0,ge.Z)(function*(n,t,e){const i=at(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let c=new zi(rt.comparator);c=c.insert(o,gi.newNoDocument(o,kt.min()));const d=nn().add(o),f=new HC(kt.min(),new Map,new Yn(Yt),c,d);yield bH(i,f),i.uc=i.uc.remove(o),i.cc.delete(t),JO(i)}else yield zy(i.localStore,t,!1).then(()=>Zy(i,t,e)).catch(_p)}),jO.apply(this,arguments)}function H7(n,t){return qO.apply(this,arguments)}function qO(){return qO=(0,ge.Z)(function*(n,t){const e=at(n),i=t.batch.batchId;try{const r=yield r7(e.localStore,t);QO(e,i,null),ZO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Zd(e,r)}catch(r){yield _p(r)}}),qO.apply(this,arguments)}function z7(n,t,e){return WO.apply(this,arguments)}function WO(){return WO=(0,ge.Z)(function*(n,t,e){const i=at(n);try{const r=yield function(o,c){const d=at(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return d.mutationQueue.lookupMutationBatch(f,c).next(w=>(Et(null!==w),y=w.keys(),d.mutationQueue.removeMutationBatch(f,w))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y)).next(()=>d.localDocuments.getDocuments(f,y))})}(i.localStore,t);QO(i,t,e),ZO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Zd(i,r)}catch(r){yield _p(r)}}),WO.apply(this,arguments)}function KO(){return KO=(0,ge.Z)(function*(n,t){const e=at(n);Kd(e.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=at(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=qy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),KO.apply(this,arguments)}function ZO(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function QO(n,t,e){const i=at(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Zy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||CH(n,i)})}function CH(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(n0(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),JO(n))}function YO(n,t,e){for(const i of e)i instanceof _H?(n.ac.addReference(i.key,t),$7(n,i)):i instanceof yH?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||CH(n,i.key)):mt()}function $7(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Ge("SyncEngine","New document in limbo: "+e),n.oc.add(i),JO(n))}function JO(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new rt(_n.fromString(t)),i=n.fc.next();n.cc.set(i,new P7(e)),n.uc=n.uc.insert(e,i),FD(n.remoteStore,new Sp(Ks(ky(e.path)),i,2,ua.at))}}function Zd(n,t,e){return XO.apply(this,arguments)}function XO(){return XO=(0,ge.Z)(function*(n,t,e){const i=at(n),r=[],o=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,f)=>{c.push(i._c(f,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=rO.Ci(f.targetId,y);o.push(w)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,ge.Z)(function*(f,y){const w=at(f);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ae.forEach(y,M=>ae.forEach(M.Si,O=>w.persistence.referenceDelegate.addReference(E,M.targetId,O)).next(()=>ae.forEach(M.Di,O=>w.persistence.referenceDelegate.removeReference(E,M.targetId,O)))))}catch(E){if(!yp(E))throw E;Ge("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const M=E.targetId;if(!E.fromCache){const O=w.qi.get(M),z=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);w.qi=w.qi.insert(M,z)}}}),function(f,y){return d.apply(this,arguments)})(i.localStore,o))}),XO.apply(this,arguments)}function j7(n,t){return eN.apply(this,arguments)}function eN(){return eN=(0,ge.Z)(function*(n,t){const e=at(n);if(!e.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const i=yield QU(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(c=>{c.forEach(d=>{d.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Zd(e,i.ji)}var r}),eN.apply(this,arguments)}function q7(n,t){const e=at(n),i=e.cc.get(t);if(i&&i.nc)return nn().add(i.key);{let r=nn();const o=e.rc.get(t);if(!o)return r;for(const c of o){const d=e.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function W7(n,t){return tN.apply(this,arguments)}function tN(){return tN=(0,ge.Z)(function*(n,t){const e=at(n),i=yield RD(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&YO(e,t.targetId,r.Xu),r}),tN.apply(this,arguments)}function K7(n,t){return nN.apply(this,arguments)}function nN(){return nN=(0,ge.Z)(function*(n,t){const e=at(n);return eH(e.localStore,t).then(i=>Zd(e,i))}),nN.apply(this,arguments)}function Z7(n,t,e,i){return iN.apply(this,arguments)}function iN(){return iN=(0,ge.Z)(function*(n,t,e,i){const r=at(n),o=yield function(c,d){const f=at(c),y=at(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Tn(w,d).next(E=>E?f.localDocuments.getDocuments(w,E):ae.resolve(null)))}(r.localStore,t);var d;null!==o?("pending"===e?yield $y(r.remoteStore):"acknowledged"===e||"rejected"===e?(QO(r,t,i||null),ZO(r,t),d=t,at(at(r.localStore).mutationQueue).An(d)):mt(),yield Zd(r,o)):Ge("SyncEngine","Cannot apply mutation batch with id: "+t)}),iN.apply(this,arguments)}function rN(){return rN=(0,ge.Z)(function*(n,t){const e=at(n);if(lN(e),cN(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield TH(e,i.toArray());e.dc=!0,yield MO(e.remoteStore,!0);for(const o of r)FD(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Zy(e,c),zy(e.localStore,c,!0))),n0(e.remoteStore,c)}),yield r,yield TH(e,i),function(o){const c=at(o);c.cc.forEach((d,f)=>{n0(c.remoteStore,f)}),c.ac.fs(),c.cc=new Map,c.uc=new zi(rt.comparator)}(e),e.dc=!1,yield MO(e.remoteStore,!1)}}),rN.apply(this,arguments)}function TH(n,t,e){return sN.apply(this,arguments)}function sN(){return sN=(0,ge.Z)(function*(n,t,e){const i=at(n),r=[],o=[];for(const c of t){let d;const f=i.rc.get(c);if(f&&0!==f.length){d=yield Hy(i.localStore,Ks(f[0]));for(const y of f){const w=i.ic.get(y),E=yield W7(i,w);E.snapshot&&o.push(E.snapshot)}}else{const y=yield XU(i.localStore,c);d=yield Hy(i.localStore,y),yield UO(i,EH(y),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(o),r}),sN.apply(this,arguments)}function EH(n){return AB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Y7(n){const t=at(n);return at(at(t.localStore).persistence).vi()}function J7(n,t,e,i){return oN.apply(this,arguments)}function oN(){return oN=(0,ge.Z)(function*(n,t,e,i){const r=at(n);if(r.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield eH(r.localStore,RB(o[0])),d=HC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ir.EMPTY_BYTE_STRING);yield Zd(r,c,d);break}case"rejected":yield zy(r.localStore,t,!0),Zy(r,t,i);break;default:mt()}}),oN.apply(this,arguments)}function X7(n,t,e){return aN.apply(this,arguments)}function aN(){return aN=(0,ge.Z)(function*(n,t,e){const i=lN(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const o=yield XU(i.localStore,r),c=yield Hy(i.localStore,o);yield UO(i,EH(o),c.targetId,!1,c.resumeToken),FD(i.remoteStore,c)}for(const r of e)i.rc.has(r)&&(yield zy(i.localStore,r,!1).then(()=>{n0(i.remoteStore,r),Zy(i,r)}).catch(_p))}}),aN.apply(this,arguments)}function lN(n){const t=at(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=q7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=U7.bind(null,t),t.sc.Wo=M7.bind(null,t.eventManager),t.sc.wc=k7.bind(null,t.eventManager),t}function cN(n){const t=at(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=z7.bind(null,t),t}class SH{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ge.Z)(function*(){e.yt=e0(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return ZU(this.persistence,new KU,t.initialUser,this.yt)}yc(t){return new qU(MD.Bs,this.yt)}gc(t){return new rH}terminate(){var t=this;return(0,ge.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class IH extends SH{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ge.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield cN(i.Ac.syncEngine),yield $y(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return ZU(this.persistence,new KU,t.initialUser,this.yt)}Tc(t,e){return new z8(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new SY(e,this.persistence);return new EY(t.asyncQueue,i)}yc(t){const e=iO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new nO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,oH(),PD(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new rH}}class tJ extends IH{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ge.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof hO&&(i.sharedClientState.syncEngine={Fr:Z7.bind(null,r),$r:J7.bind(null,r),Br:X7.bind(null,r),vi:Y7.bind(null,r),Mr:K7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,ge.Z)(function*(c){yield function Q7(n,t){return rN.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}gc(t){const e=oH();if(!hO.C(e))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=iO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class uN{initialize(t,e){var i=this;return(0,ge.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=j7.bind(null,i.syncEngine),yield MO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new A7}createDatastore(t){const e=e0(t.databaseInfo.databaseId),i=new h7(t.databaseInfo);return new g7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=d=>wH(this.syncEngine,d,0),c=sH.C()?new sH:new c7,new y7(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,d,f,y){const w=new F7(i,r,o,c,d,f);return y&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ge.Z)(function*(e){const i=at(e);Ge("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Gy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function dN(n,t,e){if(!e)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function DH(n,t,e,i){if(!0===t&&!0===i)throw new Ne(ce.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xH(n){if(!rt.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AH(n){if(rt.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":mt()}function pn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=VD(n);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function MH(n,t){if(t<=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const kH=new Map;class RH{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class r0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new hY;switch(e.type){case"gapi":return new mY(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=kH.get(t);e&&(Ge("ComponentProvider","Removing Datastore"),kH.delete(t),e.terminate())}(this),Promise.resolve()}}class mi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mi(this.firestore,t,this._key)}}class ss{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ss(this.firestore,t,this._query)}}class gu extends ss{constructor(t,e,i){super(t,e,ky(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mi(this.firestore,null,new rt(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function NH(n,t,...e){if(n=(0,P.m9)(n),dN("collection","path",t),n instanceof r0){const i=_n.fromString(t,...e);return AH(i),new gu(n,null,i)}{if(!(n instanceof mi||n instanceof gu))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(t,...e));return AH(i),new gu(n.firestore,null,i)}}function BD(n,t,...e){if(n=(0,P.m9)(n),1===arguments.length&&(t=XV.R()),dN("doc","path",t),n instanceof r0){const i=_n.fromString(t,...e);return xH(i),new mi(n,null,new rt(i))}{if(!(n instanceof mi||n instanceof gu))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(t,...e));return xH(i),new mi(n.firestore,n instanceof gu?n.converter:null,new rt(i))}}function PH(n,t){return n=(0,P.m9)(n),t=(0,P.m9)(t),(n instanceof mi||n instanceof gu)&&(t instanceof mi||t instanceof gu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function hN(n,t){return n=(0,P.m9)(n),t=(0,P.m9)(t),n instanceof ss&&t instanceof ss&&n.firestore===t.firestore&&PC(n._query,t._query)&&n.converter===t.converter}function FH(n,t=10240){let e=0;return{read:()=>(0,ge.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class UD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class iJ{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new Sr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,ge.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,ge.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,ge.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new R7(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,ge.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,ge.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,ge.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class oJ{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ge.Z)(function*(o,c){const d=at(o),f=$C(d.yt)+"/documents",y={documents:c.map(O=>GC(d.yt,O))},w=yield d._o("BatchGetDocuments",f,y,c.length),E=new Map;w.forEach(O=>{const F=function r8(n,t){return"found"in t?function(e,i){Et(!!i.found);const r=pu(e,i.found.name),o=Xi(i.found.updateTime),c=i.found.createTime?Xi(i.found.createTime):kt.min(),d=new rs({mapValue:{fields:i.found.fields}});return gi.newFoundDocument(r,o,c,d)}(n,t):"missing"in t?function(e,i){Et(!!i.missing),Et(!!i.readTime);const r=pu(e,i.missing),o=Xi(i.readTime);return gi.newNoDocument(r,o)}(n,t):mt()}(d.yt,O);E.set(F.key.toString(),F)});const M=[];return c.forEach(O=>{const F=E.get(O.toString());Et(!!F),M.push(F)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Py(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=rt.fromPath(r);t.mutations.push(new VR(o,t.precondition(o)))}),yield(i=(0,ge.Z)(function*(r,o){const c=at(r),d=$C(c.yt)+"/documents",f={writes:o.map(y=>jC(c.yt,y))};yield c.ao("Commit",d,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt();e=kt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(kt.min())?Di.exists(!1):Di.updateTime(e):Di.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(kt.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(e)}return Di.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class aJ{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new pO(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,ge.Z)(function*(){const e=new oJ(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!xC(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!WB(e)}return!1}}class lJ{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Lr.UNAUTHENTICATED,this.clientId=XV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,ge.Z)(function*(d){Ge("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,ge.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=qy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function LH(n,t){return pN.apply(this,arguments)}function pN(){return pN=(0,ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ge.Z)(function*(o){i.isEqual(o)||(yield QU(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),pN.apply(this,arguments)}function VH(n,t){return fN.apply(this,arguments)}function fN(){return fN=(0,ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield gN(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>pH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>pH(t.remoteStore,o)),n.onlineComponents=t}),fN.apply(this,arguments)}function gN(n){return mN.apply(this,arguments)}function mN(){return mN=(0,ge.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield LH(n,new SH)),n.offlineComponents}),mN.apply(this,arguments)}function HD(n){return _N.apply(this,arguments)}function _N(){return _N=(0,ge.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield VH(n,new uN)),n.onlineComponents}),_N.apply(this,arguments)}function BH(n){return gN(n).then(t=>t.persistence)}function zD(n){return gN(n).then(t=>t.localStore)}function yN(n){return HD(n).then(t=>t.remoteStore)}function vN(n){return HD(n).then(t=>t.syncEngine)}function Qy(n){return bN.apply(this,arguments)}function bN(){return bN=(0,ge.Z)(function*(n){const t=yield HD(n),e=t.eventManager;return e.onListen=L7.bind(null,t.syncEngine),e.onUnlisten=V7.bind(null,t.syncEngine),e}),bN.apply(this,arguments)}function HH(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(r,o,c,d,f){const y=new UD({next:E=>{o.enqueueAndForget(()=>PO(r,w));const M=E.docs.has(c);!M&&E.fromCache?f.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&E.fromCache&&d&&"server"===d.source?f.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),w=new VO(ky(c.path),y,{includeMetadataChanges:!0,Nu:!0});return OO(r,w)}(yield Qy(n),n.asyncQueue,t,e,i)})),i.promise}function zH(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(r,o,c,d,f){const y=new UD({next:E=>{o.enqueueAndForget(()=>PO(r,w)),E.fromCache&&"server"===d.source?f.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),w=new VO(c,y,{includeMetadataChanges:!0,Nu:!0});return OO(r,w)}(yield Qy(n),n.asyncQueue,t,e,i)})),i.promise}class mJ{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new pO(this,"async_queue_retry"),this.Wc=()=>{const e=PD();e&&Ge("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=PD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=PD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new Sr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,ge.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!yp(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=RO.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&mt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,ge.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function wN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class _J{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class _i extends r0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new mJ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GH(this),this._firestoreClient.terminate()}}function er(n){return n._firestoreClient||GH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GH(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new IY(n._databaseId,o,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new lJ(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $H(n,t,e){const i=new Sr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield LH(n,e),yield VH(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===ce.FAILED_PRECONDITION||c.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;xg("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function jH(n){if(n._initialized||n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class mu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mu(Ir.fromBase64String(t))}catch(e){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new mu(Ir.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Qd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qg{constructor(t){this._methodName=t}}class GD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}const DJ=/^__.*__$/;class xJ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Wd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ny(t,this.data,e,this.fieldTransforms)}}class qH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Wd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function WH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class $D{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new $D(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return WD(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(WH(this.sa)&&DJ.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class AJ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||e0(t)}da(t,e,i,r=!1){return new $D({sa:t,methodName:e,fa:i,path:Ui.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Wg(n){const t=n._freezeSettings(),e=e0(n._databaseId);return new AJ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function jD(n,t,e,i,r,o={}){const c=n.da(o.merge||o.mergeFields?2:0,t,e,r);SN("Data must be an object, but it was:",c,i);const d=QH(i,c);let f,y;if(o.merge)f=new To(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const w=[];for(const E of o.mergeFields){const M=IN(t,E,e);if(!c.contains(M))throw new Ne(ce.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);JH(w,M)||w.push(M)}f=new To(w),y=c.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,y=c.fieldTransforms;return new xJ(new rs(d),f,y)}class s0 extends qg{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof s0}}function KH(n,t,e){return new $D({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class CN extends qg{_toFieldTransform(t){return new LC(t.path,new Ry)}isEqual(t){return t instanceof CN}}class MJ extends qg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=KH(this,t,!0),i=this._a.map(o=>Kg(o,e)),r=new Lg(i);return new LC(t.path,r)}isEqual(t){return this===t}}class kJ extends qg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=KH(this,t,!0),i=this._a.map(o=>Kg(o,e)),r=new Vg(i);return new LC(t.path,r)}isEqual(t){return this===t}}class RJ extends qg{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Oy(t.yt,FB(t.yt,this.wa));return new LC(t.path,e)}isEqual(t){return this===t}}function TN(n,t,e,i){const r=n.da(1,t,e);SN("Data must be an object, but it was:",r,i);const o=[],c=rs.empty();kg(i,(f,y)=>{const w=qD(t,f,e);y=(0,P.m9)(y);const E=r.ca(w);if(y instanceof s0)o.push(w);else{const M=Kg(y,E);null!=M&&(o.push(w),c.set(w,M))}});const d=new To(o);return new qH(c,d,r.fieldTransforms)}function EN(n,t,e,i,r,o){const c=n.da(1,t,e),d=[IN(t,i,e)],f=[r];if(o.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)d.push(IN(t,o[M])),f.push(o[M+1]);const y=[],w=rs.empty();for(let M=d.length-1;M>=0;--M)if(!JH(y,d[M])){const O=d[M];let F=f[M];F=(0,P.m9)(F);const z=c.ca(O);if(F instanceof s0)y.push(O);else{const W=Kg(F,z);null!=W&&(y.push(O),w.set(O,W))}}const E=new To(y);return new qH(w,E,c.fieldTransforms)}function ZH(n,t,e,i=!1){return Kg(e,n.da(i?4:3,t))}function Kg(n,t){if(YH(n=(0,P.m9)(n)))return SN("Unsupported field value:",t,n),QH(n,t);if(n instanceof qg)return function(e,i){if(!WH(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let d=Kg(c,i.aa(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,P.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return FB(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ii.fromDate(e);return{timestampValue:Fy(i.yt,r)}}if(e instanceof Ii){const r=new Ii(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fy(i.yt,r)}}if(e instanceof GD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mu)return{bytesValue:iU(i.yt,e._byteString)};if(e instanceof mi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:BR(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${VD(e)}`)}(n,t)}function QH(n,t){const e={};return aB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kg(n,(i,r)=>{const o=Kg(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function YH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ii||n instanceof GD||n instanceof mu||n instanceof mi||n instanceof qg)}function SN(n,t,e){if(!YH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=VD(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function IN(n,t,e){if((t=(0,P.m9)(t))instanceof Qd)return t._internalPath;if("string"==typeof t)return qD(n,t);throw WD("Field path arguments must be of type string or ",n,!1,void 0,e)}const OJ=new RegExp("[~\\*/\\[\\]]");function qD(n,t,e){if(t.search(OJ)>=0)throw WD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Qd(...t.split("."))._internalPath}catch{throw WD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function WD(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new Ne(ce.INVALID_ARGUMENT,d+n+f)}function JH(n,t){return n.some(e=>e.isEqual(t))}class o0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new NJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(KD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class NJ extends o0{data(){return super.data()}}function KD(n,t){return"string"==typeof t?qD(n,t):t instanceof Qd?t._internalPath:t._delegate._internalPath}function XH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DN{}class a0 extends DN{}function Mp(n,t,...e){let i=[];t instanceof DN&&i.push(t),i=i.concat(e),function(r){const o=r.filter(d=>d instanceof Yy).length,c=r.filter(d=>d instanceof l0).length;if(o>1||o>0&&c>0)throw new Ne(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class l0 extends a0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new l0(t,e,i)}_apply(t){const e=this._parse(t);return r3(t._query,e),new ss(t.firestore,t.converter,FR(t._query,e))}_parse(t){const e=Wg(t.firestore);return function(r,o,c,d,f,y,w){let E;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){n3(w,y);const M=[];for(const O of w)M.push(t3(d,r,O));E={arrayValue:{values:M}}}else E=t3(d,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||n3(w,y),E=ZH(c,"where",w,"in"===y||"not-in"===y);return hn.create(f,y,E)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Yy extends DN{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Yy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:zn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const d of c)r3(o,d),o=FR(o,d)}(t._query,e),new ss(t.firestore,t.converter,FR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xN extends a0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new xN(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ay(r,o);return function(d,f){if(null===NR(d)){const y=fD(d);null!==y&&s3(0,y,f.field)}}(i,c),c}(t._query,this._field,this._direction);return new ss(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new qd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ZD extends a0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new ZD(t,e,i)}_apply(t){return new ss(t.firestore,t.converter,gD(t._query,this._limit,this._limitType))}}class QD extends a0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new QD(t,e,i)}_apply(t){const e=e3(t,this.type,this._docOrFields,this._inclusive);return new ss(t.firestore,t.converter,(r=e,new qd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class YD extends a0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new YD(t,e,i)}_apply(t){const e=e3(t,this.type,this._docOrFields,this._inclusive);return new ss(t.firestore,t.converter,(r=e,new qd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function e3(n,t,e,i){if(e[0]=(0,P.m9)(e[0]),e[0]instanceof o0)return function(r,o,c,d,f){if(!d)throw new Ne(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const w of Fg(r))if(w.field.isKeyField())y.push(Ng(o,d.key));else{const E=d.data.field(w.field);if(DR(E))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const M=w.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(E)}return new Tp(y,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Wg(n.firestore);return function(o,c,d,f,y,w){const E=o.explicitOrderBy;if(y.length>E.length)throw new Ne(ce.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let O=0;O<y.length;O++){const F=y[O];if(E[O].field.isKeyField()){if("string"!=typeof F)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof F}`);if(!PR(o)&&-1!==F.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${F}' contains a slash.`);const z=o.path.child(_n.fromString(F));if(!rt.isDocumentKey(z))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const W=new rt(z);M.push(Ng(c,W))}else{const z=ZH(d,f,F);M.push(z)}}return new Tp(M,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function t3(n,t,e){if("string"==typeof(e=(0,P.m9)(e))){if(""===e)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(t)&&-1!==e.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(_n.fromString(e));if(!rt.isDocumentKey(i))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ng(n,new rt(i))}if(e instanceof mi)return Ng(n,e._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${VD(e)}.`)}function n3(n,t){if(!Array.isArray(n)||0===n.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function r3(n,t){if(t.isInequality()){const i=fD(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=NR(n);null!==o&&s3(0,r,o)}const e=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ne(ce.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function s3(n,t,e){if(!e.isEqual(t))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class AN{convertValue(t,e="none"){switch(Og(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Rg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw mt()}}convertObject(t,e){const i={};return kg(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new GD(Hi(t.latitude),Hi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=cB(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(MC(t));default:return null}}convertTimestamp(t){const e=bp(t);return new Ii(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=_n.fromString(t);Et(pU(i));const r=new vp(i.get(1),i.get(3)),o=new rt(i.popFirst(5));return r.isEqual(e)||Ji(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function JD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class GJ extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,e)}}class Zg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yd extends o0{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new c0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(KD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class c0 extends Yd{data(t={}){return super.data(t)}}class kp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new c0(this._firestore,this._userDataWriter,i.key,i,new Zg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new c0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new c0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:$J(c.type),doc:d,oldIndex:f,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $J(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function a3(n,t){return n instanceof Yd&&t instanceof Yd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof kp&&t instanceof kp&&n._firestore===t._firestore&&hN(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Rp extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,e)}}function l3(n,t,e){n=pn(n,mi);const i=pn(n.firestore,_i),r=JD(n.converter,t,e);return Jy(i,[jD(Wg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Di.none())])}function c3(n,t,e,...i){n=pn(n,mi);const r=pn(n.firestore,_i),o=Wg(r);let c;return c="string"==typeof(t=(0,P.m9)(t))||t instanceof Qd?EN(o,"updateDoc",n._key,t,e,i):TN(o,"updateDoc",n._key,t),Jy(r,[c.toMutation(n._key,Di.exists(!0))])}function u3(n,...t){var e,i,r;n=(0,P.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||wN(t[c])||(o=t[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(wN(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let f,y,w;if(n instanceof mi)y=pn(n.firestore,_i),w=ky(n._key.path),f={next:E=>{t[c]&&t[c](MN(y,n,E))},error:t[c+1],complete:t[c+2]};else{const E=pn(n,ss);y=pn(E.firestore,_i),w=E._query;const M=new Rp(y);f={next:O=>{t[c]&&t[c](new kp(y,M,E,O))},error:t[c+1],complete:t[c+2]},XH(n._query)}return function(E,M,O,F){const z=new UD(F),W=new VO(M,z,O);return E.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return OO(yield Qy(E),W)})),()=>{z.bc(),E.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return PO(yield Qy(E),W)}))}}(er(y),w,d,f)}function Jy(n,t){return function(e,i){const r=new Sr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function B7(n,t,e){return GO.apply(this,arguments)}(yield vN(e),i,r)})),r.promise}(er(n),t)}function MN(n,t,e){const i=e.docs.get(t._key),r=new Rp(n);return new Yd(n,r,t._key,i,new Zg(e.hasPendingWrites,e.fromCache),t.converter)}const e9={maxAttempts:5};class d3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wg(t)}set(t,e,i){this._verifyNotCommitted();const r=Op(t,this._firestore),o=JD(r.converter,e,i),c=jD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Di.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Op(t,this._firestore);let c;return c="string"==typeof(e=(0,P.m9)(e))||e instanceof Qd?EN(this._dataReader,"WriteBatch.update",o._key,e,i,r):TN(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Di.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Op(t,this._firestore);return this._mutations=this._mutations.concat(new Py(e._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Op(n,t){if((n=(0,P.m9)(n)).firestore!==t)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class t9 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wg(t)}get(t){const e=Op(t,this._firestore),i=new GJ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return mt();const o=r[0];if(o.isFoundDocument())return new o0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new o0(this._firestore,i,e._key,null,e.converter);throw mt()})}set(t,e,i){const r=Op(t,this._firestore),o=JD(r.converter,e,i),c=jD(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Op(t,this._firestore);let c;return c="string"==typeof(e=(0,P.m9)(e))||e instanceof Qd?EN(this._dataReader,"Transaction.update",o._key,e,i,r):TN(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Op(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Op(t,this._firestore),i=new Rp(this._firestore);return super.get(t).then(r=>new Yd(this._firestore,i,e._key,r._document,new Zg(!1,!1),e.converter))}}function kN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function p3(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function f3(){if(!function DY(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Sy=Qr.SDK_VERSION,(0,Qr._registerComponent)(new Qa.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),c=new _i(new fY(e.getProvider("auth-internal")),new _Y(e.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vp(d.options.projectId,f)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Qr.registerVersion)(QV,"3.8.3",n),(0,Qr.registerVersion)(QV,"3.8.3","esm2017")}();class u0{constructor(t){this._delegate=t}static fromBase64String(t){return f3(),new u0(mu.fromBase64String(t))}static fromUint8Array(t){return p3(),new u0(mu.fromUint8Array(t))}toBase64(){return f3(),this._delegate.toBase64()}toUint8Array(){return p3(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RN(n){return function d9(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class h9{enableIndexedDbPersistence(t,e){return function vJ(n,t){jH(n=pn(n,_i));const e=er(n),i=n._freezeSettings(),r=new uN;return $H(e,r,new IH(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function bJ(n){jH(n=pn(n,_i));const t=er(n),e=n._freezeSettings(),i=new uN;return $H(t,i,new tJ(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function wJ(n){if(n._initialized&&!n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Sr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(e=(0,ge.Z)(function*(i){if(!ec.C())return Promise.resolve();const r=i+"main";yield ec.delete(r)}),function(i){return e.apply(this,arguments)})(iO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class g3{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof vp||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&xg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function OH(n,t,e,i={}){var r;const o=(n=pn(n,r0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&xg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Lr.MOCK_USER;else{c=(0,P.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Lr(f)}n._authCredentials=new pY(new YV(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function TJ(n){return function cJ(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const t=yield BH(n),e=yield yN(n);return t.setNetworkEnabled(!0),function(i){const r=at(i);return r._u.delete(0),t0(r)}(e)}))}(er(n=pn(n,_i)))}(this._delegate)}disableNetwork(){return function EJ(n){return function uJ(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const t=yield BH(n),e=yield yN(n);return t.setNetworkEnabled(!1),(i=(0,ge.Z)(function*(r){const o=at(r);o._u.add(0),yield Gy(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(er(n=pn(n,_i)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,DH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CJ(n){return function(t){const e=new Sr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function G7(n,t){return KO.apply(this,arguments)}(yield vN(t),e)})),e.promise}(er(n=pn(n,_i)))}(this._delegate)}onSnapshotsInSync(t){return function XJ(n,t){return function pJ(n,t){const e=new UD(t);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return i=yield Qy(n),r=e,at(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return i=yield Qy(n),r=e,void at(i).Ru.delete(r);var i,r}))}}(er(n=pn(n,_i)),wN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Xy(this,NH(this._delegate,t))}catch(e){throw Qs(e,"collection()","Firestore.collection()")}}doc(t){try{return new sl(this,BD(this._delegate,t))}catch(e){throw Qs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ys(this,function nJ(n,t){if(n=pn(n,r0),dN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(e=t,new qd(_n.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Qs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function n9(n,t,e){n=pn(n,_i);const i=Object.assign(Object.assign({},e9),e);return function(r){if(r.maxAttempts<1)throw new Ne(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const d=new Sr;return r.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const f=yield function UH(n){return HD(n).then(t=>t.datastore)}(r);new aJ(r.asyncQueue,f,c,o,d).run()})),d.promise}(er(n),r=>t(new t9(n,r)),i)}(this._delegate,e=>t(new m3(this,e)))}batch(){return er(this._delegate),new _3(new d3(this._delegate,t=>Jy(this._delegate,t)))}loadBundle(t){return function SJ(n,t){const e=er(n=pn(n,_i)),i=new _J;return function fJ(n,t,e,i){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,y){if(f instanceof Uint8Array)return FH(f,y);if(f instanceof ArrayBuffer)return FH(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new iJ(f,c);var f}(e,e0(t));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function eJ(n,t,e){const i=at(n);var r;(r=(0,ge.Z)(function*(o,c,d){try{const f=yield c.getMetadata();if(yield function(M,O){const F=at(M),z=Xi(O.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",W=>F.Ns.getBundleMetadata(W,O.id)).then(W=>!!W&&W.createTime.compareTo(z)>=0)}(o.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=f).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(mH(f));const y=new O7(f,o.localStore,c.yt);let w=yield c.mc();for(;w;){const M=yield y.Fu(w);M&&d._updateProgress(M),w=yield c.mc()}const E=yield y.complete();return yield Zd(o,E.Lu,void 0),yield function(M,O){const F=at(M);return F.persistence.runTransaction("Save bundle","readwrite",z=>F.Ns.saveBundleMetadata(z,O))}(o.localStore,f),d._completeWith(E.progress),Promise.resolve(E.Bu)}catch(f){return xg("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var M}),function(o,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield vN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function IJ(n,t){return function gJ(n,t){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(e,i){const r=at(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield zD(n),t)}))}(er(n=pn(n,_i)),t).then(e=>e?new ss(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ys(this,e):null)}}class XD extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new u0(new mu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return sl.forKey(e,this.firestore,null)}}class m3{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new XD(t)}get(t){const e=Yg(t);return this._delegate.get(e).then(i=>new d0(this._firestore,new Yd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Yg(t);return i?(kN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Yg(t);return this._delegate.delete(e),this}}class _3{constructor(t){this._delegate=t}set(t,e,i){const r=Yg(t);return i?(kN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Yg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Qg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new c0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new h0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Qg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Qg(t,new XD(t),e),r.set(e,o)),o}}Qg.INSTANCES=new WeakMap;class sl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new XD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new sl(e,new mi(e._delegate,i,new rt(t)))}static forKey(t,e,i){return new sl(e,new mi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Xy(this.firestore,NH(this._delegate,t))}catch(e){throw Qs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,P.m9)(t))instanceof mi&&PH(this._delegate,t)}set(t,e){e=kN("DocumentReference.set",e);try{return e?l3(this._delegate,t,e):l3(this._delegate,t)}catch(i){throw Qs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?c3(this._delegate,t):c3(this._delegate,t,e,...i)}catch(r){throw Qs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function YJ(n){return Jy(pn(n.firestore,_i),[new Py(n._key,Di.none())])}(this._delegate)}onSnapshot(...t){const e=y3(t),i=v3(t,r=>new d0(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return u3(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function qJ(n){n=pn(n,mi);const t=pn(n.firestore,_i),e=er(t),i=new Rp(t);return function dJ(n,t){const e=new Sr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(i=(0,ge.Z)(function*(r,o,c){try{const d=yield function(f,y){const w=at(f);return w.persistence.runTransaction("read document","readonly",E=>w.localDocuments.getDocument(E,y))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=qy(d,`Failed to get document '${o} from cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield zD(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Yd(t,i,n._key,r,new Zg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function WJ(n){n=pn(n,mi);const t=pn(n.firestore,_i);return HH(er(t),n._key,{source:"server"}).then(e=>MN(t,n,e))}(this._delegate):function jJ(n){n=pn(n,mi);const t=pn(n.firestore,_i);return HH(er(t),n._key).then(e=>MN(t,n,e))}(this._delegate),e.then(i=>new d0(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new sl(this.firestore,this._delegate.withConverter(t?Qg.getInstance(this.firestore,t):null))}}function Qs(n,t,e){return n.message=n.message.replace(t,e),n}function y3(n){for(const t of n)if("object"==typeof t&&!RN(t))return t;return{}}function v3(n,t){var e,i;let r;return r=RN(n[0])?n[0]:RN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class d0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new sl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return a3(this._delegate,t._delegate)}}class h0 extends d0{data(t){const e=this._delegate.data(t);return function dY(n,t){n||mt()}(void 0!==e),e}}class Ys{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new XD(t)}where(t,e,i){try{return new Ys(this.firestore,Mp(this._delegate,function PJ(n,t,e){const i=t,r=KD("where",n);return l0._create(r,i,e)}(t,e,i)))}catch(r){throw Qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ys(this.firestore,Mp(this._delegate,function FJ(n,t="asc"){const e=t,i=KD("orderBy",n);return xN._create(i,e)}(t,e)))}catch(i){throw Qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ys(this.firestore,Mp(this._delegate,function LJ(n){return MH("limit",n),ZD._create("limit",n,"F")}(t)))}catch(e){throw Qs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ys(this.firestore,Mp(this._delegate,function VJ(n){return MH("limitToLast",n),ZD._create("limitToLast",n,"L")}(t)))}catch(e){throw Qs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ys(this.firestore,Mp(this._delegate,function BJ(...n){return QD._create("startAt",n,!0)}(...t)))}catch(e){throw Qs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ys(this.firestore,Mp(this._delegate,function UJ(...n){return QD._create("startAfter",n,!1)}(...t)))}catch(e){throw Qs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ys(this.firestore,Mp(this._delegate,function HJ(...n){return YD._create("endBefore",n,!1)}(...t)))}catch(e){throw Qs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ys(this.firestore,Mp(this._delegate,function zJ(...n){return YD._create("endAt",n,!0)}(...t)))}catch(e){throw Qs(e,"endAt()","Query.endAt()")}}isEqual(t){return hN(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function ZJ(n){n=pn(n,ss);const t=pn(n.firestore,_i),e=er(t),i=new Rp(t);return function hJ(n,t){const e=new Sr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(i=(0,ge.Z)(function*(r,o,c){try{const d=yield RD(r,o,!0),f=new vH(o,d.Hi),y=f.Wu(d.documents),w=f.applyChanges(y,!1);c.resolve(w.snapshot)}catch(d){const f=qy(d,`Failed to execute query '${o} against cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield zD(n),t,e);var i})),e.promise}(e,n._query).then(r=>new kp(t,i,n,r))}(this._delegate):"server"===t?.source?function QJ(n){n=pn(n,ss);const t=pn(n.firestore,_i),e=er(t),i=new Rp(t);return zH(e,n._query,{source:"server"}).then(r=>new kp(t,i,n,r))}(this._delegate):function KJ(n){n=pn(n,ss);const t=pn(n.firestore,_i),e=er(t),i=new Rp(t);return XH(n._query),zH(e,n._query).then(r=>new kp(t,i,n,r))}(this._delegate),e.then(i=>new ON(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=y3(t),i=v3(t,r=>new ON(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return u3(this._delegate,e,i)}withConverter(t){return new Ys(this.firestore,this._delegate.withConverter(t?Qg.getInstance(this.firestore,t):null))}}class f9{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new h0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ON{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new h0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new f9(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new h0(this._firestore,i))})}isEqual(t){return a3(this._delegate,t._delegate)}}class Xy extends Ys{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new sl(this.firestore,t):null}doc(t){try{return new sl(this.firestore,void 0===t?BD(this._delegate):BD(this._delegate,t))}catch(e){throw Qs(e,"doc()","CollectionReference.doc()")}}add(t){return function JJ(n,t){const e=pn(n.firestore,_i),i=BD(n),r=JD(n.converter,t);return Jy(e,[jD(Wg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Di.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new sl(this.firestore,e))}isEqual(t){return PH(this._delegate,t._delegate)}withConverter(t){return new Xy(this.firestore,this._delegate.withConverter(t?Qg.getInstance(this.firestore,t):null))}}function Yg(n){return pn(n,mi)}class NN{constructor(...t){this._delegate=new Qd(...t)}static documentId(){return new NN(Ui.keyField().canonicalString())}isEqual(t){return(t=(0,P.m9)(t))instanceof Qd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Jg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function s9(){return new CN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Jg(t)}static delete(){const t=function r9(){return new s0("deleteField")}();return t._methodName="FieldValue.delete",new Jg(t)}static arrayUnion(...t){const e=function o9(...n){return new MJ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Jg(e)}static arrayRemove(...t){const e=function a9(...n){return new kJ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Jg(e)}static increment(t){const e=function l9(n){return new RJ("increment",n)}(t);return e._methodName="FieldValue.increment",new Jg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const g9={Firestore:g3,GeoPoint:GD,Timestamp:Ii,Blob:u0,Transaction:m3,WriteBatch:_3,DocumentReference:sl,DocumentSnapshot:d0,Query:Ys,QueryDocumentSnapshot:h0,QuerySnapshot:ON,CollectionReference:Xy,FieldPath:NN,FieldValue:Jg,setLogLevel:function p9(n){!function uY(n){mp.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function b3(n,t){return function y9(n,t=Ff.z){return new cr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function PN(n,t){return b3(n,t).pipe((0,bt.U)(e=>({payload:e,type:"query"})))}function ex(n,t){return PN(n,t).pipe(Ba(void 0),Nk(),(0,bt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const f=r.find(w=>w.doc.ref.isEqual(c.ref)),y=e?.payload.docs.find(w=>w.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function w3(n,t,e){return ex(n,e).pipe(oi((i,r)=>function b9(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function w9(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return FN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return FN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return FN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),NT(),(0,bt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function FN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function C3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function _9(n){(function m9(n,t){n.INTERNAL.registerComponent(new Qa.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},g9)))})(n,(t,e)=>new g3(t,e,new h9)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(zl.Z);class T3{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=ex(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,bt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ba(void 0),Nk(),ps(([i,r])=>r.length>0||!i),(0,bt.U)(([i,r])=>r),En.iC)}auditTrail(t){return this.stateChanges(t).pipe(oi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=C3(t);return w3(this.query,e,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(t={}){return PN(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),En.iC)}get(t){return(0,We.D)(this.query.get(t)).pipe(En.iC)}add(t){return this.ref.add(t)}doc(t){return new E3(this.ref.doc(t),this.afs)}}class E3{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=D3(i,e);return new T3(r,o,this.afs)}snapshotChanges(){return function v9(n,t){return b3(n,t).pipe(Ba(void 0),Nk(),(0,bt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,We.D)(this.ref.get(t)).pipe(En.iC)}}class C9{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ex(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ps(e=>e.length>0),En.iC):ex(this.query,this.afs.schedulers.outsideAngular).pipe(En.iC)}auditTrail(t){return this.stateChanges(t).pipe(oi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=C3(t);return w3(this.query,e,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(t={}){return PN(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),En.iC)}get(t){return(0,We.D)(this.query.get(t)).pipe(En.iC)}}const S3=new s.OlP("angularfire2.enableFirestorePersistence"),I3=new s.OlP("angularfire2.firestore.persistenceSettings"),T9=new s.OlP("angularfire2.firestore.settings"),E9=new s.OlP("angularfire2.firestore.use-emulator");function D3(n,t=(e=>e)){return{query:t(n),ref:n}}let S9=(()=>{class n{constructor(e,i,r,o,c,d,f,y,w,E,M,O,F,z,W,Ee,Le){this.schedulers=f;const Pe=(0,Li.on)(e,d,i),Ve=w;E&&kM(Pe,d,M,F,z,W,O,Ee),[this.firestore,this.persistenceEnabled$]=(0,Li.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const ut=d.runOutsideAngular(()=>Pe.firestore());if(o&&ut.settings(o),Ve&&ut.useEmulator(...Ve),r&&!ic(c)){const pt=()=>{try{return(0,We.D)(ut.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Jt){return typeof console<"u"&&console.warn(Jt),ke(!1)}};return[ut,d.runOutsideAngular(pt)]}return[ut,ke(!1)]},[o,Ve,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=D3(r,i),d=this.schedulers.ngZone.run(()=>o);return new T3(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new C9(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new E3(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Li.Dh),s.LFG(Li.xv,8),s.LFG(S3,8),s.LFG(T9,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(En.HU),s.LFG(I3,8),s.LFG(E9,8),s.LFG(RM,8),s.LFG(SM,8),s.LFG(IM,8),s.LFG(DM,8),s.LFG(xM,8),s.LFG(AM,8),s.LFG(MM,8),s.LFG(Vw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),I9=(()=>{class n{constructor(){EM.Z.registerVersion("angularfire",En.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:S3,useValue:!0},{provide:I3,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[S9]}),n})();const x3="firebasestorage.googleapis.com",A3="storageBucket";class Ri extends P.ZR{constructor(t,e,i=0){super(LN(t),`Firebase Storage: ${e} (${LN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ri.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return LN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ai=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ai||(ai={})),ai))();function LN(n){return"storage/"+n}function VN(){return new Ri(ai.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function M3(){return new Ri(ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k3(){return new Ri(ai.CANCELED,"User canceled the upload/download.")}function R3(){return new Ri(ai.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ev(n){return new Ri(ai.INVALID_ARGUMENT,n)}function O3(){return new Ri(ai.APP_DELETED,"The Firebase app was deleted.")}function N3(n){return new Ri(ai.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function p0(n,t){return new Ri(ai.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function f0(n){throw new Ri(ai.INTERNAL_ERROR,"Internal error: "+n)}class Ts{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ts.makeFromUrl(t,e)}catch{return new Ts(t,"")}if(""===i.path)return i;throw function L9(n){return new Ri(ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Ve){Ve.path_=decodeURIComponent(Ve.path)}const E=e.replace(/[.]/g,"\\."),Pe=[{regex:d,indices:{bucket:1,path:3},postModify:function o(Ve){"/"===Ve.path.charAt(Ve.path.length-1)&&(Ve.path_=Ve.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===x3?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Ve=0;Ve<Pe.length;Ve++){const ut=Pe[Ve],pt=ut.regex.exec(t);if(pt){let Rn=pt[ut.indices.path];Rn||(Rn=""),i=new Ts(pt[ut.indices.bucket],Rn),ut.postModify(i);break}}if(null==i)throw function F9(n){return new Ri(ai.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class z9{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function tx(n){return"string"==typeof n||n instanceof String}function P3(n){return BN()&&n instanceof Blob}function BN(){return typeof Blob<"u"&&!(0,P.UG)()}function UN(n,t,e,i){if(i<t)throw ev(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw ev(`Invalid value for '${n}'. Expected ${e} or less.`)}function Jd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function F3(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Np=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Np||(Np={})),Np))();function L3(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class K9{constructor(t,e,i,r,o,c,d,f,y,w,E,M=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=E,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function j9(n){return void 0!==n}(f)?o():o(f)}catch(f){c(f)}else if(null!==d){const f=VN();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(r.canceled?this.appDelete_?O3():k3():M3())};this.canceled_?e(0,new nx(!1,null,!0)):this.backoffId_=function G9(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function f(){return 2===d}let y=!1;function w(...W){y||(y=!0,t.apply(null,W))}function E(W){r=setTimeout(()=>{r=null,n(O,f())},W)}function M(){o&&clearTimeout(o)}function O(W,...Ee){if(y)return void M();if(W)return M(),void w.call(null,W,...Ee);if(f()||c)return M(),void w.call(null,W,...Ee);let Pe;i<64&&(i*=2),1===d?(d=2,Pe=0):Pe=1e3*(i+Math.random()),E(Pe)}let F=!1;function z(W){F||(F=!0,M(),!y&&(null!==r?(W||(d=2),clearTimeout(r),E(0)):W||(d=1)))}return E(0),o=setTimeout(()=>{c=!0,z(!0)},e),z}((i,r)=>{if(r)return void i(!1,new nx(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Np.NO_ERROR,f=o.getStatus();if(!d||L3(f,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===Np.ABORT;return void i(!1,new nx(!1,null,w))}const y=-1!==this.successCodes_.indexOf(f);i(!0,new nx(y,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function $9(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nx{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function tX(...n){const t=function eX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(BN())return new Blob(n);throw new Ri(ai.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const da={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class HN{constructor(t,e){this.data=t,this.contentType=e||null}}function zN(n,t){switch(n){case da.RAW:return new HN(V3(t));case da.BASE64:case da.BASE64URL:return new HN(B3(n,t));case da.DATA_URL:return new HN(function sX(n){const t=new U3(n);return t.base64?B3(da.BASE64,t.rest):function rX(n){let t;try{t=decodeURIComponent(n)}catch{throw p0(da.DATA_URL,"Malformed data URL.")}return V3(t)}(t.rest)}(t),function oX(n){return new U3(n).contentType}(t))}throw VN()}function V3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function B3(n,t){switch(n){case da.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw p0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case da.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw p0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function iX(n){if(typeof atob>"u")throw function H9(n){return new Ri(ai.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:p0(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class U3{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw p0(da.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function aX(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class _u{constructor(t,e){let i=0,r="";P3(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(P3(this.data_)){const r=function nX(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new _u(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new _u(i,!0)}}static getBlob(...t){if(BN()){const e=t.map(i=>i instanceof _u?i.data_:i);return new _u(tX.apply(null,e))}{const e=t.map(c=>tx(c)?zN(da.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new _u(r,!0)}}uploadData(){return this.data_}}function GN(n){let t;try{t=JSON.parse(n)}catch{return null}return function W9(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function H3(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function uX(n,t){return t}class Js{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||uX}}let ix=null;function g0(){if(ix)return ix;const n=[];n.push(new Js("bucket")),n.push(new Js("generation")),n.push(new Js("metageneration")),n.push(new Js("name","fullPath",!0));const e=new Js("name");e.xform=function t(o,c){return function dX(n){return!tx(n)||n.length<2?n:H3(n)}(c)},n.push(e);const r=new Js("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Js("timeCreated")),n.push(new Js("updated")),n.push(new Js("md5Hash",null,!0)),n.push(new Js("cacheControl",null,!0)),n.push(new Js("contentDisposition",null,!0)),n.push(new Js("contentEncoding",null,!0)),n.push(new Js("contentLanguage",null,!0)),n.push(new Js("contentType",null,!0)),n.push(new Js("metadata","customMetadata",!0)),ix=n,ix}function z3(n,t,e){const i=GN(t);return null===i?null:function pX(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return function hX(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Ts(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function $N(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const G3="prefixes";class yu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vu(n){if(!n)throw VN()}function rx(n,t){return function e(i,r){const o=z3(n,r,t);return vu(null!==o),o}}function tv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function N9(){return new Ri(ai.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function O9(){return new Ri(ai.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function R9(n){return new Ri(ai.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function P9(n){return new Ri(ai.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function m0(n){const t=tv(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function k9(n){return new Ri(ai.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function j3(n,t,e){const r=Jd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new yu(r,"GET",rx(n,e),c);return d.errorHandler=m0(t),d}function vX(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const d=Jd(t.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,w=new yu(d,"GET",function _X(n,t){return function e(i,r){const o=function mX(n,t,e){const i=GN(e);return null===i?null:function gX(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[G3])for(const r of e[G3]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new Ts(t,o));i.prefixes.push(c)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Ts(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return vu(null!==o),o}}(n,t.bucket),y);return w.urlParams=o,w.errorHandler=tv(t),w}function W3(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function TX(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class sx{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function jN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{vu(!1)}return vu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const DX={STATE_CHANGED:"state_changed"},Xs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qN(n){switch(n){case"running":case"pausing":case"canceling":return Xs.RUNNING;case"paused":return Xs.PAUSED;case"success":return Xs.SUCCESS;case"canceled":return Xs.CANCELED;default:return Xs.ERROR}}class xX{constructor(t,e,i){if(function q9(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function nv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class AX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Np.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Np.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Np.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw f0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw f0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw f0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw f0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw f0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class MX extends AX{initXhr(){this.xhr_.responseType="text"}}function tc(){return new MX}class Y3{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=g0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(ai.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(L3(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=M3()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(ai.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function EX(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c=W3(t,i,r),d={name:c.fullPath},f=Jd(o,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=$N(c,e),F=new yu(f,"POST",function O(z){let W;jN(z);try{W=z.getResponseHeader("X-Goog-Upload-URL")}catch{vu(!1)}return vu(tx(W)),W},n.maxUploadRetryTime);return F.urlParams=d,F.headers=w,F.body=E,F.errorHandler=tv(t),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function SX(n,t,e,i){const f=new yu(e,"POST",function o(y){const w=jN(y,["active","final"]);let E=null;try{E=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vu(!1)}E||vu(!1);const M=Number(E);return vu(!isNaN(M)),new sx(M,i.size(),"final"===w)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=tv(t),f}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,tc,e,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new sx(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function IX(n,t,e,i,r,o,c,d){const f=new sx(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function B9(){return new Ri(ai.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const y=f.total-f.current;let w=y;r>0&&(w=Math.min(w,r));const E=f.current;let O="";O=0===w?"finalize":y===w?"upload, finalize":"upload";const F={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${f.current}`},z=i.slice(E,E+w);if(null===z)throw R3();const Pe=new yu(e,"POST",function W(Ve,ut){const pt=jN(Ve,["active","final"]),Jt=f.current+w,Rn=i.size();let yi;return yi="final"===pt?rx(t,o)(Ve,ut):null,new sx(Jt,Rn,"final"===pt,yi)},t.maxUploadRetryTime);return Pe.headers=F,Pe.body=z.uploadData(),Pe.progressCallback=d||null,Pe.errorHandler=tv(n),Pe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,tc,r,o,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=j3(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,tc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function K3(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Pe="";for(let Ve=0;Ve<2;Ve++)Pe+=Math.random().toString().slice(2);return Pe}();c["Content-Type"]="multipart/related; boundary="+f;const y=W3(t,i,r),w=$N(y,e),O=_u.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+f+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===O)throw R3();const F={name:y.fullPath},z=Jd(o,n.host,n._protocol),Ee=n.maxUploadRetryTime,Le=new yu(z,"POST",rx(n,e),Ee);return Le.urlParams=F,Le.headers=c,Le.body=O.uploadData(),Le.errorHandler=tv(t),Le}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=k3(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=qN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new xX(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(qN(this._state)){case Xs.SUCCESS:nv(this._resolve.bind(null,this.snapshot))();break;case Xs.CANCELED:case Xs.ERROR:nv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(qN(this._state)){case Xs.RUNNING:case Xs.PAUSED:t.next&&nv(t.next.bind(t,this.snapshot))();break;case Xs.SUCCESS:t.complete&&nv(t.complete.bind(t))();break;default:t.error&&nv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Xg{constructor(t,e){this._service=t,this._location=e instanceof Ts?e:Ts.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Xg(t,e)}get root(){const t=new Ts(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H3(this._location.path)}get storage(){return this._service}get parent(){const t=function lX(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ts(this._location.bucket,t);return new Xg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw N3(t)}}function X3(n,t,e){return WN.apply(this,arguments)}function WN(){return WN=(0,ge.Z)(function*(n,t,e){const r=yield ez(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield X3(n,t,r.nextPageToken))}),WN.apply(this,arguments)}function ez(n,t){null!=t&&"number"==typeof t.maxResults&&UN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=vX(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,tc)}function zX(n){n._throwIfRoot("getDownloadURL");const t=function bX(n,t,e){const r=Jd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new yu(r,"GET",function yX(n,t){return function e(i,r){const o=z3(n,r,t);return vu(null!==o),function fX(n,t,e,i){const r=GN(t);if(null===r||!tx(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(y=>{const E=n.fullPath;return Jd("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+F3({alt:"media",token:y})})[0]}(o,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=m0(t),d}(n.storage,n._location,g0());return n.storage.makeRequestWithTokens(t,tc).then(e=>{if(null===e)throw function U9(){return new Ri(ai.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function tz(n,t){const e=function cX(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ts(n._location.bucket,e);return new Xg(n.storage,i)}function nz(n,t){if(n instanceof KN){const e=n;if(null==e._bucket)throw function V9(){return new Ri(ai.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A3+"' property when initializing the app?")}();const i=new Xg(e,e._bucket);return null!=t?nz(i,t):i}return void 0!==t?tz(n,t):n}function qX(n,t){if(t&&function $X(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof KN)return function jX(n,t){return new Xg(n,t)}(n,t);throw ev("To use ref(service, url), the first argument must be a Storage instance.")}return nz(n,t)}function iz(n,t){const e=t?.[A3];return null==e?null:Ts.makeFromBucketSpec(e,n)}class KN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=x3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ts.makeFromBucketSpec(r,this._host):iz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ts.makeFromBucketSpec(this._url,t):iz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){UN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){UN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ge.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ge.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Xg(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new z9(O3());{const c=function X9(n,t,e,i,r,o,c=!0){const d=F3(n.urlParams),f=n.url+d,y=Object.assign({},n.headers);return function Y9(n,t){t&&(n["X-Firebase-GMPID"]=t)}(y,t),function Z9(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(y,e),function Q9(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(y,o),function J9(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(y,i),new K9(f,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,ge.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const rz="@firebase/storage";function az(n,t){return qX(n=(0,P.m9)(n),t)}function nee(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new KN(e,i,r,t,Qr.SDK_VERSION)}!function iee(){(0,Qr._registerComponent)(new Qa.wA("storage",nee,"PUBLIC").setMultipleInstances(!0)),(0,Qr.registerVersion)(rz,"0.11.1",""),(0,Qr.registerVersion)(rz,"0.11.1","esm2017")}();class ox{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cz{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ox(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new ox(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?c=>e(new ox(c,this,this._ref)):{next:e.next?c=>e.next(new ox(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class uz{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Xd(t,this._service))}get items(){return this._delegate.items.map(t=>new Xd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function tee(n,t){return tz(n,t)}(this._delegate,t);return new Xd(e,this.storage)}get root(){return new Xd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Xd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new cz(function KX(n,t,e){return function LX(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Y3(n,new _u(t),e)}(n=(0,P.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=da.RAW,i){this._throwIfRoot("putString");const r=zN(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new cz(new Y3(this._delegate,new _u(r.data,!0),o),this)}listAll(){return function JX(n){return function BX(n){const t={prefixes:[],items:[]};return X3(n,t).then(()=>t)}(n=(0,P.m9)(n))}(this._delegate).then(t=>new uz(t,this.storage))}list(t){return function YX(n,t){return ez(n=(0,P.m9)(n),t)}(this._delegate,t||void 0).then(e=>new uz(e,this.storage))}getMetadata(){return function ZX(n){return function UX(n){n._throwIfRoot("getMetadata");const t=j3(n.storage,n._location,g0());return n.storage.makeRequestWithTokens(t,tc)}(n=(0,P.m9)(n))}(this._delegate)}updateMetadata(t){return function QX(n,t){return function HX(n,t){n._throwIfRoot("updateMetadata");const e=function wX(n,t,e,i){const o=Jd(t.fullServerUrl(),n.host,n._protocol),d=$N(e,i),y=n.maxOperationRetryTime,w=new yu(o,"PATCH",rx(n,i),y);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=m0(t),w}(n.storage,n._location,t,g0());return n.storage.makeRequestWithTokens(e,tc)}(n=(0,P.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function XX(n){return zX(n=(0,P.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function eee(n){return function GX(n){n._throwIfRoot("deleteObject");const t=function CX(n,t){const i=Jd(t.fullServerUrl(),n.host,n._protocol),d=new yu(i,"DELETE",function c(f,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=m0(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,tc)}(n=(0,P.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw N3(t)}}class dz{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(hz(t))throw ev("ref() expected a child path but got a URL, use refFromURL instead.");return new Xd(az(this._delegate,t),this)}refFromURL(t){if(!hz(t))throw ev("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ts.makeFromUrl(t,this._delegate.host)}catch{throw ev("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xd(az(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function lz(n,t,e,i={}){!function WX(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,P.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function hz(n){return/^[A-Za-z]+:\/\//.test(n)}function aee(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new dz(e,i)}function pz(n){const t=function cee(n){return new cr.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(function D9(n,t=Ff.z){return(0,bn.e)((e,i)=>{let r=null,o=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function f(){const y=c+n,w=t.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);d()}e.subscribe((0,kn.x)(i,y=>{o=y,c=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,bt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function ax(n){return{getDownloadURL:()=>ke(void 0).pipe(En.fc,di(()=>n.getDownloadURL()),En.iC),getMetadata:()=>ke(void 0).pipe(En.fc,di(()=>n.getMetadata()),En.iC),delete:()=>(0,We.D)(n.delete()),child:t=>ax(n.child(t)),updateMetadata:t=>(0,We.D)(n.updateMetadata(t)),put:(t,e)=>pz(n.put(t,e)),putString:(t,e,i)=>pz(n.putString(t,e,i)),list:t=>(0,We.D)(n.list(t)),listAll:()=>(0,We.D)(n.listAll())}}!function lee(n){const t={TaskState:Xs,TaskEvent:DX,StringFormat:da,Storage:dz,Reference:Xd};n.INTERNAL.registerComponent(new Qa.wA("storage-compat",aee,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.1")}(zl.Z);const uee=new s.OlP("angularfire2.storageBucket"),dee=new s.OlP("angularfire2.storage.maxUploadRetryTime"),hee=new s.OlP("angularfire2.storage.maxOperationRetryTime"),pee=new s.OlP("angularfire2.storage.use-emulator");let fee=(()=>{class n{constructor(e,i,r,o,c,d,f,y,w,E){const M=(0,Li.on)(e,c,i);this.storage=(0,Li.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const O=c.runOutsideAngular(()=>M.storage(r||void 0)),F=w;return F&&O.useEmulator(...F),f&&O.setMaxUploadRetryTime(f),y&&O.setMaxOperationRetryTime(y),O},[f,y])}ref(e){return ax(this.storage.ref(e))}refFromURL(e){return ax(this.storage.refFromURL(e))}upload(e,i,r){return ax(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Li.Dh),s.LFG(Li.xv,8),s.LFG(uee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(En.HU),s.LFG(dee,8),s.LFG(hee,8),s.LFG(pee,8),s.LFG(Vw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),mee=(()=>{class n{constructor(){EM.Z.registerVersion("angularfire",En.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fee],imports:[gee]}),n})(),Eee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,ve]}),n})(),Aee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,ve]}),n})(),Oee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn]}),n})();class iv{}function Nee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",5),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.clear(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.clear(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),s.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function Pee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",6),s.NdJ("click",function(r){const c=s.CHM(e).index,d=s.oxw(2);return s.KtG(d.rate(r,c))})("keydown.enter",function(r){const c=s.CHM(e).index,d=s.oxw(2);return s.KtG(d.rate(r,c))}),s.qZA()}if(2&n){const e=t.index,i=s.oxw(2);s.Q6J("ngClass",!i.value||e>=i.value?i.iconOffClass:i.iconOnClass)("ngStyle",!i.value||e>=i.value?i.iconOffStyle:i.iconOnStyle),s.uIk("tabindex",i.disabled||i.readonly?null:"0")}}function Fee(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Nee,1,3,"span",3),s.YNc(2,Pee,1,3,"span",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.cancel),s.xp6(1),s.Q6J("ngForOf",e.starsArray)}}function Lee(n,t){1&n&&s.GkF(0)}function Vee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",9),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.clear(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.clear(r))}),s.YNc(1,Lee,1,0,"ng-container",10),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngStyle",e.iconCancelStyle),s.uIk("tabindex",e.disabled||e.readonly?null:"0"),s.xp6(1),s.Q6J("ngTemplateOutlet",e.cancelIconTemplate)}}function Bee(n,t){1&n&&s.GkF(0)}function Uee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",11),s.NdJ("click",function(r){const c=s.CHM(e).index,d=s.oxw(2);return s.KtG(d.rate(r,c))})("keydown.enter",function(r){const c=s.CHM(e).index,d=s.oxw(2);return s.KtG(d.rate(r,c))}),s.YNc(1,Bee,1,0,"ng-container",10),s.qZA()}if(2&n){const e=t.index,i=s.oxw(2);s.uIk("tabindex",i.disabled||i.readonly?null:"0"),s.xp6(1),s.Q6J("ngTemplateOutlet",i.getIconTemplate(e))}}function Hee(n,t){if(1&n&&(s.YNc(0,Vee,2,3,"span",7),s.YNc(1,Uee,2,2,"span",8)),2&n){const e=s.oxw();s.Q6J("ngIf",e.cancel),s.xp6(1),s.Q6J("ngForOf",e.starsArray)}}iv.\u0275fac=function(t){return new(t||iv)},iv.\u0275mod=s.oAB({type:iv}),iv.\u0275inj=s.cJS({imports:[vn,jw,Pf]});const zee=function(n,t){return{"p-readonly":n,"p-disabled":t}},Gee={provide:Er,useExisting:(0,s.Gpc)(()=>$ee),multi:!0};let $ee=(()=>{class n{constructor(e){this.cd=e,this.isCustomCancelIcon=!0,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new s.vpe,this.onCancel=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"onicon":this.onIconTemplate=e.template;break;case"officon":this.offIconTemplate=e.template;break;case"cancel":this.cancelIconTemplate=e.template}})}getIconTemplate(e){return!this.value||e>=this.value?this.offIconTemplate:this.onIconTemplate}rate(e,i){!this.readonly&&!this.disabled&&(this.value=i+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:i+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-rating"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ee,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{isCustomCancelIcon:"isCustomCancelIcon",index:"index",disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[s._Bn([Gee])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s.YNc(1,Fee,3,2,"ng-container",1),s.YNc(2,Hee,2,2,"ng-template",null,2,s.W1O),s.qZA()),2&e){const r=s.MAs(3);s.Q6J("ngClass",s.WLB(3,zee,i.readonly,i.disabled)),s.xp6(1),s.Q6J("ngIf",!i.isCustomIcon)("ngIfElse",r)}},dependencies:[gt,ri,Dn,xn,Cn],styles:[".p-rating-icon{cursor:pointer;display:inline-flex}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),n})(),jee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,ve]}),n})(),wte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vn,UL,Za,up,ve,up]}),n})();class sv{}sv.\u0275fac=function(t){return new(t||sv)},sv.\u0275mod=s.oAB({type:sv,bootstrap:[Uf]}),sv.\u0275inj=s.cJS({imports:[vy,Qu,aQ,Za,jw,dG,Li.hO.initializeApp({apiKey:"AIzaSyDxhiAr9Zc_6wydzJzeeQeKlvDPCquxge4",authDomain:"cjoshi-logistics.firebaseapp.com",databaseURL:"https://cjoshi-logistics-default-rtdb.firebaseio.com",projectId:"cjoshi-logistics",storageBucket:"cjoshi-logistics.appspot.com",messagingSenderId:"594260998551",appId:"1:594260998551:web:40a48d12965b82684becd2"}),d6,I9,mee,Uh,Aee,E1,qw,Uh,Eee,AL,rZ,pI,fI,Oee,rj,HL,iv,BK,jee,wte]}),Kr().bootstrapModule(sv).catch(n=>console.error(n))},9751:(vt,Se,V)=>{V.d(Se,{y:()=>de});var s=V(930),te=V(727),L=V(8822),se=V(9635),oe=V(2416),re=V(576),me=V(2806);let de=(()=>{class Y{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Xe=new Y;return Xe.source=this,Xe.operator=xe,Xe}subscribe(xe,Xe,_t){const fe=function q(Y){return Y&&Y instanceof s.Lv||function j(Y){return Y&&(0,re.m)(Y.next)&&(0,re.m)(Y.error)&&(0,re.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(xe)?xe:new s.Hp(xe,Xe,_t);return(0,me.x)(()=>{const{operator:Me,source:Ae}=this;fe.add(Me?Me.call(fe,Ae):Ae?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Xe){xe.error(Xe)}}forEach(xe,Xe){return new(Xe=ue(Xe))((_t,fe)=>{const Me=new s.Hp({next:Ae=>{try{xe(Ae)}catch($e){fe($e),Me.unsubscribe()}},error:fe,complete:_t});this.subscribe(Me)})}_subscribe(xe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(xe)}[L.L](){return this}pipe(...xe){return(0,se.U)(xe)(this)}toPromise(xe){return new(xe=ue(xe))((Xe,_t)=>{let fe;this.subscribe(Me=>fe=Me,Me=>_t(Me),()=>Xe(fe))})}}return Y.create=Ze=>new Y(Ze),Y})();function ue(Y){var Ze;return null!==(Ze=Y??oe.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(vt,Se,V)=>{V.d(Se,{x:()=>me});var s=V(9751),te=V(727);const se=(0,V(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=V(8737),re=V(2806);let me=(()=>{class ue extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Y=new de(this,this);return Y.operator=q,Y}_throwIfClosed(){if(this.closed)throw new se}next(q){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(q)}})}error(q){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Y}=this;for(;Y.length;)Y.shift().error(q)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Y,isStopped:Ze,observers:xe}=this;return Y||Ze?te.Lc:(this.currentObservers=null,xe.push(q),new te.w0(()=>{this.currentObservers=null,(0,oe.P)(xe,q)}))}_checkFinalizedStatuses(q){const{hasError:Y,thrownError:Ze,isStopped:xe}=this;Y?q.error(Ze):xe&&q.complete()}asObservable(){const q=new s.y;return q.source=this,q}}return ue.create=(j,q)=>new de(j,q),ue})();class de extends me{constructor(j,q){super(),this.destination=j,this.source=q}next(j){var q,Y;null===(Y=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Y||Y.call(q,j)}error(j){var q,Y;null===(Y=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Y||Y.call(q,j)}complete(){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===q||q.call(j)}_subscribe(j){var q,Y;return null!==(Y=null===(q=this.source)||void 0===q?void 0:q.subscribe(j))&&void 0!==Y?Y:te.Lc}}},930:(vt,Se,V)=>{V.d(Se,{Hp:()=>_t,Lv:()=>Y});var s=V(576),te=V(727),L=V(2416),se=V(7849),oe=V(5032);const re=ue("C",void 0,void 0);function ue(De,Te,Re){return{kind:De,value:Te,error:Re}}var j=V(3410),q=V(2806);class Y extends te.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,te.Nn)(Te)&&Te.add(this)):this.destination=$e}static create(Te,Re,Ue){return new _t(Te,Re,Ue)}next(Te){this.isStopped?Ae(function de(De){return ue("N",De,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ae(function me(De){return ue("E",void 0,De)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ae(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function xe(De,Te){return Ze.call(De,Te)}class Xe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Re}=this;if(Re.next)try{Re.next(Te)}catch(Ue){fe(Ue)}}error(Te){const{partialObserver:Re}=this;if(Re.error)try{Re.error(Te)}catch(Ue){fe(Ue)}else fe(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Re){fe(Re)}}}class _t extends Y{constructor(Te,Re,Ue){let Be;if(super(),(0,s.m)(Te)||!Te)Be={next:Te??void 0,error:Re??void 0,complete:Ue??void 0};else{let G;this&&L.v.useDeprecatedNextContext?(G=Object.create(Te),G.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&xe(Te.next,G),error:Te.error&&xe(Te.error,G),complete:Te.complete&&xe(Te.complete,G)}):Be=Te}this.destination=new Xe(Be)}}function fe(De){L.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(De):(0,se.h)(De)}function Ae(De,Te){const{onStoppedNotification:Re}=L.v;Re&&j.z.setTimeout(()=>Re(De,Te))}const $e={closed:!0,next:oe.Z,error:function Me(De){throw De},complete:oe.Z}},727:(vt,Se,V)=>{V.d(Se,{Lc:()=>re,w0:()=>oe,Nn:()=>me});var s=V(576);const L=(0,V(3888).d)(ue=>function(q){ue(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Y,Ze)=>`${Ze+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var se=V(8737);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const xe of q)xe.remove(this);else q.remove(this);const{initialTeardown:Y}=this;if((0,s.m)(Y))try{Y()}catch(xe){j=xe instanceof L?xe.errors:[xe]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const xe of Ze)try{de(xe)}catch(Xe){j=j??[],Xe instanceof L?j=[...j,...Xe.errors]:j.push(Xe)}}if(j)throw new L(j)}}add(j){var q;if(j&&j!==this)if(this.closed)de(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(j)}}_hasParent(j){const{_parentage:q}=this;return q===j||Array.isArray(q)&&q.includes(j)}_addParent(j){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(j),q):q?[q,j]:j}_removeParent(j){const{_parentage:q}=this;q===j?this._parentage=null:Array.isArray(q)&&(0,se.P)(q,j)}remove(j){const{_finalizers:q}=this;q&&(0,se.P)(q,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const ue=new oe;return ue.closed=!0,ue})();const re=oe.EMPTY;function me(ue){return ue instanceof oe||ue&&"closed"in ue&&(0,s.m)(ue.remove)&&(0,s.m)(ue.add)&&(0,s.m)(ue.unsubscribe)}function de(ue){(0,s.m)(ue)?ue():ue.unsubscribe()}},2416:(vt,Se,V)=>{V.d(Se,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,V)=>{V.d(Se,{E:()=>te});const te=new(V(9751).y)(oe=>oe.complete())},8996:(vt,Se,V)=>{V.d(Se,{D:()=>Te});var s=V(8421),te=V(5363),L=V(9468),re=V(9751),de=V(2202),ue=V(576),j=V(9672);function Y(Re,Ue){if(!Re)throw new Error("Iterable cannot be null");return new re.y(Be=>{(0,j.f)(Be,Ue,()=>{const G=Re[Symbol.asyncIterator]();(0,j.f)(Be,Ue,()=>{G.next().then(Ce=>{Ce.done?Be.complete():Be.next(Ce.value)})},0,!0)})})}var Ze=V(3670),xe=V(8239),Xe=V(1144),_t=V(6495),fe=V(2206),Me=V(4532),Ae=V(3260);function Te(Re,Ue){return Ue?function De(Re,Ue){if(null!=Re){if((0,Ze.c)(Re))return function se(Re,Ue){return(0,s.Xf)(Re).pipe((0,L.R)(Ue),(0,te.Q)(Ue))}(Re,Ue);if((0,Xe.z)(Re))return function me(Re,Ue){return new re.y(Be=>{let G=0;return Ue.schedule(function(){G===Re.length?Be.complete():(Be.next(Re[G++]),Be.closed||this.schedule())})})}(Re,Ue);if((0,xe.t)(Re))return function oe(Re,Ue){return(0,s.Xf)(Re).pipe((0,L.R)(Ue),(0,te.Q)(Ue))}(Re,Ue);if((0,fe.D)(Re))return Y(Re,Ue);if((0,_t.T)(Re))return function q(Re,Ue){return new re.y(Be=>{let G;return(0,j.f)(Be,Ue,()=>{G=Re[de.h](),(0,j.f)(Be,Ue,()=>{let Ce,Ke;try{({value:Ce,done:Ke}=G.next())}catch(nt){return void Be.error(nt)}Ke?Be.complete():Be.next(Ce)},0,!0)}),()=>(0,ue.m)(G?.return)&&G.return()})}(Re,Ue);if((0,Ae.L)(Re))return function $e(Re,Ue){return Y((0,Ae.Q)(Re),Ue)}(Re,Ue)}throw(0,Me.z)(Re)}(Re,Ue):(0,s.Xf)(Re)}},8421:(vt,Se,V)=>{V.d(Se,{Xf:()=>Ze});var s=V(655),te=V(1144),L=V(8239),se=V(9751),oe=V(3670),re=V(2206),me=V(4532),de=V(6495),ue=V(3260),j=V(576),q=V(7849),Y=V(8822);function Ze(De){if(De instanceof se.y)return De;if(null!=De){if((0,oe.c)(De))return function xe(De){return new se.y(Te=>{const Re=De[Y.L]();if((0,j.m)(Re.subscribe))return Re.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,te.z)(De))return function Xe(De){return new se.y(Te=>{for(let Re=0;Re<De.length&&!Te.closed;Re++)Te.next(De[Re]);Te.complete()})}(De);if((0,L.t)(De))return function _t(De){return new se.y(Te=>{De.then(Re=>{Te.closed||(Te.next(Re),Te.complete())},Re=>Te.error(Re)).then(null,q.h)})}(De);if((0,re.D)(De))return Me(De);if((0,de.T)(De))return function fe(De){return new se.y(Te=>{for(const Re of De)if(Te.next(Re),Te.closed)return;Te.complete()})}(De);if((0,ue.L)(De))return function Ae(De){return Me((0,ue.Q)(De))}(De)}throw(0,me.z)(De)}function Me(De){return new se.y(Te=>{(function $e(De,Te){var Re,Ue,Be,G;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Re=(0,s.KL)(De);!(Ue=yield Re.next()).done;)if(Te.next(Ue.value),Te.closed)return}catch(Ce){Be={error:Ce}}finally{try{Ue&&!Ue.done&&(G=Re.return)&&(yield G.call(Re))}finally{if(Be)throw Be.error}}Te.complete()})})(De,Te).catch(Re=>Te.error(Re))})}},6451:(vt,Se,V)=>{V.d(Se,{T:()=>re});var s=V(8189),te=V(8421),L=V(515),se=V(3269),oe=V(8996);function re(...me){const de=(0,se.yG)(me),ue=(0,se._6)(me,1/0),j=me;return j.length?1===j.length?(0,te.Xf)(j[0]):(0,s.J)(ue)((0,oe.D)(j,de)):L.E}},5403:(vt,Se,V)=>{V.d(Se,{x:()=>te});var s=V(930);function te(se,oe,re,me,de){return new L(se,oe,re,me,de)}class L extends s.Lv{constructor(oe,re,me,de,ue,j){super(oe),this.onFinalize=ue,this.shouldUnsubscribe=j,this._next=re?function(q){try{re(q)}catch(Y){oe.error(Y)}}:super._next,this._error=de?function(q){try{de(q)}catch(Y){oe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(q){oe.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(vt,Se,V)=>{V.d(Se,{U:()=>L});var s=V(4482),te=V(5403);function L(se,oe){return(0,s.e)((re,me)=>{let de=0;re.subscribe((0,te.x)(me,ue=>{me.next(se.call(oe,ue,de++))}))})}},8189:(vt,Se,V)=>{V.d(Se,{J:()=>L});var s=V(5577),te=V(4671);function L(se=1/0){return(0,s.z)(te.y,se)}},5577:(vt,Se,V)=>{V.d(Se,{z:()=>de});var s=V(4004),te=V(8421),L=V(4482),se=V(9672),oe=V(5403),me=V(576);function de(ue,j,q=1/0){return(0,me.m)(j)?de((Y,Ze)=>(0,s.U)((xe,Xe)=>j(Y,xe,Ze,Xe))((0,te.Xf)(ue(Y,Ze))),q):("number"==typeof j&&(q=j),(0,L.e)((Y,Ze)=>function re(ue,j,q,Y,Ze,xe,Xe,_t){const fe=[];let Me=0,Ae=0,$e=!1;const De=()=>{$e&&!fe.length&&!Me&&j.complete()},Te=Ue=>Me<Y?Re(Ue):fe.push(Ue),Re=Ue=>{xe&&j.next(Ue),Me++;let Be=!1;(0,te.Xf)(q(Ue,Ae++)).subscribe((0,oe.x)(j,G=>{Ze?.(G),xe?Te(G):j.next(G)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Me--;fe.length&&Me<Y;){const G=fe.shift();Xe?(0,se.f)(j,Xe,()=>Re(G)):Re(G)}De()}catch(G){j.error(G)}}))};return ue.subscribe((0,oe.x)(j,Te,()=>{$e=!0,De()})),()=>{_t?.()}}(Y,Ze,ue,q)))}},5363:(vt,Se,V)=>{V.d(Se,{Q:()=>se});var s=V(9672),te=V(4482),L=V(5403);function se(oe,re=0){return(0,te.e)((me,de)=>{me.subscribe((0,L.x)(de,ue=>(0,s.f)(de,oe,()=>de.next(ue),re),()=>(0,s.f)(de,oe,()=>de.complete(),re),ue=>(0,s.f)(de,oe,()=>de.error(ue),re)))})}},3099:(vt,Se,V)=>{V.d(Se,{B:()=>oe});var s=V(8421),te=V(7579),L=V(930),se=V(4482);function oe(me={}){const{connector:de=(()=>new te.x),resetOnError:ue=!0,resetOnComplete:j=!0,resetOnRefCountZero:q=!0}=me;return Y=>{let Ze,xe,Xe,_t=0,fe=!1,Me=!1;const Ae=()=>{xe?.unsubscribe(),xe=void 0},$e=()=>{Ae(),Ze=Xe=void 0,fe=Me=!1},De=()=>{const Te=Ze;$e(),Te?.unsubscribe()};return(0,se.e)((Te,Re)=>{_t++,!Me&&!fe&&Ae();const Ue=Xe=Xe??de();Re.add(()=>{_t--,0===_t&&!Me&&!fe&&(xe=re(De,q))}),Ue.subscribe(Re),!Ze&&_t>0&&(Ze=new L.Hp({next:Be=>Ue.next(Be),error:Be=>{Me=!0,Ae(),xe=re($e,ue,Be),Ue.error(Be)},complete:()=>{fe=!0,Ae(),xe=re($e,j),Ue.complete()}}),(0,s.Xf)(Te).subscribe(Ze))})(Y)}}function re(me,de,...ue){if(!0===de)return void me();if(!1===de)return;const j=new L.Hp({next:()=>{j.unsubscribe(),me()}});return(0,s.Xf)(de(...ue)).subscribe(j)}},9468:(vt,Se,V)=>{V.d(Se,{R:()=>te});var s=V(4482);function te(L,se=0){return(0,s.e)((oe,re)=>{re.add(L.schedule(()=>oe.subscribe(re),se))})}},8505:(vt,Se,V)=>{V.d(Se,{b:()=>oe});var s=V(576),te=V(4482),L=V(5403),se=V(4671);function oe(re,me,de){const ue=(0,s.m)(re)||me||de?{next:re,error:me,complete:de}:re;return ue?(0,te.e)((j,q)=>{var Y;null===(Y=ue.subscribe)||void 0===Y||Y.call(ue);let Ze=!0;j.subscribe((0,L.x)(q,xe=>{var Xe;null===(Xe=ue.next)||void 0===Xe||Xe.call(ue,xe),q.next(xe)},()=>{var xe;Ze=!1,null===(xe=ue.complete)||void 0===xe||xe.call(ue),q.complete()},xe=>{var Xe;Ze=!1,null===(Xe=ue.error)||void 0===Xe||Xe.call(ue,xe),q.error(xe)},()=>{var xe,Xe;Ze&&(null===(xe=ue.unsubscribe)||void 0===xe||xe.call(ue)),null===(Xe=ue.finalize)||void 0===Xe||Xe.call(ue)}))}):se.y}},4408:(vt,Se,V)=>{V.d(Se,{o:()=>oe});var s=V(727);class te extends s.w0{constructor(me,de){super()}schedule(me,de=0){return this}}const L={setInterval(re,me,...de){const{delegate:ue}=L;return ue?.setInterval?ue.setInterval(re,me,...de):setInterval(re,me,...de)},clearInterval(re){const{delegate:me}=L;return(me?.clearInterval||clearInterval)(re)},delegate:void 0};var se=V(8737);class oe extends te{constructor(me,de){super(me,de),this.scheduler=me,this.work=de,this.pending=!1}schedule(me,de=0){var ue;if(this.closed)return this;this.state=me;const j=this.id,q=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(q,j,de)),this.pending=!0,this.delay=de,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(q,this.id,de),this}requestAsyncId(me,de,ue=0){return L.setInterval(me.flush.bind(me,this),ue)}recycleAsyncId(me,de,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return de;null!=de&&L.clearInterval(de)}execute(me,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(me,de);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,de){let j,ue=!1;try{this.work(me)}catch(q){ue=!0,j=q||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:me,scheduler:de}=this,{actions:ue}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ue,this),null!=me&&(this.id=this.recycleAsyncId(de,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,V)=>{V.d(Se,{v:()=>L});var s=V(6063);class te{constructor(oe,re=te.now){this.schedulerActionCtor=oe,this.now=re}schedule(oe,re=0,me){return new this.schedulerActionCtor(this,oe).schedule(me,re)}}te.now=s.l.now;class L extends te{constructor(oe,re=te.now){super(oe,re),this.actions=[],this._active=!1}flush(oe){const{actions:re}=this;if(this._active)return void re.push(oe);let me;this._active=!0;do{if(me=oe.execute(oe.state,oe.delay))break}while(oe=re.shift());if(this._active=!1,me){for(;oe=re.shift();)oe.unsubscribe();throw me}}}},4986:(vt,Se,V)=>{V.d(Se,{P:()=>se,z:()=>L});var s=V(4408);const L=new(V(7565).v)(s.o),se=L},6063:(vt,Se,V)=>{V.d(Se,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,V)=>{V.d(Se,{z:()=>s});const s={setTimeout(te,L,...se){const{delegate:oe}=s;return oe?.setTimeout?oe.setTimeout(te,L,...se):setTimeout(te,L,...se)},clearTimeout(te){const{delegate:L}=s;return(L?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(vt,Se,V)=>{V.d(Se,{h:()=>te});const te=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,V)=>{V.d(Se,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Se,V)=>{V.d(Se,{_6:()=>re,jO:()=>se,yG:()=>oe});var s=V(576),te=V(3532);function L(me){return me[me.length-1]}function se(me){return(0,s.m)(L(me))?me.pop():void 0}function oe(me){return(0,te.K)(L(me))?me.pop():void 0}function re(me,de){return"number"==typeof L(me)?me.pop():de}},8737:(vt,Se,V)=>{function s(te,L){if(te){const se=te.indexOf(L);0<=se&&te.splice(se,1)}}V.d(Se,{P:()=>s})},3888:(vt,Se,V)=>{function s(te){const se=te(oe=>{Error.call(oe),oe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}V.d(Se,{d:()=>s})},2806:(vt,Se,V)=>{V.d(Se,{O:()=>se,x:()=>L});var s=V(2416);let te=null;function L(oe){if(s.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),oe(),re){const{errorThrown:me,error:de}=te;if(te=null,me)throw de}}else oe()}function se(oe){s.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=oe)}},9672:(vt,Se,V)=>{function s(te,L,se,oe=0,re=!1){const me=L.schedule(function(){se(),re?te.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(te.add(me),!re)return me}V.d(Se,{f:()=>s})},4671:(vt,Se,V)=>{function s(te){return te}V.d(Se,{y:()=>s})},1144:(vt,Se,V)=>{V.d(Se,{z:()=>s});const s=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(vt,Se,V)=>{V.d(Se,{D:()=>te});var s=V(576);function te(L){return Symbol.asyncIterator&&(0,s.m)(L?.[Symbol.asyncIterator])}},576:(vt,Se,V)=>{function s(te){return"function"==typeof te}V.d(Se,{m:()=>s})},3670:(vt,Se,V)=>{V.d(Se,{c:()=>L});var s=V(8822),te=V(576);function L(se){return(0,te.m)(se[s.L])}},6495:(vt,Se,V)=>{V.d(Se,{T:()=>L});var s=V(2202),te=V(576);function L(se){return(0,te.m)(se?.[s.h])}},8239:(vt,Se,V)=>{V.d(Se,{t:()=>te});var s=V(576);function te(L){return(0,s.m)(L?.then)}},3260:(vt,Se,V)=>{V.d(Se,{L:()=>se,Q:()=>L});var s=V(655),te=V(576);function L(oe){return(0,s.FC)(this,arguments,function*(){const me=oe.getReader();try{for(;;){const{value:de,done:ue}=yield(0,s.qq)(me.read());if(ue)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(de)}}finally{me.releaseLock()}})}function se(oe){return(0,te.m)(oe?.getReader)}},3532:(vt,Se,V)=>{V.d(Se,{K:()=>te});var s=V(576);function te(L){return L&&(0,s.m)(L.schedule)}},4482:(vt,Se,V)=>{V.d(Se,{A:()=>te,e:()=>L});var s=V(576);function te(se){return(0,s.m)(se?.lift)}function L(se){return oe=>{if(te(oe))return oe.lift(function(re){try{return se(re,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Se,V)=>{function s(){}V.d(Se,{Z:()=>s})},9635:(vt,Se,V)=>{V.d(Se,{U:()=>L,z:()=>te});var s=V(4671);function te(...se){return L(se)}function L(se){return 0===se.length?s.y:1===se.length?se[0]:function(re){return se.reduce((me,de)=>de(me),re)}}},7849:(vt,Se,V)=>{V.d(Se,{h:()=>L});var s=V(2416),te=V(3410);function L(se){te.z.setTimeout(()=>{const{onUnhandledError:oe}=s.v;if(!oe)throw se;oe(se)})}},4532:(vt,Se,V)=>{function s(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>s})},655:(vt,Se,V)=>{function se(le,he){var we={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&he.indexOf(Oe)<0&&(we[Oe]=le[Oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Oe=Object.getOwnPropertySymbols(le);je<Oe.length;je++)he.indexOf(Oe[je])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[je])&&(we[Oe[je]]=le[Oe[je]])}return we}function Y(le,he,we,Oe){return new(we||(we=Promise))(function(Qe,st){function tt(un){try{Mt(Oe.next(un))}catch(ct){st(ct)}}function gn(un){try{Mt(Oe.throw(un))}catch(ct){st(ct)}}function Mt(un){un.done?Qe(un.value):function je(Qe){return Qe instanceof we?Qe:new we(function(st){st(Qe)})}(un.value).then(tt,gn)}Mt((Oe=Oe.apply(le,he||[])).next())})}function De(le){return this instanceof De?(this.v=le,this):new De(le)}function Te(le,he,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Oe=we.apply(le,he||[]),Qe=[];return je={},st("next"),st("throw"),st("return"),je[Symbol.asyncIterator]=function(){return this},je;function st(Ht){Oe[Ht]&&(je[Ht]=function(Ln){return new Promise(function(Gn,Vn){Qe.push([Ht,Ln,Gn,Vn])>1||tt(Ht,Ln)})})}function tt(Ht,Ln){try{!function gn(Ht){Ht.value instanceof De?Promise.resolve(Ht.value.v).then(Mt,un):ct(Qe[0][2],Ht)}(Oe[Ht](Ln))}catch(Gn){ct(Qe[0][3],Gn)}}function Mt(Ht){tt("next",Ht)}function un(Ht){tt("throw",Ht)}function ct(Ht,Ln){Ht(Ln),Qe.shift(),Qe.length&&tt(Qe[0][0],Qe[0][1])}}function Ue(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,he=le[Symbol.asyncIterator];return he?he.call(le):(le=function _t(le){var he="function"==typeof Symbol&&Symbol.iterator,we=he&&le[he],Oe=0;if(we)return we.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Oe>=le.length&&(le=void 0),{value:le&&le[Oe++],done:!le}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),we={},Oe("next"),Oe("throw"),Oe("return"),we[Symbol.asyncIterator]=function(){return this},we);function Oe(Qe){we[Qe]=le[Qe]&&function(st){return new Promise(function(tt,gn){!function je(Qe,st,tt,gn){Promise.resolve(gn).then(function(Mt){Qe({value:Mt,done:tt})},st)}(tt,gn,(st=le[Qe](st)).done,st.value)})}}}V.d(Se,{FC:()=>Te,KL:()=>Ue,_T:()=>se,mG:()=>Y,qq:()=>De})},4650:(vt,Se,V)=>{V.d(Se,{$8M:()=>Yu,$WT:()=>li,$Z:()=>pT,AFp:()=>TS,ALo:()=>Ql,AaK:()=>de,Akn:()=>mo,AsE:()=>db,BQk:()=>zf,CHM:()=>Nu,CRH:()=>ag,CZH:()=>hg,CqO:()=>zT,D6c:()=>WS,DdM:()=>qb,EJc:()=>ES,EpF:()=>UT,F$t:()=>tb,F4k:()=>HT,FYo:()=>V0,FiY:()=>nd,Gf:()=>aw,GfV:()=>B0,GkF:()=>Qc,Gpc:()=>q,HTZ:()=>Zb,Hh0:()=>Zl,Hsn:()=>c_,JOm:()=>bn,KtG:()=>ah,LFG:()=>Ye,LSH:()=>wv,Lbi:()=>ys,Lck:()=>U_,MAs:()=>Zv,MMx:()=>Jf,NdJ:()=>Dd,OlP:()=>sn,Oqu:()=>Xt,P3R:()=>Tv,PXZ:()=>WA,Q6J:()=>Vi,QGY:()=>Id,QbO:()=>iy,Qsj:()=>Ex,R0b:()=>$s,RDi:()=>po,Rgc:()=>Yh,SBq:()=>Df,Sil:()=>yw,Suo:()=>nS,TTD:()=>rc,TgZ:()=>o_,Tol:()=>lb,Udp:()=>y_,VKq:()=>$E,W1O:()=>oS,WLB:()=>jE,X6Q:()=>JA,XFs:()=>St,Xpm:()=>ll,Xts:()=>Sf,Y36:()=>Kc,YKP:()=>Hb,YNc:()=>zh,Yjl:()=>ul,Yz7:()=>ct,Z0I:()=>Vn,ZZ4:()=>Nw,_Bn:()=>kE,_UZ:()=>Qv,_Vd:()=>Wa,_c5:()=>FP,_uU:()=>ti,aQg:()=>qS,c2e:()=>wo,cJS:()=>Ln,cg1:()=>$h,dDg:()=>GA,dqk:()=>Ut,eFA:()=>sy,ekj:()=>ab,eoX:()=>RS,f3M:()=>dt,g9A:()=>_w,h0i:()=>Qh,hGG:()=>Pw,hij:()=>ur,iGM:()=>K_,ifc:()=>rn,ip1:()=>CS,jDz:()=>NE,kEZ:()=>Wb,kL8:()=>kd,l5B:()=>Kl,lG2:()=>cl,lcZ:()=>ZE,lqb:()=>pd,lri:()=>MS,n5z:()=>Zu,oAB:()=>Wn,oJD:()=>S0,oxw:()=>eb,q4F:()=>xv,qLn:()=>Wc,qOj:()=>$v,qZA:()=>a_,qbA:()=>Kb,rFY:()=>eg,rWj:()=>kS,sBO:()=>XA,s_b:()=>Xh,soG:()=>gg,tb:()=>fg,tp0:()=>D,uIk:()=>Gl,vHH:()=>fe,vpe:()=>Yr,wAp:()=>qe,xi3:()=>QE,xp6:()=>eT,ynx:()=>l_,z2F:()=>oy,zSh:()=>Iv,zs3:()=>Ka});var s=V(7579),te=V(727),L=V(9751),se=V(6451),oe=V(3099);function re(a){for(let l in a)if(a[l]===re)return l;throw Error("Could not find renamed property on target object.")}function me(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function de(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(de).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ue(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const j=re({__forward_ref__:re});function q(a){return a.__forward_ref__=q,a.toString=function(){return de(this())},a}function Y(a){return Ze(a)?a():a}function Ze(a){return"function"==typeof a&&a.hasOwnProperty(j)&&a.__forward_ref__===q}function xe(a){return a&&!!a.\u0275providers}const _t="https://g.co/ng/security#xss";class fe extends Error{constructor(l,u){super(function Me(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function Ae(a){return"string"==typeof a?a:null==a?"":String(a)}function Ue(a,l){throw new fe(-201,!1)}function st(a,l){null==a&&function tt(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function ct(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ln(a){return{providers:a.providers||[],imports:a.imports||[]}}function Gn(a){return Bn(a,tr)||Bn(a,In)}function Vn(a){return null!==Gn(a)}function Bn(a,l){return a.hasOwnProperty(l)?a[l]:null}function Dr(a){return a&&(a.hasOwnProperty(no)||a.hasOwnProperty(fr))?a[no]:null}const tr=re({\u0275prov:re}),no=re({\u0275inj:re}),In=re({ngInjectableDef:re}),fr=re({ngInjectorDef:re});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let Ss;function $n(a){const l=Ss;return Ss=a,l}function Gi(a,l,u){const h=Gn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&St.Optional?null:void 0!==l?l:void Ue(de(a))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},Un="__NG_DI_FLAG__",zr="ngTempTokenPath",pa=/\n/gm,os="__source";let an;function $i(a){const l=an;return an=a,l}function as(a,l=St.Default){if(void 0===an)throw new fe(-203,!1);return null===an?Gi(a,void 0,l):an.get(a,l&St.Optional?null:void 0,l)}function Ye(a,l=St.Default){return(function Hr(){return Ss}()||as)(Y(a),l)}function dt(a,l=St.Default){return Ye(a,Ot(l))}function Ot(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Vt(a){const l=[];for(let u=0;u<a.length;u++){const h=Y(a[u]);if(Array.isArray(h)){if(0===h.length)throw new fe(900,!1);let p,m=St.Default;for(let b=0;b<h.length;b++){const T=h[b],S=$(T);"number"==typeof S?-1===S?p=T.token:m|=S:p=T}l.push(Ye(p,m))}else l.push(Ye(h))}return l}function Gt(a,l){return a[Un]=l,a.prototype[Un]=l,a}function $(a){return a[Un]}function _e(a){return{toString:a}.toString()}var ie=(()=>((ie=ie||{})[ie.OnPush=0]="OnPush",ie[ie.Default=1]="Default",ie))(),rn=(()=>{return(a=rn||(rn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",rn;var a})();const qn={},At=[],xi=re({\u0275cmp:re}),Zt=re({\u0275dir:re}),vi=re({\u0275pipe:re}),fa=re({\u0275mod:re}),ji=re({\u0275fac:re}),al=re({__NG_ELEMENT_ID__:re});let Fp=0;function ll(a){return _e(()=>{const u=!0===a.standalone,h={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||At,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||rn.Emulated,id:"c"+Fp++,styles:a.styles||At,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=a.dependencies,b=a.features;return p.inputs=Cu(a.inputs,h),p.outputs=Cu(a.outputs),b&&b.forEach(T=>T(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(wu).filter(eh):null,p.pipeDefs=m?()=>("function"==typeof m?m():m).map(ii).filter(eh):null,p})}function wu(a){return ln(a)||bi(a)}function eh(a){return null!==a}function Wn(a){return _e(()=>({type:a.type,bootstrap:a.bootstrap||At,declarations:a.declarations||At,imports:a.imports||At,exports:a.exports||At,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Cu(a,l){if(null==a)return qn;const u={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=h,l&&(l[p]=m)}return u}const cl=ll;function ul(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function ln(a){return a[xi]||null}function bi(a){return a[Zt]||null}function ii(a){return a[vi]||null}function li(a){const l=ln(a)||bi(a)||ii(a);return null!==l&&l.standalone}function qi(a,l){const u=a[fa]||null;if(!u&&!0===l)throw new Error(`Type ${de(a)} does not have '\u0275mod' property.`);return u}function gr(a){return Array.isArray(a)&&"object"==typeof a[1]}function $r(a){return Array.isArray(a)&&!0===a[1]}function dl(a){return 0!=(4&a.flags)}function jr(a){return a.componentOffset>-1}function Su(a){return 1==(1&a.flags)}function rr(a){return null!==a.template}function hl(a){return 0!=(256&a[2])}function Ao(a,l){return a.hasOwnProperty(ji)?a[ji]:null}class Mo{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function rc(){return ba}function ba(a){return a.type.prototype.ngOnChanges&&(a.setInput=wa),sc}function sc(){const a=fl(this),l=a?.current;if(l){const u=a.previous;if(u===qn)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function wa(a,l,u,h){const p=this.declaredInputs[u],m=fl(a)||function sh(a,l){return a[ko]=l}(a,{previous:qn,current:null}),b=m.current||(m.current={}),T=m.previous,S=T[p];b[p]=new Mo(S&&S.currentValue,l,T===qn),a[h]=l}rc.ngInherit=!0;const ko="__ngSimpleChanges__";function fl(a){return a[ko]||null}function si(a){for(;Array.isArray(a);)a=a[0];return a}function Ro(a,l){return si(l[a])}function ui(a,l){return si(l[a.index])}function Ea(a,l){return a.data[l]}function Oo(a,l){return a[l]}function Ai(a,l){const u=l[a];return gr(u)?u:u[0]}function Sa(a){return 64==(64&a[2])}function xs(a,l){return null==l?null:a[l]}function ml(a){a[18]=0}function _l(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Bt={lFrame:ov(null),bindingsEnabled:!0};function dc(){return Bt.bindingsEnabled}function ye(){return Bt.lFrame.lView}function cn(){return Bt.lFrame.tView}function Nu(a){return Bt.lFrame.contextLView=a,a[8]}function ah(a){return Bt.lFrame.contextLView=null,a}function Pi(){let a=yl();for(;null!==a&&64===a.type;)a=a.parent;return a}function yl(){return Bt.lFrame.currentTNode}function _r(a,l){const u=Bt.lFrame;u.currentTNode=a,u.isParent=l}function pc(){return Bt.lFrame.isParent}function fc(){Bt.lFrame.isParent=!1}function wi(){const a=Bt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function No(){return Bt.lFrame.bindingIndex++}function ds(a){const l=Bt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function uh(a,l){const u=Bt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Lu(l)}function Lu(a){Bt.lFrame.currentDirectiveIndex=a}function dh(){return Bt.lFrame.currentQueryIndex}function Vu(a){Bt.lFrame.currentQueryIndex=a}function hh(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function zp(a,l,u){if(u&St.SkipSelf){let p=l,m=a;for(;!(p=p.parent,null!==p||u&St.Host||(p=hh(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,a=m}const h=Bt.lFrame=Gp();return h.currentTNode=l,h.lView=a,!0}function mc(a){const l=Gp(),u=a[1];Bt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Gp(){const a=Bt.lFrame,l=null===a?null:a.child;return null===l?ov(a):l}function ov(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function rm(){const a=Bt.lFrame;return Bt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Bu=rm;function sm(){const a=rm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function or(){return Bt.lFrame.selectedIndex}function Ia(a){Bt.lFrame.selectedIndex=a}function Nn(){const a=Bt.lFrame;return Ea(a.tView,a.selectedIndex)}function bl(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:S,ngAfterViewChecked:x,ngOnDestroy:R}=m;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),T&&((a.contentHooks||(a.contentHooks=[])).push(u,T),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,T)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),x&&((a.viewHooks||(a.viewHooks=[])).push(u,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,x)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(u,R)}}function oo(a,l,u){Hu(a,l,3,u)}function xa(a,l,u,h){(3&a[2])===u&&Hu(a,l,u,h)}function kr(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Hu(a,l,u,h){const m=h??-1,b=l.length-1;let T=0;for(let S=void 0!==h?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(T=l[S],null!=h&&T>=h)break}else l[S]<0&&(a[18]+=65536),(T<m||-1==m)&&(_c(a,u,l,S),a[18]=(4294901760&a[18])+S+2),S++}function _c(a,l,u,h){const p=u[h]<0,m=u[h+1],T=a[p?-u[h]:u[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class Ma{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function An(a,l,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const m=u[h++],b=u[h++],T=u[h++];a.setAttribute(l,b,T,m)}else{const m=p,b=u[++h];Fo(m)?a.setProperty(l,m,b):a.setAttribute(l,m,b),h++}}return h}function Tl(a){return 3===a||4===a||6===a}function Fo(a){return 64===a.charCodeAt(0)}function Ms(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?u=p:0===u||El(a,u,p,null,-1===u||2===u?l[++h]:null)}}return a}function El(a,l,u,h,p){let m=0,b=a.length;if(-1===l)b=-1;else for(;m<a.length;){const T=a[m++];if("number"==typeof T){if(T===l){b=-1;break}if(T>l){b=m-1;break}}}for(;m<a.length;){const T=a[m];if("number"==typeof T)break;if(T===u){if(null===h)return void(null!==p&&(a[m+1]=p));if(h===a[m+1])return void(a[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==b&&(a.splice(b,0,l),m=b+1),a.splice(m++,0,u),null!==h&&a.splice(m++,0,h),null!==p&&a.splice(m++,0,p)}function $u(a){return-1!==a}function vc(a){return 32767&a}function wc(a,l){let u=function bc(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let ao=!0;function Lo(a){const l=ao;return ao=a,l}let ju=0;const ar={};function Ra(a,l){const u=Tc(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Bo(h.data,a),Bo(l,null),Bo(h.blueprint,null));const p=Sl(a,l),m=a.injectorIndex;if($u(p)){const b=vc(p),T=wc(p,l),S=T[1].data;for(let x=0;x<8;x++)l[m+x]=T[b+x]|S[b+x]}return l[m+8]=p,m}function Bo(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Tc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Sl(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,p=l;for(;null!==p;){if(h=Wp(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function qu(a,l,u){!function Cc(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(al)&&(h=u[al]),null==h&&(h=u[al]=ju++);const p=255&h;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function Uo(a,l,u){if(u&St.Optional||void 0!==a)return a;Ue()}function Oa(a,l,u,h){if(u&St.Optional&&void 0===h&&(h=null),!(u&(St.Self|St.Host))){const p=a[9],m=$n(void 0);try{return p?p.get(l,h,u&St.Optional):Gi(l,h,u&St.Optional)}finally{$n(m)}}return Uo(h,0,u)}function jp(a,l,u,h=St.Default,p){if(null!==a){if(1024&l[2]){const b=function Qu(a,l,u,h,p){let m=a,b=l;for(;null!==m&&null!==b&&1024&b[2]&&!(256&b[2]);){const T=ks(m,b,u,h|St.Self,ar);if(T!==ar)return T;let S=m.parent;if(!S){const x=b[21];if(x){const R=x.get(u,ar,h);if(R!==ar)return R}S=Wp(b),b=b[15]}m=S}return p}(a,l,u,h,ar);if(b!==ar)return b}const m=ks(a,l,u,h,ar);if(m!==ar)return m}return Oa(l,u,h,p)}function ks(a,l,u,h,p){const m=function Wu(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(al)?a[al]:void 0;return"number"==typeof l?l>=0?255&l:qp:l}(u);if("function"==typeof m){if(!zp(l,a,h))return h&St.Host?Uo(p,0,h):Oa(l,u,h,p);try{const b=m(h);if(null!=b||h&St.Optional)return b;Ue()}finally{Bu()}}else if("number"==typeof m){let b=null,T=Tc(a,l),S=-1,x=h&St.Host?l[16][6]:null;for((-1===T||h&St.SkipSelf)&&(S=-1===T?Sl(a,l):l[T+8],-1!==S&&Wr(h,!1)?(b=l[1],T=vc(S),l=wc(S,l)):T=-1);-1!==T;){const R=l[1];if(Ku(m,T,R.data)){const B=Il(T,l,u,b,h,x);if(B!==ar)return B}S=l[T+8],-1!==S&&Wr(h,l[1].data[T+8]===x)&&Ku(m,T,l)?(b=R,T=vc(S),l=wc(S,l)):T=-1}}return p}function Il(a,l,u,h,p,m){const b=l[1],T=b.data[a+8],R=Ec(T,b,u,null==h?jr(T)&&ao:h!=b&&0!=(3&T.type),p&St.Host&&m===T);return null!==R?qr(l,b,R,T):ar}function Ec(a,l,u,h,p){const m=a.providerIndexes,b=l.data,T=1048575&m,S=a.directiveStart,R=m>>20,K=p?T+R:a.directiveEnd;for(let ne=h?T:T+R;ne<K;ne++){const be=b[ne];if(ne<S&&u===be||ne>=S&&be.type===u)return ne}if(p){const ne=b[S];if(ne&&rr(ne)&&ne.type===u)return S}return null}function qr(a,l,u,h){let p=a[u];const m=l.data;if(function Rr(a){return a instanceof Ma}(p)){const b=p;b.resolving&&function De(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new fe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function $e(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ae(a)}(m[u]));const T=Lo(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?$n(b.injectImpl):null;zp(a,h,St.Default);try{p=a[u]=b.factory(void 0,m,a,h),l.firstCreatePass&&u>=h.directiveStart&&function am(a,l,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(h){const b=ba(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==S&&$n(S),Lo(T),b.resolving=!1,Bu()}}return p}function Ku(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Wr(a,l){return!(a&St.Self||a&St.Host&&l)}class Kr{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return jp(this._tNode,this._lView,l,Ot(h),u)}}function qp(){return new Kr(Pi(),ye())}function Zu(a){return _e(()=>{const l=a.prototype.constructor,u=l[ji]||Sc(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const m=p[ji]||Sc(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Sc(a){return Ze(a)?()=>{const l=Sc(Y(a));return l&&l()}:Ao(a)}function Wp(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function Yu(a){return function gh(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const m=u[p];if(Tl(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(m===l)return u[p+1];p+=2}}}return null}(Pi(),a)}const Dl="__parameters__";function Ic(a,l,u){return _e(()=>{const h=function _h(a){return function(...u){if(a){const h=a(...u);for(const p in h)this[p]=h[p]}}}(l);function p(...m){if(this instanceof p)return h.apply(this,m),this;const b=new p(...m);return T.annotation=b,T;function T(S,x,R){const B=S.hasOwnProperty(Dl)?S[Dl]:Object.defineProperty(S,Dl,{value:[]})[Dl];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(b),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class sn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ct({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hs(a,l){a.forEach(u=>Array.isArray(u)?hs(u,l):l(u))}function kc(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function xl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Pa(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function lr(a,l,u){let h=He(a,l);return h>=0?a[1|h]=u:(h=~h,function Jp(a,l,u,h){let p=a.length;if(p==l)a.push(u,h);else if(1===p)a.push(h,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Zn(a,l){const u=He(a,l);if(u>=0)return a[1|u]}function He(a,l){return function Oc(a,l,u){let h=0,p=a.length>>u;for(;p!==h;){const m=h+(p-h>>1),b=a[m<<u];if(l===b)return m<<u;b>l?p=m:h=m+1}return~(p<<u)}(a,l,1)}const nd=Gt(Ic("Optional"),8),D=Gt(Ic("SkipSelf"),4);var bn=(()=>((bn=bn||{})[bn.Important=1]="Important",bn[bn.DashCase=2]="DashCase",bn))();const Ba=new Map;let ps=0;const lf="__ngContext__";function oi(a,l){gr(l)?(a[lf]=l[20],function wh(a){Ba.set(a[20],a)}(l)):a[lf]=l}function Eh(a,l){return undefined(a,l)}function Ua(a){const l=a[3];return $r(l)?l[3]:l}function gs(a){return ym(a[13])}function Lc(a){return ym(a[4])}function ym(a){for(;null!==a&&!$r(a);)a=a[4];return a}function Ol(a,l,u,h,p){if(null!=h){let m,b=!1;$r(h)?m=h:gr(h)&&(b=!0,h=h[0]);const T=si(h);0===a&&null!==u?null==p?qo(l,u,T):Ha(l,u,T,p||null,!0):1===a&&null!==u?Ha(l,u,T,p||null,!0):2===a?function Wo(a,l,u){const h=cd(a,l);h&&function Dh(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,T,b):3===a&&l.destroyNode(T),null!=m&&function T0(a,l,u,h,p){const m=u[7];m!==si(u)&&Ol(l,a,h,m,p);for(let T=10;T<u.length;T++){const S=u[T];ud(S[1],S,a,l,h,m)}}(l,a,m,u,p)}}function sd(a,l,u){return a.createElement(l,u)}function ad(a,l){const u=a[9],h=u.indexOf(l),p=l[3];512&l[2]&&(l[2]&=-513,_l(p,-1)),u.splice(h,1)}function jo(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const p=h[17];null!==p&&p!==a&&ad(p,h),l>0&&(a[u-1][4]=h[4]);const m=xl(a,10+l);!function bm(a,l){ud(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Cm(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&ud(a,l,u,3,null,null),function $o(a){let l=a[13];if(!l)return Nl(a[1],a);for(;l;){let u=null;if(gr(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)gr(l)&&Nl(l[1],l),l=l[3];null===l&&(l=a),gr(l)&&Nl(l[1],l),u=l&&l[4]}l=u}}(l)}}function Nl(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function mv(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const p=l[u[h]];if(!(p instanceof Ma)){const m=u[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const T=p[m[b]],S=m[b+1];try{S.call(T)}finally{}}else try{m.call(p)}finally{}}}}(a,l),function Ih(a,l){const u=a.cleanup,h=l[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+3];b>=0?h[p=b]():h[p=-b].unsubscribe(),m+=2}else{const b=h[p=u[m+1]];u[m].call(b)}if(null!==h){for(let m=p+1;m<h.length;m++)(0,h[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&$r(l[3])){u!==l[3]&&ad(u,l);const h=l[19];null!==h&&h.detachView(a)}!function pv(a){Ba.delete(a[20])}(l)}}function ld(a,l,u){return function Bc(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:m}=a.data[h.directiveStart+p];if(m===rn.None||m===rn.Emulated)return null}return ui(h,u)}}(a,l.parent,u)}function Ha(a,l,u,h,p){a.insertBefore(l,u,h,p)}function qo(a,l,u){a.appendChild(l,u)}function Tm(a,l,u,h,p){null!==h?Ha(a,l,u,h,p):qo(a,l,u)}function cd(a,l){return a.parentNode(l)}function Sm(a,l,u){return xh(a,l,u)}let Ga,_f,Vl,xh=function pf(a,l,u){return 40&a.type?ui(a,u):null};function Ah(a,l,u,h){const p=ld(a,h,l),m=l[11],T=Sm(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)Tm(m,p,u[S],T,!1);else Tm(m,p,u,T,!1)}function Uc(a,l){if(null!==l){const u=l.type;if(3&u)return ui(l,a);if(4&u)return br(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return Uc(a,h);{const p=a[l.index];return $r(p)?br(-1,p):si(p)}}if(32&u)return Eh(l,a)()||si(a[l.index]);{const h=Im(a,l);return null!==h?Array.isArray(h)?h[0]:Uc(Ua(a[16]),h):Uc(a,l.next)}}return null}function Im(a,l){return null!==l?a[16][6].projection[l.projection]:null}function br(a,l){const u=10+a+1;if(u<l.length){const h=l[u],p=h[1].firstChild;if(null!==p)return Uc(h,p)}return l[7]}function Pl(a,l,u,h,p,m,b){for(;null!=u;){const T=h[u.index],S=u.type;if(b&&0===l&&(T&&oi(si(T),h),u.flags|=2),32!=(32&u.flags))if(8&S)Pl(a,l,u.child,h,p,m,!1),Ol(l,a,p,T,m);else if(32&S){const x=Eh(u,h);let R;for(;R=x();)Ol(l,a,p,R,m);Ol(l,a,p,T,m)}else 16&S?Hc(a,l,h,u,p,m):Ol(l,a,p,T,m);u=b?u.projectionNext:u.next}}function ud(a,l,u,h,p,m){Pl(u,h,a.firstChild,l,p,m,!1)}function Hc(a,l,u,h,p,m){const b=u[16],S=b[6].projection[h.projection];if(Array.isArray(S))for(let x=0;x<S.length;x++)Ol(l,a,p,S[x],m);else Pl(a,l,S,b[3],p,m,!0)}function Zo(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function Fl(a,l,u){const{mergedAttrs:h,classes:p,styles:m}=u;null!==h&&An(a,l,h),null!==p&&Zo(a,l,p),null!==m&&function _v(a,l,u){a.setAttribute(l,"style",u)}(a,l,m)}function ja(a){return function $a(){if(void 0===Ga&&(Ga=null,Ut.trustedTypes))try{Ga=Ut.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ga}()?.createHTML(a)||a}function po(a){_f=a}function Qo(){if(void 0===Vl&&(Vl=null,Ut.trustedTypes))try{Vl=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Vl}function xm(a){return Qo()?.createHTML(a)||a}function Am(a){return Qo()?.createScriptURL(a)||a}class yf{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}function C(a){return a instanceof yf?a.changingThisBreaksApplicationSecurity:a}function A(a,l){const u=function N(a){return a instanceof yf&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${_t})`)}return u===l}class ki{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(ja(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Ns{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ja(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=ja(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const b=u.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const km=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function hd(a){return(a=String(a)).match(km)?a:"unsafe:"+a}function Ps(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function $c(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const vf=Ps("area,br,col,hr,img,wbr"),bf=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rm=Ps("rp,rt"),Bl=$c(vf,$c(bf,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$c(Rm,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$c(Rm,bf)),Fs=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yv=$c(Fs,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ux=Ps("script,style,template");class kh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Bl.hasOwnProperty(u))return this.sanitizedSomething=!0,!ux.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),b=m.name,T=b.toLowerCase();if(!yv.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let S=m.value;Fs[T]&&(S=hd(S)),this.buf.push(" ",b,'="',Cf(S),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Bl.hasOwnProperty(u)&&!vf.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Cf(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const E0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dx=/([^\#-~ |!])/g;function Cf(a){return a.replace(/&/g,"&amp;").replace(E0,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(dx,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tf;function Fm(a){return"content"in a&&function bv(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function S0(a){const l=jc();return l?xm(l.sanitize(Ei.HTML,a)||""):A(a,"HTML")?xm(C(a)):function vv(a,l){let u=null;try{Tf=Tf||function It(a){const l=new Ns(a);return function Mh(){try{return!!(new window.DOMParser).parseFromString(ja(""),"text/html")}catch{return!1}}()?new ki(l):l}(a);let h=l?String(l):"";u=Tf.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=u.innerHTML,u=Tf.getInertBodyElement(h)}while(h!==m);return ja((new kh).sanitizeChildren(Fm(u)||u))}finally{if(u){const h=Fm(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}(function zc(){return void 0!==_f?_f:typeof document<"u"?document:void 0}(),Ae(a))}function wv(a){const l=jc();return l?l.sanitize(Ei.URL,a)||"":A(a,"URL")?C(a):hd(Ae(a))}function I0(a){const l=jc();if(l)return Am(l.sanitize(Ei.RESOURCE_URL,a)||"");if(A(a,"ResourceURL"))return Am(C(a));throw new fe(904,!1)}function Tv(a,l,u){return function A0(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?I0:wv}(l,u)(a)}function jc(){const a=ye();return a&&a[12]}const Sf=new sn("ENVIRONMENT_INITIALIZER"),M0=new sn("INJECTOR",-1),k0=new sn("INJECTOR_DEF_TYPES");class Vm{get(l,u=jn){if(u===jn){const h=new Error(`NullInjectorError: No provider for ${de(l)}!`);throw h.name="NullInjectorError",h}return u}}function JN(...a){return{\u0275providers:px(0,a),\u0275fromNgModule:!0}}function px(a,...l){const u=[],h=new Set;let p;return hs(l,m=>{const b=m;R0(b,u,[],h)&&(p||(p=[]),p.push(b))}),void 0!==p&&fx(p,u),u}function fx(a,l){for(let u=0;u<a.length;u++){const{providers:p}=a[u];Ev(p,m=>{l.push(m)})}}function R0(a,l,u,h){if(!(a=Y(a)))return!1;let p=null,m=Dr(a);const b=!m&&ln(a);if(m||b){if(b&&!b.standalone)return!1;p=a}else{const S=a.ngModule;if(m=Dr(S),!m)return!1;p=S}const T=h.has(p);if(b){if(T)return!1;if(h.add(p),b.dependencies){const S="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const x of S)R0(x,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!T){let x;h.add(p);try{hs(m.imports,R=>{R0(R,l,u,h)&&(x||(x=[]),x.push(R))})}finally{}void 0!==x&&fx(x,l)}if(!T){const x=Ao(p)||(()=>new p);l.push({provide:p,useFactory:x,deps:At},{provide:k0,useValue:p,multi:!0},{provide:Sf,useValue:()=>Ye(p),multi:!0})}const S=m.providers;null==S||T||Ev(S,R=>{l.push(R)})}}return p!==a&&void 0!==a.providers}function Ev(a,l){for(let u of a)xe(u)&&(u=u.\u0275providers),Array.isArray(u)?Ev(u,l):l(u)}const gx=re({provide:String,useValue:re});function Sv(a){return null!==a&&"object"==typeof a&&gx in a}function qc(a){return"function"==typeof a}const Iv=new sn("Set Injector scope."),Um={},N0={};let Rh;function Hm(){return void 0===Rh&&(Rh=new Vm),Rh}class pd{}class fd extends pd{get destroyed(){return this._destroyed}constructor(l,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dv(l,b=>this.processProvider(b)),this.records.set(M0,qa(void 0,this)),p.has("environment")&&this.records.set(pd,qa(void 0,this));const m=this.records.get(Iv);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(k0.multi,At,St.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=$i(this),h=$n(void 0);try{return l()}finally{$i(u),$n(h)}}get(l,u=jn,h=St.Default){this.assertNotDestroyed(),h=Ot(h);const p=$i(this),m=$n(void 0);try{if(!(h&St.SkipSelf)){let T=this.records.get(l);if(void 0===T){const S=function bx(a){return"function"==typeof a||"object"==typeof a&&a instanceof sn}(l)&&Gn(l);T=S&&this.injectableDefInScope(S)?qa(gd(l),Um):null,this.records.set(l,T)}if(null!=T)return this.hydrate(l,T)}return(h&St.Self?Hm():this.parent).get(l,u=h&St.Optional&&u===jn?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[zr]=b[zr]||[]).unshift(de(l)),p)throw b;return function H(a,l,u,h){const p=a[zr];throw l[os]&&p.unshift(l[os]),a.message=function Z(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let p=de(l);if(Array.isArray(l))p=l.map(de).join(" -> ");else if("object"==typeof l){let m=[];for(let b in l)if(l.hasOwnProperty(b)){let T=l[b];m.push(b+":"+("string"==typeof T?JSON.stringify(T):de(T)))}p=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${a.replace(pa,"\n  ")}`}("\n"+a.message,p,u,h),a.ngTokenPath=p,a[zr]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{$n(m),$i(p)}}resolveInjectorInitializers(){const l=$i(this),u=$n(void 0);try{const h=this.get(Sf.multi,At,St.Self);for(const p of h)p()}finally{$i(l),$n(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(de(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(l){let u=qc(l=Y(l))?l:Y(l&&l.provide);const h=function _x(a){return Sv(a)?qa(void 0,a.useValue):qa(Oh(a),Um)}(l);if(qc(l)||!0!==l.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=qa(void 0,Um,!0),p.factory=()=>Vt(p.multi),this.records.set(u,p)),u=l,p.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Um&&(u.value=N0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function vx(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Y(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function gd(a){const l=Gn(a),u=null!==l?l.factory:Ao(a);if(null!==u)return u;if(a instanceof sn)throw new fe(204,!1);if(a instanceof Function)return function mx(a){const l=a.length;if(l>0)throw Pa(l,"?"),new fe(204,!1);const u=function pr(a){const l=a&&(a[tr]||a[In]);if(l){const u=function to(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new fe(204,!1)}function Oh(a,l,u){let h;if(qc(a)){const p=Y(a);return Ao(p)||gd(p)}if(Sv(a))h=()=>Y(a.useValue);else if(function Ls(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Vt(a.deps||[]));else if(function Bm(a){return!(!a||!a.useExisting)}(a))h=()=>Ye(Y(a.useExisting));else{const p=Y(a&&(a.useClass||a.provide));if(!function yx(a){return!!a.deps}(a))return Ao(p)||gd(p);h=()=>new p(...Vt(a.deps))}return h}function qa(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Dv(a,l){for(const u of a)Array.isArray(u)?Dv(u,l):u&&xe(u)?Dv(u.\u0275providers,l):l(u)}class wx{}class P0{}class zm{resolveComponentFactory(l){throw function XN(a){const l=Error(`No component factory found for ${de(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Wa=(()=>{class a{}return a.NULL=new zm,a})();function Cx(){return Nh(Pi(),ye())}function Nh(a,l){return new Df(ui(a,l))}let Df=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Cx,a})();function Tx(a){return a instanceof Df?a.nativeElement:a}class V0{}let Ex=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Sx(){const a=ye(),u=Ai(Pi().index,a);return(gr(u)?u:a)[11]}(),a})(),Ix=(()=>{class a{}return a.\u0275prov=ct({token:a,providedIn:"root",factory:()=>null}),a})();class B0{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const xv=new B0("15.1.2"),Av={};function Af(a){return a.ngOriginalError}class Wc{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Af(l);for(;u&&Af(u);)u=Af(u);return u||null}}function fo(a){return a instanceof Function?a():a}function j0(a,l,u){let h=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const m=l.length;if(p+m===h||a.charCodeAt(p+m)<=32)return p}u=p+1}}const q0="ng-template";function W0(a,l,u){let h=0;for(;h<a.length;){let p=a[h++];if(u&&"class"===p){if(p=a[h],-1!==j0(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function K0(a){return 4===a.type&&a.value!==q0}function Rx(a,l,u){return l===(4!==a.type||u?a.value:q0)}function Ox(a,l,u){let h=4;const p=a.attrs||[],m=function Q0(a){for(let l=0;l<a.length;l++)if(Tl(a[l]))return l;return a.length}(p);let b=!1;for(let T=0;T<l.length;T++){const S=l[T];if("number"!=typeof S){if(!b)if(4&h){if(h=2|1&h,""!==S&&!Rx(a,S,u)||""===S&&1===l.length){if(Yo(h))return!1;b=!0}}else{const x=8&h?S:l[++T];if(8&h&&null!==a.attrs){if(!W0(a.attrs,x,u)){if(Yo(h))return!1;b=!0}continue}const B=Nx(8&h?"class":S,p,K0(a),u);if(-1===B){if(Yo(h))return!1;b=!0;continue}if(""!==x){let K;K=B>m?"":p[B+1].toLowerCase();const ne=8&h?K:null;if(ne&&-1!==j0(ne,x,0)||2&h&&x!==K){if(Yo(h))return!1;b=!0}}}}else{if(!b&&!Yo(h)&&!Yo(S))return!1;if(b&&Yo(S))continue;b=!1,h=S|1&h}}return Yo(h)||b}function Yo(a){return 0==(1&a)}function Nx(a,l,u,h){if(null===l)return-1;let p=0;if(h||!u){let m=!1;for(;p<l.length;){const b=l[p];if(b===a)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let T=l[++p];for(;"string"==typeof T;)T=l[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function Fx(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function Z0(a,l,u=!1){for(let h=0;h<l.length;h++)if(Ox(a,l[h],u))return!0;return!1}function Y0(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function Mv(a,l){return a?":not("+l.trim()+")":l}function nP(a){let l=a[0],u=1,h=2,p="",m=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const T=a[++u];p+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!Yo(b)&&(l+=Mv(m,p),p=""),h=b,m=m||!Yo(h);u++}return""!==p&&(l+=Mv(m,p)),l}const Kt={};function eT(a){tT(cn(),ye(),or()+a,!1)}function tT(a,l,u,h){if(!h)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&oo(l,m,u)}else{const m=a.preOrderHooks;null!==m&&xa(l,m,0,u)}Ia(u)}function oT(a,l=null,u=null,h){const p=Ov(a,l,u,h);return p.resolveInjectorInitializers(),p}function Ov(a,l=null,u=null,h,p=new Set){const m=[u||At,JN(a)];return h=h||("object"==typeof a?void 0:de(a)),new fd(m,l||Hm(),h||null,p)}let Ka=(()=>{class a{static create(u,h){if(Array.isArray(u))return oT({name:""},h,u,"");{const p=u.name??"";return oT({name:p},u.parent,u.providers,p)}}}return a.THROW_IF_NOT_FOUND=jn,a.NULL=new Vm,a.\u0275prov=ct({token:a,providedIn:"any",factory:()=>Ye(M0)}),a.__NG_ELEMENT_ID__=-1,a})();function Kc(a,l=St.Default){const u=ye();return null===u?Ye(a,l):jp(Pi(),u,Y(a),l)}function pT(){throw new Error("invalid")}function Wx(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h+1];if(-1!==m){const b=a.data[m];Vu(u[h]),b.contentQueries(2,l[m],m)}}}function Lh(a,l,u,h,p,m,b,T,S,x,R){const B=l.blueprint.slice();return B[0]=p,B[2]=76|h,(null!==R||a&&1024&a[2])&&(B[2]|=1024),ml(B),B[3]=B[15]=a,B[8]=u,B[10]=b||a&&a[10],B[11]=T||a&&a[11],B[12]=S||a&&a[12]||null,B[9]=x||a&&a[9]||null,B[6]=m,B[20]=function Zi(){return ps++}(),B[21]=R,B[16]=2==l.type?a[16]:B,B}function Vh(a,l,u,h,p){let m=a.data[l];if(null===m)m=function Nv(a,l,u,h,p){const m=yl(),b=pc(),S=a.data[l]=function Qx(a,l,u,h,p,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,l,h,p);return null===a.firstChild&&(a.firstChild=S),null!==m&&(b?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(a,l,u,h,p),function ch(){return Bt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=h,m.attrs=p;const b=function hc(){const a=Bt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return _r(m,!0),m}function Nf(a,l,u,h){if(0===u)return-1;const p=l.length;for(let m=0;m<u;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function Qm(a,l,u){mc(l);try{const h=a.viewQuery;null!==h&&Hv(1,h,u);const p=a.template;null!==p&&Kx(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Wx(a,l),a.staticViewQueries&&Hv(2,a.viewQuery,u);const m=a.components;null!==m&&function gT(a,l){for(let u=0;u<l.length;u++)u1(a,l[u])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,sm()}}function Ym(a,l,u,h){const p=l[2];if(128!=(128&p)){mc(l);try{ml(l),function so(a){return Bt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Kx(a,l,u,2,h);const b=3==(3&p);if(b){const x=a.preOrderCheckHooks;null!==x&&oo(l,x,null)}else{const x=a.preOrderHooks;null!==x&&xa(l,x,0,null),kr(l,0)}if(function l1(a){for(let l=gs(a);null!==l;l=Lc(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const p=u[h];512&p[2]||_l(p[3],1),p[2]|=512}}}(l),function a1(a){for(let l=gs(a);null!==l;l=Lc(l))for(let u=10;u<l.length;u++){const h=l[u],p=h[1];Sa(h)&&Ym(p,h,p.template,h[8])}}(l),null!==a.contentQueries&&Wx(a,l),b){const x=a.contentCheckHooks;null!==x&&oo(l,x)}else{const x=a.contentHooks;null!==x&&xa(l,x,1),kr(l,1)}!function lP(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Ia(~p);else{const m=p,b=u[++h],T=u[++h];uh(b,m),T(2,l[m])}}}finally{Ia(-1)}}(a,l);const T=a.components;null!==T&&function fT(a,l){for(let u=0;u<l.length;u++)c1(a,l[u])}(l,T);const S=a.viewQuery;if(null!==S&&Hv(2,S,h),b){const x=a.viewCheckHooks;null!==x&&oo(l,x)}else{const x=a.viewHooks;null!==x&&xa(l,x,2),kr(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,_l(l[3],-1))}finally{sm()}}}function Kx(a,l,u,h,p){const m=or(),b=2&h;try{Ia(-1),b&&l.length>22&&tT(a,l,22,!1),u(h,p)}finally{Ia(m)}}function mT(a,l,u){if(dl(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const b=a.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}function _d(a,l,u){dc()&&(function t1(a,l,u,h){const p=u.directiveStart,m=u.directiveEnd;jr(u)&&function Vv(a,l,u){const h=ui(l,a),p=Pv(u),m=a[10],b=Xm(a,Lh(a,p,null,u.onPush?32:16,h,l,m,m.createRenderer(h,u),null,null,null));a[l.index]=b}(l,u,a.data[p+u.componentOffset]),a.firstCreatePass||Ra(u,l),oi(h,l);const b=u.initialInputs;for(let T=p;T<m;T++){const S=a.data[T],x=qr(l,a,T,u);oi(x,l),null!==b&&o1(0,T-p,x,S,0,b),rr(S)&&(Ai(u.index,l)[8]=qr(l,a,T,u))}}(a,l,u,ui(u,l)),64==(64&u.flags)&&TT(a,l,u))}function _T(a,l,u=ui){const h=l.localNames;if(null!==h){let p=l.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],T=-1===b?u(l,a):a[b];a[p++]=T}}}function Pv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Fv(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Fv(a,l,u,h,p,m,b,T,S,x){const R=22+h,B=R+p,K=function Zx(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Kt);return u}(R,B),ne="function"==typeof x?x():x;return K[1]={type:a,blueprint:K,template:u,queries:null,viewQuery:T,declTNode:l,data:K.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:ne,incompleteFirstPass:!1}}function yT(a,l,u,h){const p=ST(l);null===u?p.push(h):(p.push(u),a.firstCreatePass&&IT(a).push(h,p.length-1))}function vT(a,l,u,h){for(let p in a)if(a.hasOwnProperty(p)){u=null===u?{}:u;const m=a[p];null===h?bT(u,l,p,m):h.hasOwnProperty(p)&&bT(u,l,h[p],m)}return u}function bT(a,l,u,h){a.hasOwnProperty(u)?a[u].push(l,h):a[u]=[l,h]}function Jx(a,l){const u=Ai(l,a);16&u[2]||(u[2]|=32)}function Bs(a,l,u,h){let p=!1;if(dc()){const m=null===h?null:{"":-1},b=function r1(a,l){const u=a.directiveRegistry;let h=null,p=null;if(u)for(let m=0;m<u.length;m++){const b=u[m];if(Z0(l,b.selectors,!1))if(h||(h=[]),rr(b))if(null!==b.findHostDirectiveDefs){const T=[];p=p||new Map,b.findHostDirectiveDefs(b,T,p),h.unshift(...T,b),Lv(a,l,T.length)}else h.unshift(b),Lv(a,l,0);else p=p||new Map,b.findHostDirectiveDefs?.(b,h,p),h.push(b)}return null===h?null:[h,p]}(a,u);let T,S;null===b?T=S=null:[T,S]=b,null!==T&&(p=!0,Za(a,l,u,T,m,S)),m&&function yd(a,l,u){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const m=u[l[p+1]];if(null==m)throw new fe(-301,!1);h.push(l[p],m)}}}(u,h,m)}return u.mergedAttrs=Ms(u.mergedAttrs,u.attrs),p}function Za(a,l,u,h,p,m){for(let x=0;x<h.length;x++)qu(Ra(u,l),a,h[x].type);!function s1(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,h.length);for(let x=0;x<h.length;x++){const R=h[x];R.providersResolver&&R.providersResolver(R)}let b=!1,T=!1,S=Nf(a,l,h.length,null);for(let x=0;x<h.length;x++){const R=h[x];u.mergedAttrs=Ms(u.mergedAttrs,R.hostAttrs),Uh(a,u,l,S,R),Bh(S,R,p),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const B=R.type.prototype;!b&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),b=!0),!T&&(B.ngOnChanges||B.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),S++}!function Yx(a,l,u){const p=l.directiveEnd,m=a.data,b=l.attrs,T=[];let S=null,x=null;for(let R=l.directiveStart;R<p;R++){const B=m[R],K=u?u.get(B):null,be=K?K.outputs:null;S=vT(B.inputs,R,S,K?K.inputs:null),x=vT(B.outputs,R,x,be);const ze=null===S||null===b||K0(l)?null:Ff(S,R,b);T.push(ze)}null!==S&&(S.hasOwnProperty("class")&&(l.flags|=8),S.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=T,l.inputs=S,l.outputs=x}(a,u,m)}function TT(a,l,u){const h=u.directiveStart,p=u.directiveEnd,m=u.index,b=function Fu(){return Bt.lFrame.currentDirectiveIndex}();try{Ia(m);for(let T=h;T<p;T++){const S=a.data[T],x=l[T];Lu(T),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&n1(S,x)}}finally{Ia(-1),Lu(b)}}function n1(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Lv(a,l,u){l.componentOffset=u,(a.components||(a.components=[])).push(l.index)}function Bh(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;rr(l)&&(u[""]=a)}}function Uh(a,l,u,h,p){a.data[h]=p;const m=p.factory||(p.factory=Ao(p.type)),b=new Ma(m,rr(p),Kc);a.blueprint[h]=b,u[h]=b,function Xx(a,l,u,h,p){const m=p.hostBindings;if(m){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const T=~l.index;(function e1(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(b)!=T&&b.push(T),b.push(u,h,m)}}(a,l,h,Nf(a,u,p.hostVars,Kt),p)}function Us(a,l,u,h,p,m){const b=ui(a,l);!function Jm(a,l,u,h,p,m,b){if(null==m)a.removeAttribute(l,p,u);else{const T=null==b?Ae(m):b(m,h||"",p);a.setAttribute(l,p,T,u)}}(l[11],b,m,a.value,u,h,p)}function o1(a,l,u,h,p,m){const b=m[l];if(null!==b){const T=h.setInput;for(let S=0;S<b.length;){const x=b[S++],R=b[S++],B=b[S++];null!==T?h.setInput(u,B,x,R):u[R]=B}}}function Ff(a,l,u){let h=null,p=0;for(;p<u.length;){const m=u[p];if(0!==m)if(5!==m){if("number"==typeof m)break;if(a.hasOwnProperty(m)){null===h&&(h=[]);const b=a[m];for(let T=0;T<b.length;T+=2)if(b[T]===l){h.push(m,b[T+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function ET(a,l,u,h){return[a,!0,!1,l,null,0,h,u,null,null]}function c1(a,l){const u=Ai(l,a);if(Sa(u)){const h=u[1];48&u[2]?Ym(h,u,h.template,u[8]):u[5]>0&&Bv(u)}}function Bv(a){for(let h=gs(a);null!==h;h=Lc(h))for(let p=10;p<h.length;p++){const m=h[p];if(Sa(m))if(512&m[2]){const b=m[1];Ym(b,m,b.template,m[8])}else m[5]>0&&Bv(m)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Ai(u[h],a);Sa(p)&&p[5]>0&&Bv(p)}}function u1(a,l){const u=Ai(l,a),h=u[1];(function d1(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),Qm(h,u,u[8])}function Xm(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Uv(a){for(;a;){a[2]|=32;const l=Ua(a);if(hl(a)&&!l)return a;a=l}return null}function e_(a,l,u,h=!0){const p=l[10];p.begin&&p.begin();try{Ym(a,l,a.template,u)}catch(b){throw h&&xT(l,b),b}finally{p.end&&p.end()}}function Hv(a,l,u){Vu(0),l(a,u)}function ST(a){return a[7]||(a[7]=[])}function IT(a){return a.cleanup||(a.cleanup=[])}function xT(a,l){const u=a[9],h=u?u.get(Wc,null):null;h&&h.handleError(l)}function zv(a,l,u,h,p){for(let m=0;m<u.length;){const b=u[m++],T=u[m++],S=l[b],x=a.data[b];null!==x.setInput?x.setInput(S,p,h,T):S[T]=p}}function Hl(a,l,u){const h=Ro(l,a);!function vm(a,l,u){a.setValue(l,u)}(a[11],h,u)}function t_(a,l,u){let h=u?a.styles:null,p=u?a.classes:null,m=0;if(null!==l)for(let b=0;b<l.length;b++){const T=l[b];"number"==typeof T?m=T:1==m?p=ue(p,T):2==m&&(h=ue(h,T+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=p:a.classesWithoutHost=p}function n_(a,l,u,h,p=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(si(m)),$r(m))for(let T=10;T<m.length;T++){const S=m[T],x=S[1].firstChild;null!==x&&n_(S[1],S,x,h)}const b=u.type;if(8&b)n_(a,l,u.child,h);else if(32&b){const T=Eh(u,l);let S;for(;S=T();)h.push(S)}else if(16&b){const T=Im(l,u);if(Array.isArray(T))h.push(...T);else{const S=Ua(l[16]);n_(S[1],S,T,h,!0)}}u=p?u.projectionNext:u.next}return h}class Lf{get rootNodes(){const l=this._lView,u=l[1];return n_(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if($r(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(jo(l,h),xl(u,h))}this._attachedToViewContainer=!1}Cm(this._lView[1],this._lView)}onDestroy(l){yT(this._lView[1],this._lView,null,l)}markForCheck(){Uv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){e_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vc(a,l){ud(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=l}}class f1 extends Lf{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;e_(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class AT extends Wa{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ln(l);return new Vf(u,this.ngModule)}}function MT(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class m1{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){h=Ot(h);const p=this.injector.get(l,Av,h);return p!==Av||u===Av?p:this.parentInjector.get(l,u,h)}}class Vf extends P0{get inputs(){return MT(this.componentDef.inputs)}get outputs(){return MT(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function J0(a){return a.map(nP).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,h,p){let m=(p=p||this.ngModule)instanceof pd?p:p?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new m1(l,m):l,T=b.get(V0,null);if(null===T)throw new fe(407,!1);const S=b.get(Ix,null),x=T.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=h?function Pf(a,l,u){return a.selectRootElement(l,u===rn.ShadowDom)}(x,h,this.componentDef.encapsulation):sd(x,R,function g1(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),K=this.componentDef.onPush?288:272,ne=Fv(0,null,null,1,0,null,null,null,null,null),be=Lh(null,ne,null,K,null,null,T,x,S,b,null);let ze,it;mc(be);try{const yt=this.componentDef;let Ft,Fe=null;yt.findHostDirectiveDefs?(Ft=[],Fe=new Map,yt.findHostDirectiveDefs(yt,Ft,Fe),Ft.push(yt)):Ft=[yt];const qt=function y1(a,l){const u=a[1];return a[22]=l,Vh(u,22,2,"#host",null)}(be,B),ni=function v1(a,l,u,h,p,m,b,T){const S=p[1];!function b1(a,l,u,h){for(const p of a)l.mergedAttrs=Ms(l.mergedAttrs,p.hostAttrs);null!==l.mergedAttrs&&(t_(l,l.mergedAttrs,!0),null!==u&&Fl(h,u,l))}(h,a,l,b);const x=m.createRenderer(l,u),R=Lh(p,Pv(u),null,u.onPush?32:16,p[a.index],a,m,x,T||null,null,null);return S.firstCreatePass&&Lv(S,a,h.length-1),Xm(p,R),p[a.index]=R}(qt,B,yt,Ft,be,T,x);it=Ea(ne,22),B&&function C1(a,l,u,h){if(h)An(a,u,["ng-version",xv.full]);else{const{attrs:p,classes:m}=function X0(a){const l=[],u=[];let h=1,p=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===p?""!==m&&l.push(m,a[++h]):8===p&&u.push(m);else{if(!Yo(p))break;p=m}h++}return{attrs:l,classes:u}}(l.selectors[0]);p&&An(a,u,p),m&&m.length>0&&Zo(a,u,m.join(" "))}}(x,yt,B,h),void 0!==u&&function T1(a,l,u){const h=a.projection=[];for(let p=0;p<l.length;p++){const m=u[p];h.push(null!=m?Array.from(m):null)}}(it,this.ngContentSelectors,u),ze=function w1(a,l,u,h,p,m){const b=Pi(),T=p[1],S=ui(b,p);Za(T,p,b,u,null,h);for(let R=0;R<u.length;R++)oi(qr(p,T,b.directiveStart+R,b),p);TT(T,p,b),S&&oi(S,p);const x=qr(p,T,b.directiveStart+b.componentOffset,b);if(a[8]=p[8]=x,null!==m)for(const R of m)R(x,l);return mT(T,b,a),x}(ni,yt,Ft,Fe,be,[Gv]),Qm(ne,be,null)}finally{sm()}return new _1(this.componentType,ze,Nh(it,be),be,it)}}class _1 extends wx{constructor(l,u,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new f1(p),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[l])){const m=this._rootLView;zv(m[1],m,p,l,u),Jx(m,this._tNode.index)}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Gv(){const a=Pi();bl(ye()[1],a)}function $v(a){let l=function kT(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let p;if(rr(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new fe(903,!1);p=l.\u0275dir}if(p){if(u){h.push(p);const b=a;b.inputs=jv(a.inputs),b.declaredInputs=jv(a.declaredInputs),b.outputs=jv(a.outputs);const T=p.hostBindings;T&&S1(a,T);const S=p.viewQuery,x=p.contentQueries;if(S&&Bf(a,S),x&&Uf(a,x),me(a.inputs,p.inputs),me(a.declaredInputs,p.declaredInputs),me(a.outputs,p.outputs),rr(p)&&p.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const T=m[b];T&&T.ngInherit&&T(a),T===$v&&(u=!1)}}l=Object.getPrototypeOf(l)}!function E1(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=Ms(p.hostAttrs,u=Ms(u,p.hostAttrs))}}(h)}function jv(a){return a===qn?{}:a===At?[]:a}function Bf(a,l){const u=a.viewQuery;a.viewQuery=u?(h,p)=>{l(h,p),u(h,p)}:l}function Uf(a,l){const u=a.contentQueries;a.contentQueries=u?(h,p,m)=>{l(h,p,m),u(h,p,m)}:l}function S1(a,l){const u=a.hostBindings;a.hostBindings=u?(h,p)=>{l(h,p),u(h,p)}:l}let Wv=null;function zl(){if(!Wv){const a=Ut.Symbol;if(a&&a.iterator)Wv=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Wv=h)}}}return Wv}function ge(a){return!!Hs(a)&&(Array.isArray(a)||!(a instanceof Map)&&zl()in a)}function Hs(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Jo(a,l,u){return a[l]=u}function vd(a,l){return a[l]}function Cr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function bd(a,l,u,h){const p=Cr(a,l,u);return Cr(a,l+1,h)||p}function i_(a,l,u,h,p){const m=bd(a,l,u,h);return Cr(a,l+2,p)||m}function zs(a,l,u,h,p,m){const b=bd(a,l,u,h);return bd(a,l+2,p,m)||b}function Gl(a,l,u,h){const p=ye();return Cr(p,No(),l)&&(cn(),Us(Nn(),p,a,l,u,h)),Gl}function wd(a,l,u,h,p,m){const T=bd(a,function yr(){return Bt.lFrame.bindingIndex}(),u,p);return ds(2),T?l+Ae(u)+h+Ae(p)+m:Kt}function zh(a,l,u,h,p,m,b,T){const S=ye(),x=cn(),R=a+22,B=x.firstCreatePass?function D1(a,l,u,h,p,m,b,T,S){const x=l.consts,R=Vh(l,a,4,b||null,xs(x,T));Bs(l,u,R,xs(x,S)),bl(l,R);const B=R.tViews=Fv(2,R,h,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,R),B.queries=l.queries.embeddedTView(R)),R}(R,x,S,l,u,h,p,m,b):x.data[R];_r(B,!1);const K=S[11].createComment("");Ah(x,S,K,B),oi(K,S),Xm(S,S[R]=ET(K,S,K,B)),Su(B)&&_d(x,S,B),null!=b&&_T(S,B,T)}function Zv(a){return Oo(function lh(){return Bt.lFrame.contextLView}(),22+a)}function Vi(a,l,u){const h=ye();return Cr(h,No(),l)&&function Vs(a,l,u,h,p,m,b,T){const S=ui(l,u);let R,x=l.inputs;!T&&null!=x&&(R=x[h])?(zv(a,u,R,h,p),jr(l)&&Jx(u,l.index)):3&l.type&&(h=function wT(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=b?b(p,l.value||"",h):p,m.setProperty(S,h,p))}(cn(),Nn(),h,a,l,h[11],u,!1),Vi}function s_(a,l,u,h,p){const b=p?"class":"style";zv(a,u,l.inputs[b],b,h)}function o_(a,l,u,h){const p=ye(),m=cn(),b=22+a,T=p[11],S=p[b]=sd(T,l,function om(){return Bt.lFrame.currentNamespace}()),x=m.firstCreatePass?function x1(a,l,u,h,p,m,b){const T=l.consts,x=Vh(l,a,2,p,xs(T,m));return Bs(l,u,x,xs(T,b)),null!==x.attrs&&t_(x,x.attrs,!1),null!==x.mergedAttrs&&t_(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(b,m,p,0,l,u,h):m.data[b];return _r(x,!0),Fl(T,S,x),32!=(32&x.flags)&&Ah(m,p,S,x),0===function uc(){return Bt.lFrame.elementDepthCount}()&&oi(S,p),function ku(){Bt.lFrame.elementDepthCount++}(),Su(x)&&(_d(m,p,x),mT(m,x,p)),null!==h&&_T(p,x),o_}function a_(){let a=Pi();pc()?fc():(a=a.parent,_r(a,!1));const l=a;!function Ru(){Bt.lFrame.elementDepthCount--}();const u=cn();return u.firstCreatePass&&(bl(u,a),dl(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function wl(a){return 0!=(8&a.flags)}(l)&&s_(u,l,ye(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function yc(a){return 0!=(16&a.flags)}(l)&&s_(u,l,ye(),l.stylesWithoutHost,!1),a_}function Qv(a,l,u,h){return o_(a,l,u,h),a_(),Qv}function l_(a,l,u){const h=ye(),p=cn(),m=a+22,b=p.firstCreatePass?function A1(a,l,u,h,p){const m=l.consts,b=xs(m,h),T=Vh(l,a,8,"ng-container",b);return null!==b&&t_(T,b,!0),Bs(l,u,T,xs(m,p)),null!==l.queries&&l.queries.elementStart(l,T),T}(m,p,h,l,u):p.data[m];_r(b,!0);const T=h[m]=h[11].createComment("");return Ah(p,h,T,b),oi(T,h),Su(b)&&(_d(p,h,b),mT(p,b,h)),null!=u&&_T(h,b),l_}function zf(){let a=Pi();const l=cn();return pc()?fc():(a=a.parent,_r(a,!1)),l.firstCreatePass&&(bl(l,a),dl(a)&&l.queries.elementEnd(a)),zf}function Qc(a,l,u){return l_(a,l,u),zf(),Qc}function UT(){return ye()}function Id(a){return!!a&&"function"==typeof a.then}function HT(a){return!!a&&"function"==typeof a.subscribe}const zT=HT;function Dd(a,l,u,h){const p=ye(),m=cn(),b=Pi();return function Yv(a,l,u,h,p,m,b){const T=Su(h),x=a.firstCreatePass&&IT(a),R=l[8],B=ST(l);let K=!0;if(3&h.type||b){const ze=ui(h,l),it=b?b(ze):ze,yt=B.length,Ft=b?qt=>b(si(qt[h.index])):h.index;let Fe=null;if(!b&&T&&(Fe=function GT(a,l,u,h){const p=a.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===u&&p[m+1]===h){const T=l[7],S=p[m+2];return T.length>S?T[S]:null}"string"==typeof b&&(m+=2)}return null}(a,l,p,h.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=m,Fe.__ngLastListenerFn__=m,K=!1;else{m=Xv(h,l,R,m,!1);const qt=u.listen(it,p,m);B.push(m,qt),x&&x.push(p,Ft,yt,yt+1)}}else m=Xv(h,l,R,m,!1);const ne=h.outputs;let be;if(K&&null!==ne&&(be=ne[p])){const ze=be.length;if(ze)for(let it=0;it<ze;it+=2){const ni=l[be[it]][be[it+1]].subscribe(m),fi=B.length;B.push(m,ni),x&&x.push(p,h.index,fi,-(fi+1))}}}(m,p,p[11],b,a,l,h),Dd}function Jv(a,l,u,h){try{return!1!==u(h)}catch(p){return xT(a,p),!1}}function Xv(a,l,u,h,p){return function m(b){if(b===Function)return h;Uv(a.componentOffset>-1?Ai(a.index,l):l);let S=Jv(l,0,h,b),x=m.__ngNextListenerFn__;for(;x;)S=Jv(l,0,x,b)&&S,x=x.__ngNextListenerFn__;return p&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function eb(a=1){return function av(a){return(Bt.lFrame.contextLView=function ph(a,l){for(;a>0;)l=l[15],a--;return l}(a,Bt.lFrame.contextLView))[8]}(a)}function $T(a,l){let u=null;const h=function Px(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===h?Z0(a,m,!0):Y0(h,m))return p}else u=p}return u}function tb(a){const l=ye()[16][6];if(!l.projection){const h=l.projection=Pa(a?a.length:1,null),p=h.slice();let m=l.child;for(;null!==m;){const b=a?$T(m,a):0;null!==b&&(p[b]?p[b].projectionNext=m:h[b]=m,p[b]=m),m=m.next}}}function c_(a,l=0,u){const h=ye(),p=cn(),m=Vh(p,22+a,16,null,u||null);null===m.projection&&(m.projection=l),fc(),32!=(32&m.flags)&&function Ko(a,l,u){Hc(l[11],0,l,u,ld(a,u,l),Sm(u.parent||l[6],u,l))}(p,h,m)}function g_(a,l){return a<<17|l<<2}function jl(a){return a>>17&32767}function rb(a){return 2|a}function Yc(a){return(131068&a)>>2}function m_(a,l){return-131069&a|l<<2}function sb(a){return 1|a}function ob(a,l,u,h,p){const m=a[u+1],b=null===l;let T=h?jl(m):Yc(m),S=!1;for(;0!==T&&(!1===S||b);){const R=a[T+1];ZT(a[T],l)&&(S=!0,a[T+1]=h?sb(R):rb(R)),T=h?jl(R):Yc(R)}S&&(a[u+1]=h?rb(m):sb(m))}function ZT(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&He(a,l)>=0}const Yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QT(a){return a.substring(Yi.key,Yi.keyEnd)}function N1(a){return a.substring(Yi.value,Yi.valueEnd)}function __(a,l){const u=Yi.textEnd;return u===l?-1:(l=Yi.keyEnd=function JT(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Yi.key=l,u),ta(a,l,u))}function YT(a,l){const u=Yi.textEnd;let h=Yi.key=ta(a,l,u);return u===h?-1:(h=Yi.keyEnd=function F1(a,l,u){let h;for(;l<u&&(45===(h=a.charCodeAt(l))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)l++;return l}(a,h,u),h=XT(a,h,u),h=Yi.value=ta(a,h,u),h=Yi.valueEnd=function L1(a,l,u){let h=-1,p=-1,m=-1,b=l,T=b;for(;b<u;){const S=a.charCodeAt(b++);if(59===S)return T;34===S||39===S?T=b=eE(a,S,b,u):l===b-4&&85===m&&82===p&&76===h&&40===S?T=b=eE(a,41,b,u):S>32&&(T=b),m=p,p=h,h=-33&S}return T}(a,h,u),XT(a,h,u))}function $f(a){Yi.key=0,Yi.keyEnd=0,Yi.value=0,Yi.valueEnd=0,Yi.textEnd=a.length}function ta(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function XT(a,l,u,h){return(l=ta(a,l,u))<u&&l++,l}function eE(a,l,u,h){let p=-1,m=u;for(;m<h;){const b=a.charCodeAt(m++);if(b==l&&92!==p)return m;p=92==b&&92===p?0:b}throw new Error}function y_(a,l,u){return _o(a,l,u,!1),y_}function ab(a,l){return _o(a,l,null,!0),ab}function mo(a){yo(tn,V1,a,!1)}function V1(a,l){for(let u=function P1(a){return $f(a),YT(a,ta(a,0,Yi.textEnd))}(l);u>=0;u=YT(l,u))tn(a,QT(l),N1(l))}function lb(a){yo(lr,na,a,!0)}function na(a,l){for(let u=function Jc(a){return $f(a),__(a,ta(a,0,Yi.textEnd))}(l);u>=0;u=__(l,u))lr(a,QT(l),!0)}function _o(a,l,u,h){const p=ye(),m=cn(),b=ds(2);m.firstUpdatePass&&cb(m,a,b,h),l!==Kt&&Cr(p,b,l)&&Pn(m,m.data[or()],p,p[11],a,p[b+1]=function jf(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=de(C(a)))),a}(l,u),h,b)}function yo(a,l,u,h){const p=cn(),m=ds(2);p.firstUpdatePass&&cb(p,null,m,h);const b=ye();if(u!==Kt&&Cr(b,m,u)){const T=p.data[or()];if(ub(T,h)&&!nE(p,m)){let S=h?T.classesWithoutHost:T.stylesWithoutHost;null!==S&&(u=ue(S,u||"")),s_(p,T,b,u,h)}else!function Xc(a,l,u,h,p,m,b,T){p===Kt&&(p=At);let S=0,x=0,R=0<p.length?p[0]:null,B=0<m.length?m[0]:null;for(;null!==R||null!==B;){const K=S<p.length?p[S+1]:void 0,ne=x<m.length?m[x+1]:void 0;let ze,be=null;R===B?(S+=2,x+=2,K!==ne&&(be=B,ze=ne)):null===B||null!==R&&R<B?(S+=2,be=R):(x+=2,be=B,ze=ne),null!==be&&Pn(a,l,u,h,be,ze,b,T),R=S<p.length?p[S]:null,B=x<m.length?m[x]:null}}(p,T,b,b[11],b[m+1],b[m+1]=function mn(a,l,u){if(null==u||""===u)return At;const h=[],p=C(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)a(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&a(h,m,p[m]);else"string"==typeof p&&l(h,p);return h}(a,l,u),h,m)}}function nE(a,l){return l>=a.expandoStartIndex}function cb(a,l,u,h){const p=a.data;if(null===p[u+1]){const m=p[or()],b=nE(a,u);ub(m,h)&&null===l&&!b&&(l=!1),l=function iE(a,l,u,h){const p=function As(a){const l=Bt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let m=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(u=dn(u=b_(null,a,l,u,h),l.attrs,h),m=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==p)if(u=b_(p,a,l,u,h),null===m){let S=function rE(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Yc(h))return a[jl(h)]}(a,l,h);void 0!==S&&Array.isArray(S)&&(S=b_(null,a,l,S[1],h),S=dn(S,l.attrs,h),function v_(a,l,u,h){a[jl(u?l.classBindings:l.styleBindings)]=h}(a,l,h,S))}else m=function sE(a,l,u){let h;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)h=dn(h,a[m].hostAttrs,u);return dn(h,l.attrs,u)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(p,m,l,h),function R1(a,l,u,h,p,m){let b=m?l.classBindings:l.styleBindings,T=jl(b),S=Yc(b);a[h]=u;let R,x=!1;if(Array.isArray(u)?(R=u[1],(null===R||He(u,R)>0)&&(x=!0)):R=u,p)if(0!==S){const K=jl(a[T+1]);a[h+1]=g_(K,T),0!==K&&(a[K+1]=m_(a[K+1],h)),a[T+1]=function k1(a,l){return 131071&a|l<<17}(a[T+1],h)}else a[h+1]=g_(T,0),0!==T&&(a[T+1]=m_(a[T+1],h)),T=h;else a[h+1]=g_(S,0),0===T?T=h:a[S+1]=m_(a[S+1],h),S=h;x&&(a[h+1]=rb(a[h+1])),ob(a,R,h,!0),ob(a,R,h,!1),function O1(a,l,u,h,p){const m=p?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&He(m,l)>=0&&(u[h+1]=sb(u[h+1]))}(l,R,a,h,m),b=g_(T,S),m?l.classBindings=b:l.styleBindings=b}(p,m,l,u,b,h)}}function b_(a,l,u,h,p){let m=null;const b=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<b&&(m=l[T],h=dn(h,m.hostAttrs,p),m!==a);)T++;return null!==a&&(u.directiveStylingLast=T),h}function dn(a,l,u){const h=u?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const b=l[m];"number"==typeof b?p=b:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),lr(a,b,!!u||l[++m]))}return void 0===a?null:a}function tn(a,l,u){lr(a,l,C(u))}function Pn(a,l,u,h,p,m,b,T){if(!(3&l.type))return;const S=a.data,x=S[T+1],R=function KT(a){return 1==(1&a)}(x)?w_(S,l,u,p,Yc(x),b):void 0;C_(R)||(C_(m)||function M1(a){return 2==(2&a)}(x)&&(m=w_(S,null,u,p,T,b)),function Dm(a,l,u,h,p){if(l)p?a.addClass(u,h):a.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:bn.DashCase;null==p?a.removeStyle(u,h,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=bn.Important),a.setStyle(u,h,p,m))}}(h,b,Ro(or(),u),p,m))}function w_(a,l,u,h,p,m){const b=null===l;let T;for(;p>0;){const S=a[p],x=Array.isArray(S),R=x?S[1]:S,B=null===R;let K=u[p+1];K===Kt&&(K=B?At:void 0);let ne=B?Zn(K,h):R===h?K:void 0;if(x&&!C_(ne)&&(ne=Zn(S,h)),C_(ne)&&(T=ne,b))return T;const be=a[p+1];p=b?jl(be):Yc(be)}if(null!==l){let S=m?l.residualClasses:l.residualStyles;null!=S&&(T=Zn(S,h))}return T}function C_(a){return void 0!==a}function ub(a,l){return 0!=(a.flags&(l?8:16))}function ti(a,l=""){const u=ye(),h=cn(),p=a+22,m=h.firstCreatePass?Vh(h,p,1,l,null):h.data[p],b=u[p]=function Sh(a,l){return a.createText(l)}(u[11],l);Ah(h,u,b,m),_r(m,!1)}function Xt(a){return ur("",a,""),Xt}function ur(a,l,u){const h=ye(),p=function Xo(a,l,u,h){return Cr(a,No(),u)?l+Ae(u)+h:Kt}(h,a,l,u);return p!==Kt&&Hl(h,or(),p),ur}function db(a,l,u,h,p){const m=ye(),b=wd(m,a,l,u,h,p);return b!==Kt&&Hl(m,or(),b),db}const Md=void 0;var Qn=["en",[["a","p"],["AM","PM"],Md],[["AM","PM"],Md,Md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Md,"{1} 'at' {0}",Md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $1(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Gh={};function $h(a){const l=function j1(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=el(l);if(u)return u;const h=l.split("-")[0];if(u=el(h),u)return u;if("en"===h)return Qn;throw new fe(701,!1)}function kd(a){return $h(a)[qe.PluralCase]}function el(a){return a in Gh||(Gh[a]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[a]),Gh[a]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const Fn="en-US";let qh=Fn;function V_(a,l,u,h,p){if(a=Y(a),Array.isArray(a))for(let m=0;m<a.length;m++)V_(a[m],l,u,h,p);else{const m=cn(),b=ye();let T=qc(a)?a:Y(a.provide),S=Oh(a);const x=Pi(),R=1048575&x.providerIndexes,B=x.directiveStart,K=x.providerIndexes>>20;if(qc(a)||!a.multi){const ne=new Ma(S,p,Kc),be=Vb(T,l,p?R:R+K,B);-1===be?(qu(Ra(x,b),m,T),B_(m,a,l.length),l.push(T),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),u.push(ne),b.push(ne)):(u[be]=ne,b[be]=ne)}else{const ne=Vb(T,l,R+K,B),be=Vb(T,l,R,R+K),it=be>=0&&u[be];if(p&&!it||!p&&!(ne>=0&&u[ne])){qu(Ra(x,b),m,T);const yt=function _A(a,l,u,h,p){const m=new Ma(a,u,Kc);return m.multi=[],m.index=l,m.componentProviders=0,AE(m,p,h&&!u),m}(p?Bb:ME,u.length,p,h,S);!p&&it&&(u[be].providerFactory=yt),B_(m,a,l.length,0),l.push(T),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),u.push(yt),b.push(yt)}else B_(m,a,ne>-1?ne:be,AE(u[p?be:ne],S,!p&&h));!p&&h&&it&&u[be].componentProviders++}}}function B_(a,l,u,h){const p=qc(l),m=function If(a){return!!a.useClass}(l);if(p||m){const S=(m?Y(l.useClass):l).prototype.ngOnDestroy;if(S){const x=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const R=x.indexOf(u);-1===R?x.push(u,[h,S]):x[R+1].push(h,S)}else x.push(u,S)}}}function AE(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Vb(a,l,u,h){for(let p=u;p<h;p++)if(l[p]===a)return p;return-1}function ME(a,l,u,h){return Ub(this.multi,[])}function Bb(a,l,u,h){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=qr(u,u[1],this.providerFactory.index,h);m=T.slice(0,b),Ub(p,m);for(let S=b;S<T.length;S++)m.push(T[S])}else m=[],Ub(p,m);return m}function Ub(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function kE(a,l=[]){return u=>{u.providersResolver=(h,p)=>function Lb(a,l,u){const h=cn();if(h.firstCreatePass){const p=rr(a);V_(u,h.data,h.blueprint,p,!0),V_(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class Qh{}class Hb{}function U_(a,l){return new zb(a,l??null)}class zb extends Qh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AT(this);const h=qi(l);this._bootstrapComponents=fo(h.bootstrap),this._r3Injector=Ov(l,u,[{provide:Qh,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],de(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Gb extends Hb{constructor(l){super(),this.moduleType=l}create(l){return new zb(this.moduleType,l)}}class OE extends Qh{constructor(l,u,h){super(),this.componentFactoryResolver=new AT(this),this.instance=null;const p=new fd([...l,{provide:Qh,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],u||Hm(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Jf(a,l,u=null){return new OE(a,l,u).injector}let yA=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=px(0,u.type),p=h.length>0?Jf([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ct({token:a,providedIn:"environment",factory:()=>new a(Ye(pd))}),a})();function NE(a){a.getStandaloneInjector=l=>l.get(yA).getOrCreateStandaloneInjector(a)}function qb(a,l,u){const h=wi()+a,p=ye();return p[h]===Kt?Jo(p,h,u?l.call(u):l()):vd(p,h)}function $E(a,l,u,h){return qE(ye(),wi(),a,l,u,h)}function jE(a,l,u,h,p){return WE(ye(),wi(),a,l,u,h,p)}function Wb(a,l,u,h,p,m){return function Qb(a,l,u,h,p,m,b,T){const S=l+u;return i_(a,S,p,m,b)?Jo(a,S+3,T?h.call(T,p,m,b):h(p,m,b)):tg(a,S+3)}(ye(),wi(),a,l,u,h,p,m)}function Kl(a,l,u,h,p,m,b){return function z_(a,l,u,h,p,m,b,T,S){const x=l+u;return zs(a,x,p,m,b,T)?Jo(a,x+4,S?h.call(S,p,m,b,T):h(p,m,b,T)):tg(a,x+4)}(ye(),wi(),a,l,u,h,p,m,b)}function Kb(a,l,u,h,p,m,b,T){const S=wi()+a,x=ye(),R=zs(x,S,u,h,p,m);return Cr(x,S+4,b)||R?Jo(x,S+5,T?l.call(T,u,h,p,m,b):l(u,h,p,m,b)):vd(x,S+5)}function Zb(a,l,u,h,p,m,b,T,S){const x=wi()+a,R=ye(),B=zs(R,x,u,h,p,m);return bd(R,x+4,b,T)||B?Jo(R,x+6,S?l.call(S,u,h,p,m,b,T):l(u,h,p,m,b,T)):vd(R,x+6)}function Zl(a,l,u,h,p,m,b,T,S,x){const R=wi()+a,B=ye();let K=zs(B,R,u,h,p,m);return i_(B,R+4,b,T,S)||K?Jo(B,R+7,x?l.call(x,u,h,p,m,b,T,S):l(u,h,p,m,b,T,S)):vd(B,R+7)}function eg(a,l,u,h){return function KE(a,l,u,h,p,m){let b=l+u,T=!1;for(let S=0;S<p.length;S++)Cr(a,b++,p[S])&&(T=!0);return T?Jo(a,b,h.apply(m,p)):tg(a,b)}(ye(),wi(),a,l,u,h)}function tg(a,l){const u=a[l];return u===Kt?void 0:u}function qE(a,l,u,h,p,m){const b=l+u;return Cr(a,b,p)?Jo(a,b+1,m?h.call(m,p):h(p)):tg(a,b+1)}function WE(a,l,u,h,p,m,b){const T=l+u;return bd(a,T,p,m)?Jo(a,T+2,b?h.call(b,p,m):h(p,m)):tg(a,T+2)}function Ql(a,l){const u=cn();let h;const p=a+22;u.firstCreatePass?(h=function ng(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const m=h.factory||(h.factory=Ao(h.type)),b=$n(Kc);try{const T=Lo(!1),S=m();return Lo(T),function Kv(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,ye(),p,S),S}finally{$n(b)}}function ZE(a,l,u){const h=a+22,p=ye(),m=Oo(p,h);return Pd(p,h)?qE(p,wi(),l,m.transform,u,m):m.transform(u)}function QE(a,l,u,h){const p=a+22,m=ye(),b=Oo(m,p);return Pd(m,p)?WE(m,wi(),l,b.transform,u,h,b):b.transform(u,h)}function Pd(a,l){return a[1].data[l].pure}function Yb(a){return l=>{setTimeout(a,void 0,l)}}const Yr=class $_ extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let p=l,m=u||(()=>null),b=h;if(l&&"object"==typeof l){const S=l;p=S.next?.bind(S),m=S.error?.bind(S),b=S.complete?.bind(S)}this.__isAsync&&(m=Yb(m),p&&(p=Yb(p)),b&&(b=Yb(b)));const T=super.subscribe({next:p,error:m,complete:b});return l instanceof te.w0&&l.add(T),T}};function JE(){return this._results[zl()]()}class j_{get changes(){return this._changes||(this._changes=new Yr)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=zl(),h=j_.prototype;h[u]||(h[u]=JE)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const p=function vr(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function td(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],m=l[h];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yh=(()=>{class a{}return a.__NG_ELEMENT_ID__=Jb,a})();const ig=Yh,q_=class extends ig{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,p=Lh(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(p[19]=b.createEmbeddedView(h)),Qm(h,p,l),new Lf(p)}};function Jb(){return Jh(Pi(),ye())}function Jh(a,l){return 4&a.type?new q_(l,a,Nh(a,l)):null}let Xh=(()=>{class a{}return a.__NG_ELEMENT_ID__=EA,a})();function EA(){return W_(Pi(),ye())}const rg=Xh,XE=class extends rg{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Nh(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const l=Sl(this._hostTNode,this._hostLView);if($u(l)){const u=wc(l,this._hostLView),h=vc(l);return new Kr(u[1].data[h+8],u)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=eS(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let p,m;"number"==typeof h?p=h:null!=h&&(p=h.index,m=h.injector);const b=l.createEmbeddedView(u||{},m);return this.insert(b,p),b}createComponent(l,u,h,p,m){const b=l&&!function Mc(a){return"function"==typeof a}(l);let T;if(b)T=u;else{const B=u||{};T=B.index,h=B.injector,p=B.projectableNodes,m=B.environmentInjector||B.ngModuleRef}const S=b?l:new Vf(ln(l)),x=h||this.parentInjector;if(!m&&null==S.ngModule){const K=(b?x:this.parentInjector).get(pd,null);K&&(m=K)}const R=S.create(x,p,void 0,m);return this.insert(R.hostView,T),R}insert(l,u){const h=l._lView,p=h[1];if(function lc(a){return $r(a[3])}(h)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const B=h[3],K=new XE(B,B[6],B[3]);K.detach(K.indexOf(l))}}const m=this._adjustIndex(u),b=this._lContainer;!function en(a,l,u,h){const p=10+h,m=u.length;h>0&&(u[p-1][4]=l),h<m-10?(l[4]=u[p],kc(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function od(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const T=l[19];null!==T&&T.insertView(a),l[2]|=64}(p,h,b,m);const T=br(m,b),S=h[11],x=cd(S,b[7]);return null!==x&&function wm(a,l,u,h,p,m){h[0]=p,h[6]=l,ud(a,h,u,1,p,m)}(p,b[6],S,h,x,T),l.attachToViewContainerRef(),kc(Xb(b),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=eS(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=jo(this._lContainer,u);h&&(xl(Xb(this._lContainer),u),Cm(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=jo(this._lContainer,u);return h&&null!=xl(Xb(this._lContainer),u)?new Lf(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function eS(a){return a[8]}function Xb(a){return a[8]||(a[8]=[])}function W_(a,l){let u;const h=l[a.index];if($r(h))u=h;else{let p;if(8&a.type)p=si(h);else{const m=l[11];p=m.createComment("");const b=ui(a,l);Ha(m,cd(m,b),p,function Em(a,l){return a.nextSibling(l)}(m,b),!1)}l[a.index]=u=ET(h,l,p,a),Xm(l,u)}return new XE(u,a,l)}class sg{constructor(l){this.queryList=l,this.matches=null}clone(){return new sg(this.queryList)}setDirty(){this.queryList.setDirty()}}class ew{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let m=0;m<h;m++){const b=u.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new ew(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==sS(l,u).matches&&this.queries[u].setDirty()}}class tw{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class nw{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,p);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new nw(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class iw{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new iw(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(l,u,tS(u,m)),this.matchTNodeWithReadOption(l,u,Ec(u,l,m,!1,!1))}else h===Yh?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ec(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Df||p===Xh||p===Yh&&4&u.type)this.addMatch(u.index,-2);else{const m=Ec(u,l,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function tS(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function sw(a,l,u,h){return-1===u?function rw(a,l){return 11&a.type?Nh(a,l):4&a.type?Jh(a,l):null}(l,a):-2===u?function ow(a,l,u){return u===Df?Nh(l,a):u===Yh?Jh(l,a):u===Xh?W_(l,a):void 0}(a,l,h):qr(a,a[1],u,l)}function og(a,l,u,h){const p=l[19].queries[h];if(null===p.matches){const m=a.data,b=u.matches,T=[];for(let S=0;S<b.length;S+=2){const x=b[S];T.push(x<0?null:sw(l,m[x],b[S+1],u.metadata.read))}p.matches=T}return p.matches}function Yl(a,l,u,h){const p=a.queries.getByIndex(u),m=p.matches;if(null!==m){const b=og(a,l,p,u);for(let T=0;T<m.length;T+=2){const S=m[T];if(S>0)h.push(b[T/2]);else{const x=m[T+1],R=l[-S];for(let B=10;B<R.length;B++){const K=R[B];K[17]===K[3]&&Yl(K[1],K,x,h)}if(null!==R[9]){const B=R[9];for(let K=0;K<B.length;K++){const ne=B[K];Yl(ne[1],ne,x,h)}}}}}return h}function K_(a){const l=ye(),u=cn(),h=dh();Vu(h+1);const p=sS(u,h);if(a.dirty&&function gl(a){return 4==(4&a[2])}(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const m=p.crossesNgTemplate?Yl(u,l,h,[]):og(u,l,p,h);a.reset(m,Tx),a.notifyOnChanges()}return!0}return!1}function aw(a,l,u){const h=cn();h.firstCreatePass&&(ep(h,new tw(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),rS(h,ye(),l)}function nS(a,l,u,h){const p=cn();if(p.firstCreatePass){const m=Pi();ep(p,new tw(l,u,h),m.index),function lw(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}rS(p,ye(),u)}function ag(){return function iS(a,l){return a[19].queries[l].queryList}(ye(),dh())}function rS(a,l,u){const h=new j_(4==(4&u));yT(a,l,h,h.destroy),null===l[19]&&(l[19]=new ew),l[19].queries.push(new sg(h))}function ep(a,l,u){null===a.queries&&(a.queries=new nw),a.queries.track(new iw(l,u))}function sS(a,l){return a.queries.getByIndex(l)}function oS(a,l){return Jh(a,l)}function ny(...a){}const CS=new sn("Application Initializer");let hg=(()=>{class a{constructor(u){this.appInits=u,this.resolve=ny,this.reject=ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Id(m))u.push(m);else if(zT(m)){const b=new Promise((T,S)=>{m.subscribe({complete:T,error:S})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Ye(CS,8))},a.\u0275prov=ct({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const TS=new sn("AppId",{providedIn:"root",factory:function mw(){return`${pg()}${pg()}${pg()}`}});function pg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _w=new sn("Platform Initializer"),ys=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fg=new sn("appBootstrapListener"),iy=new sn("AnimationModuleType");let wo=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ct({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const gg=new sn("LocaleId",{providedIn:"root",factory:()=>dt(gg,St.Optional|St.SkipSelf)||function Bd(){return typeof $localize<"u"&&$localize.locale||Fn}()}),ES=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class LA{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let yw=(()=>{class a{compileModuleSync(u){return new Gb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=fo(qi(u).declarations).reduce((b,T)=>{const S=ln(T);return S&&b.push(new Vf(S)),b},[]);return new LA(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ct({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const bw=(()=>Promise.resolve(0))();function ry(a){typeof Zone>"u"?bw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class $s{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yr(!1),this.onMicrotaskEmpty=new Yr(!1),this.onStable=new Yr(!1),this.onError=new Yr(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function IS(){let a=Ut.requestAnimationFrame,l=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function HA(a){const l=()=>{!function xS(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ut,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,ww(a),a.isCheckStableRunning=!0,js(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),ww(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,m,b,T)=>{try{return AS(a),u.invokeTask(p,m,b,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),Cw(a)}},onInvoke:(u,h,p,m,b,T,S)=>{try{return AS(a),u.invoke(p,m,b,T,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),Cw(a)}},onHasTask:(u,h,p,m)=>{u.hasTask(p,m),h===p&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,ww(a),js(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,p,m)=>(u.handleError(p,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$s.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if($s.isInAngularZone())throw new fe(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,l,DS,ny,ny);try{return m.runTask(b,u,h)}finally{m.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const DS={};function js(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function ww(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function AS(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Cw(a){a._nesting--,js(a)}class zA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yr,this.onMicrotaskEmpty=new Yr,this.onStable=new Yr,this.onError=new Yr}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,p){return l.apply(u,h)}}const MS=new sn(""),kS=new sn("");let Tw,GA=(()=>{class a{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tw||(function $A(a){Tw=a}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$s.assertNotInAngularZone(),ry(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ry(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(Ye($s),Ye(RS),Ye(kS))},a.\u0275prov=ct({token:a,factory:a.\u0275fac}),a})(),RS=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Tw?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ct({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),au=null;const OS=new sn("AllowMultipleToken"),Ew=new sn("PlatformDestroyListeners");class WA{constructor(l,u){this.name=l,this.token=u}}function sy(a,l,u=[]){const h=`Platform: ${l}`,p=new sn(h);return(m=[])=>{let b=Sw();if(!b||b.injector.get(OS,!1)){const T=[...u,...m,{provide:p,useValue:!0}];a?a(T):function KA(a){if(au&&!au.get(OS,!1))throw new fe(400,!1);au=a;const l=a.get(FS);(function Co(a){const l=a.get(_w,null);l&&l.forEach(u=>u())})(a)}(function PS(a=[],l){return Ka.create({name:l,providers:[{provide:Iv,useValue:"platform"},{provide:Ew,useValue:new Set([()=>au=null])},...a]})}(T,h))}return function NS(a){const l=Sw();if(!l)throw new fe(401,!1);return l}()}}function Sw(){return au?.get(FS)??null}let FS=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function VS(a,l){let u;return u="noop"===a?new zA:("zone.js"===a?void 0:a)||new $s(l),u}(h?.ngZone,function LS(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:$s,useValue:p}];return p.run(()=>{const b=Ka.create({providers:m,parent:this.injector,name:u.moduleType.name}),T=u.create(b),S=T.injector.get(Wc,null);if(!S)throw new fe(402,!1);return p.runOutsideAngular(()=>{const x=p.onError.subscribe({next:R=>{S.handleError(R)}});T.onDestroy(()=>{Dw(this._modules,T),x.unsubscribe()})}),function Iw(a,l,u){try{const h=u();return Id(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(S,p,()=>{const x=T.injector.get(hg);return x.runInitializers(),x.donePromise.then(()=>(function Wh(a){st(a,"Expected localeId to be defined"),"string"==typeof a&&(qh=a.toLowerCase().replace(/_/g,"-"))}(T.injector.get(gg,Fn)||Fn),this._moduleDoBootstrap(T),T))})})}bootstrapModule(u,h=[]){const p=BS({},h);return function jA(a,l,u){const h=new Gb(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const h=u.injector.get(oy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new fe(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Ew,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Ye(Ka))},a.\u0275prov=ct({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function BS(a,l){return Array.isArray(l)?l.reduce(BS,a):{...a,...l}}let oy=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new L.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{$s.assertNotInAngularZone(),ry(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{$s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),x.unsubscribe()}});this.isStable=(0,se.T)(m,b.pipe((0,oe.B)()))}bootstrap(u,h){const p=u instanceof P0;if(!this._injector.get(hg).done)throw!p&&li(u),new fe(405,false);let b;b=p?u:this._injector.get(Wa).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const T=function qA(a){return a.isBoundToModule}(b)?void 0:this._injector.get(Qh),x=b.create(Ka.NULL,[],h||b.selector,T),R=x.location.nativeElement,B=x.injector.get(MS,null);return B?.registerApplication(R),x.onDestroy(()=>{this.detachView(x.hostView),Dw(this.components,x),B?.unregisterApplication(R)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Dw(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(fg,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Dw(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new fe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Ye($s),Ye(pd),Ye(Wc))},a.\u0275prov=ct({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Dw(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}function JA(){return!1}let XA=(()=>{class a{}return a.__NG_ELEMENT_ID__=eM,a})();function eM(a){return function tM(a,l,u){if(jr(a)&&!u){const h=Ai(a.index,l);return new Lf(h,h)}return 47&a.type?new Lf(l[16],l):null}(Pi(),ye(),16==(16&a))}class Rw{constructor(){}supports(l){return ge(l)}create(l){return new GS(l)}}const Ow=(a,l)=>l;class GS{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Ow}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,p=0,m=null;for(;u||h;){const b=!h||u&&u.currentIndex<$S(h,p,m)?u:h,T=$S(b,p,m),S=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)p++;else{m||(m=[]);const x=T-p,R=S-p;if(x!=R){for(let K=0;K<x;K++){const ne=K<m.length?m[K]:m[K]=0,be=ne+K;R<=be&&be<x&&(m[K]=ne+1)}m[b.previousIndex]=R-x}}T!==S&&l(b,T,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!ge(l))throw new fe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let T=0;T<this.length;T++)m=l[T],b=this._trackByFn(T,m),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,m,b,T)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,T),h=!0),u=u._next}else p=0,function P(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[zl()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,T=>{b=this._trackByFn(p,T),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,T,b,p)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,b,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,p)):l=this._addAfter(new cy(u,h),m,p),l}_verifyReinsertion(l,u,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new aM),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aM),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class cy{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oM{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class aM{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new oM,this.map.set(u,h)),h.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $S(a,l,u){const h=a.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+l+p}class uy{constructor(){}supports(l){return l instanceof Map||Hs(l)}create(){return new RP}}class RP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Hs(l)))throw new fe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const h=new OP(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class OP{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jS(){return new Nw([new Rw])}let Nw=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||jS()),deps:[[a,new D,new nd]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new fe(901,!1)}}return a.\u0275prov=ct({token:a,providedIn:"root",factory:jS}),a})();function lM(){return new qS([new uy])}let qS=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||lM()),deps:[[a,new D,new nd]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new fe(901,!1)}}return a.\u0275prov=ct({token:a,providedIn:"root",factory:lM}),a})();const FP=sy(null,"core",[]);let Pw=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Ye(oy))},a.\u0275mod=Wn({type:a}),a.\u0275inj=Ln({}),a})();function WS(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(vt,Se,V)=>{V.d(Se,{Z:()=>Xe});var s=V(2090),te=V(4859),L=V(9681),se=V(1877);class oe{constructor(fe,Me){this._delegate=fe,this.firebase=Me,(0,L._addComponent)(fe,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(fe,Me=L._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(fe);return!$e.isInitialized()&&"EXPLICIT"===(null===(Ae=$e.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Me})}_removeServiceInstance(fe,Me=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Me)}_addComponent(fe){(0,L._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,L._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ue(){const _t=function de(_t){const fe={},Me={__esModule:!0,initializeApp:function De(Be,G={}){const Ce=L.initializeApp(Be,G);if((0,s.r3)(fe,Ce.name))return fe[Ce.name];const Ke=new _t(Ce,Me);return fe[Ce.name]=Ke,Ke},app:$e,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Re(Be){const G=Be.name,Ce=G.replace("-compat","");if(L._registerComponent(Be)&&"PUBLIC"===Be.type){const Ke=(nt=$e())=>{if("function"!=typeof nt[Ce])throw me.create("invalid-app-argument",{appName:G});return nt[Ce]()};void 0!==Be.serviceProps&&(0,s.ZB)(Ke,Be.serviceProps),Me[Ce]=Ke,_t.prototype[Ce]=function(...nt){return this._getService.bind(this,G).apply(this,Be.multipleInstances?nt:[])}}return"PUBLIC"===Be.type?Me[Ce]:null},removeApp:function Ae(Be){delete fe[Be]},useAsService:function Ue(Be,G){return"serverAuth"===G?null:G},modularAPIs:L}};function $e(Be){if(!(0,s.r3)(fe,Be=Be||L._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Be});return fe[Be]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Te(){return Object.keys(fe).map(Be=>fe[Be])}}),$e.App=_t,Me}(oe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function fe(Me){(0,s.ZB)(_t,Me)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),_t}(),q=new se.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=j;!function xe(_t){(0,L.registerVersion)("@firebase/app-compat","0.2.3",_t)}()},9681:(vt,Se,V)=>{V.r(Se),V.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>pr,_DEFAULT_ENTRY_NAME:()=>je,_addComponent:()=>gn,_addOrOverwriteComponent:()=>Mt,_apps:()=>st,_clearComponents:()=>Ln,_components:()=>tt,_getProvider:()=>ct,_registerComponent:()=>un,_removeServiceInstance:()=>Ht,deleteApp:()=>no,getApp:()=>Dr,getApps:()=>tr,initializeApp:()=>to,onLog:()=>St,registerVersion:()=>fr,setLogLevel:()=>Ss});var s=V(5861),te=V(4859),L=V(1877),se=V(2090),oe=V(8766);class re{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function me(Ye){return"VERSION"===Ye.getComponent()?.type}(dt)){const Ot=dt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(dt=>dt).join(" ")}}const de="@firebase/app",j=new L.Yd("@firebase/app"),je="[DEFAULT]",Qe={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,tt=new Map;function gn(Ye,Ie){try{Ye.container.addComponent(Ie)}catch(dt){j.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ye.name}`,dt)}}function Mt(Ye,Ie){Ye.container.addOrOverwriteComponent(Ie)}function un(Ye){const Ie=Ye.name;if(tt.has(Ie))return j.debug(`There were multiple attempts to register component ${Ie}.`),!1;tt.set(Ie,Ye);for(const dt of st.values())gn(dt,Ye);return!0}function ct(Ye,Ie){const dt=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),Ye.container.getProvider(Ie)}function Ht(Ye,Ie,dt=je){ct(Ye,Ie).clearInstance(dt)}function Ln(){tt.clear()}const Vn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bn{constructor(Ie,dt,Ot){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const pr="9.17.1";function to(Ye,Ie={}){let dt=Ye;"object"!=typeof Ie&&(Ie={name:Ie});const Ot=Object.assign({name:je,automaticDataCollectionEnabled:!1},Ie),Vt=Ot.name;if("string"!=typeof Vt||!Vt)throw Vn.create("bad-app-name",{appName:String(Vt)});if(dt||(dt=(0,se.aH)()),!dt)throw Vn.create("no-options");const Gt=st.get(Vt);if(Gt){if((0,se.vZ)(dt,Gt.options)&&(0,se.vZ)(Ot,Gt.config))return Gt;throw Vn.create("duplicate-app",{appName:Vt})}const $=new te.H0(Vt);for(const Z of tt.values())$.addComponent(Z);const H=new Bn(dt,Ot,$);return st.set(Vt,H),H}function Dr(Ye=je){const Ie=st.get(Ye);if(!Ie&&Ye===je)return to();if(!Ie)throw Vn.create("no-app",{appName:Ye});return Ie}function tr(){return Array.from(st.values())}function no(Ye){return In.apply(this,arguments)}function In(){return(In=(0,s.Z)(function*(Ye){const Ie=Ye.name;st.has(Ie)&&(st.delete(Ie),yield Promise.all(Ye.container.getProviders().map(dt=>dt.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function fr(Ye,Ie,dt){var Ot;let Vt=null!==(Ot=Qe[Ye])&&void 0!==Ot?Ot:Ye;dt&&(Vt+=`-${dt}`);const Gt=Vt.match(/\s|\//),$=Ie.match(/\s|\//);if(Gt||$){const H=[`Unable to register library "${Vt}" with version "${Ie}":`];return Gt&&H.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Gt&&$&&H.push("and"),$&&H.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void j.warn(H.join(" "))}un(new te.wA(`${Vt}-version`,()=>({library:Vt,version:Ie}),"VERSION"))}function St(Ye,Ie){if(null!==Ye&&"function"!=typeof Ye)throw Vn.create("invalid-log-argument");(0,L.Am)(Ye,Ie)}function Ss(Ye){(0,L.Ub)(Ye)}const Gi="firebase-heartbeat-store";let io=null;function Ut(){return io||(io=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(Ye,Ie)=>{0===Ie&&Ye.createObjectStore(Gi)}}).catch(Ye=>{throw Vn.create("idb-open",{originalErrorMessage:Ye.message})})),io}function Rt(){return(Rt=(0,s.Z)(function*(Ye){try{return(yield Ut()).transaction(Gi).objectStore(Gi).get(Un(Ye))}catch(Ie){if(Ie instanceof se.ZR)j.warn(Ie.message);else{const dt=Vn.create("idb-get",{originalErrorMessage:Ie?.message});j.warn(dt.message)}}})).apply(this,arguments)}function Is(Ye,Ie){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(Ye,Ie){try{const Ot=(yield Ut()).transaction(Gi,"readwrite");return yield Ot.objectStore(Gi).put(Ie,Un(Ye)),Ot.done}catch(dt){if(dt instanceof se.ZR)j.warn(dt.message);else{const Ot=Vn.create("idb-set",{originalErrorMessage:dt?.message});j.warn(Ot.message)}}})).apply(this,arguments)}function Un(Ye){return`${Ye.name}!${Ye.options.appId}`}class pa{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new an(dt),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Ie=this;return(0,s.Z)(function*(){const Ot=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=fn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Ie._heartbeatsCache.heartbeats.some(Gt=>Gt.date===Vt))return Ie._heartbeatsCache.heartbeats.push({date:Vt,agent:Ot}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Gt=>{const $=new Date(Gt.date).valueOf();return Date.now()-$<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,s.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const dt=fn(),{heartbeatsToSend:Ot,unsentEntries:Vt}=function os(Ye,Ie=1024){const dt=[];let Ot=Ye.slice();for(const Vt of Ye){const Gt=dt.find($=>$.agent===Vt.agent);if(Gt){if(Gt.dates.push(Vt.date),$i(dt)>Ie){Gt.dates.pop();break}}else if(dt.push({agent:Vt.agent,dates:[Vt.date]}),$i(dt)>Ie){dt.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:dt,unsentEntries:Ot}}(Ie._heartbeatsCache.heartbeats),Gt=(0,se.L)(JSON.stringify({version:2,heartbeats:Ot}));return Ie._heartbeatsCache.lastSentHeartbeatDate=dt,Vt.length>0?(Ie._heartbeatsCache.heartbeats=Vt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Gt})()}}function fn(){return(new Date).toISOString().substring(0,10)}class an{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,s.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function xt(Ye){return Rt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var dt=this;return(0,s.Z)(function*(){var Ot;if(yield dt._canUseIndexedDBPromise){const Gt=yield dt.read();return Is(dt.app,{lastSentHeartbeatDate:null!==(Ot=Ie.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Gt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var dt=this;return(0,s.Z)(function*(){var Ot;if(yield dt._canUseIndexedDBPromise){const Gt=yield dt.read();return Is(dt.app,{lastSentHeartbeatDate:null!==(Ot=Ie.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Ie.heartbeats]})}})()}}function $i(Ye){return(0,se.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function as(Ye){un(new te.wA("platform-logger",Ie=>new re(Ie),"PRIVATE")),un(new te.wA("heartbeat",Ie=>new pa(Ie),"PRIVATE")),fr(de,"0.9.3",Ye),fr(de,"0.9.3","esm2017"),fr("fire-js","")}("")},4859:(vt,Se,V)=>{V.d(Se,{H0:()=>de,wA:()=>L,zt:()=>oe});var s=V(5861),te=V(2090);class L{constructor(j,q,Y){this.name=j,this.instanceFactory=q,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class oe{constructor(j,q){this.name=j,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const q=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(q)){const Y=new te.BH;if(this.instancesDeferred.set(q,Y),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:q});Ze&&Y.resolve(Ze)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(j){var q;const Y=this.normalizeInstanceIdentifier(j?.identifier),Ze=null!==(q=j?.optional)&&void 0!==q&&q;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(xe){if(Ze)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function me(ue){return"EAGER"===ue.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[q,Y]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(q);try{const xe=this.getOrInitializeService({instanceIdentifier:Ze});Y.resolve(xe)}catch{}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,s.Z)(function*(){const q=Array.from(j.instances.values());yield Promise.all([...q.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...q.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:q={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Y,options:q});for(const[xe,Xe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(xe)&&Xe.resolve(Ze);return Ze}onInit(j,q){var Y;const Ze=this.normalizeInstanceIdentifier(q),xe=null!==(Y=this.onInitCallbacks.get(Ze))&&void 0!==Y?Y:new Set;xe.add(j),this.onInitCallbacks.set(Ze,xe);const Xe=this.instances.get(Ze);return Xe&&j(Xe,Ze),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,q){const Y=this.onInitCallbacks.get(q);if(Y)for(const Ze of Y)try{Ze(j,q)}catch{}}getOrInitializeService({instanceIdentifier:j,options:q={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=j,ue===se?void 0:ue),options:q}),this.instances.set(j,Y),this.instancesOptions.set(j,q),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch{}var ue;return Y||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const q=this.getProvider(j.name);if(q.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);q.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const q=new oe(j,this);return this.providers.set(j,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,V)=>{V.d(Se,{Am:()=>ue,Ub:()=>de,Yd:()=>me,in:()=>te});const s=[];var te=(()=>{return(j=te||(te={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",te;var j})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},se=te.INFO,oe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(j,q,...Y)=>{if(q<j.logLevel)return;const Ze=(new Date).toISOString(),xe=oe[q];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[xe](`[${Ze}]  ${j.name}:`,...Y)};class me{constructor(q){this.name=q,this._logLevel=se,this._logHandler=re,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in te))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?L[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...q),this._logHandler(this,te.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...q),this._logHandler(this,te.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,te.INFO,...q),this._logHandler(this,te.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,te.WARN,...q),this._logHandler(this,te.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...q),this._logHandler(this,te.ERROR,...q)}}function de(j){s.forEach(q=>{q.setLogLevel(j)})}function ue(j,q){for(const Y of s){let Ze=null;q&&q.level&&(Ze=L[q.level]),Y.userLogHandler=null===j?null:(xe,Xe,..._t)=>{const fe=_t.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Xe>=(Ze??xe.logLevel)&&j({level:te[Xe].toLowerCase(),message:fe,args:_t,type:xe.name})}}}},259:(vt,Se,V)=>{V.d(Se,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=V(9681);(0,s.registerVersion)("firebase","9.17.1","app")},9260:(vt,Se,V)=>{V.d(Se,{Z:()=>s.Z});var s=V(3942);s.Z.registerVersion("firebase","9.17.1","app-compat")},407:(vt,Se,V)=>{V.r(Se);var s=V(5861),te=V(3942),L=V(2090),se=V(9681),oe=V(1877),re=V(655),me=V(4859);const Xe=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new oe.Yd("@firebase/auth");function $e(v,...g){Ae.logLevel<=oe.in.ERROR&&Ae.error(`Auth (${se.SDK_VERSION}): ${v}`,...g)}function De(v,...g){throw Be(v,...g)}function Te(v,...g){return Be(v,...g)}function Re(v,g,_){const C=Object.assign(Object.assign({},_t()),{[g]:_});return new L.LL("auth","Firebase",C).create(g,{appName:v.name})}function Ue(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&De(v,"argument-error"),Re(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(v,...g){if("string"!=typeof v){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return fe.create(v,...g)}function G(v,g,..._){if(!v)throw Be(g,..._)}function Ce(v){const g="INTERNAL ASSERTION FAILED: "+v;throw $e(g),new Error(g)}function Ke(v,g){v||Ce(g)}const nt=new Map;function Ct(v){Ke(v instanceof Function,"Expected a class definition");let g=nt.get(v);return g?(Ke(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,nt.set(v,g),g)}function he(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function we(){return"http:"===Oe()||"https:"===Oe()}function Oe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class st{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ke(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(we()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(v,g){Ke(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class gn{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new st(3e4,6e4);function ct(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Ht(v,g,_,C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(v,g,_,C,A={}){return Gn(v,A,(0,s.Z)(function*(){let N={},Q={};C&&("GET"===g?Q=C:N={body:JSON.stringify(C)});const pe=(0,L.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),Je=yield v._getAdditionalHeaders();return Je["Content-Type"]="application/json",v.languageCode&&(Je["X-Firebase-Locale"]=v.languageCode),gn.fetch()(to(v,v.config.apiHost,_,pe),Object.assign({method:g,headers:Je,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Gn(v,g,_){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(v,g,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Mt),g);try{const A=new Dr(v),N=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const Q=yield N.json();if("needConfirmation"in Q)throw tr(v,"account-exists-with-different-credential",Q);if(N.ok&&!("errorMessage"in Q))return Q;{const pe=N.ok?Q.errorMessage:Q.error.message,[Je,ht]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw tr(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Je)throw tr(v,"email-already-in-use",Q);if("USER_DISABLED"===Je)throw tr(v,"user-disabled",Q);const Pt=C[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw Re(v,Pt,ht);De(v,Pt)}}catch(A){if(A instanceof L.ZR)throw A;De(v,"network-request-failed")}})).apply(this,arguments)}function Bn(v,g,_,C){return pr.apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(v,g,_,C,A={}){const N=yield Ht(v,g,_,C,A);return"mfaPendingCredential"in N&&De(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function to(v,g,_,C){const A=`${g}${_}?${C}`;return v.config.emulator?tt(v.config,A):`${v.config.apiScheme}://${A}`}class Dr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Te(this.auth,"network-request-failed")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(v,g,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const A=Te(v,g,C);return A.customData._tokenResponse=_,A}function In(){return(In=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function fr(v,g){return St.apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ss(v,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function $n(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ut(){return(Ut=(0,s.Z)(function*(v,g=!1){const _=(0,L.m9)(v),C=yield _.getIdToken(g),A=Rt(C);G(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,Q=N?.sign_in_provider;return{claims:A,token:C,authTime:$n(xt(A.auth_time)),issuedAtTime:$n(xt(A.iat)),expirationTime:$n(xt(A.exp)),signInProvider:Q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(v){return 1e3*Number(v)}function Rt(v){const[g,_,C]=v.split(".");if(void 0===g||void 0===_||void 0===C)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,L.tV)(_);return A?JSON.parse(A):($e("Failed to decode base64 JWT payload"),null)}catch(A){return $e("Caught error parsing JWT payload as JSON",A?.toString()),null}}function jn(v,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof L.ZR&&zr(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function zr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ni{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class pa{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=$n(this.lastLoginAt),this.creationTime=$n(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(v){return os.apply(this,arguments)}function os(){return(os=(0,s.Z)(function*(v){var g;const _=v.auth,C=yield v.getIdToken(),A=yield jn(v,Ss(_,{idToken:C}));G(A?.users.length,_,"internal-error");const N=A.users[0];v._notifyReloadListener(N);const Q=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?Ye(N.providerUserInfo):[],pe=as(v.providerData,Q),Pt=!!v.isAnonymous&&!(v.email&&N.passwordHash||pe?.length),It={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:pe,metadata:new pa(N.createdAt,N.lastLoginAt),isAnonymous:Pt};Object.assign(v,It)})).apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(v){const g=(0,L.m9)(v);yield fn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function as(v,g){return[...v.filter(C=>!g.some(A=>A.providerId===C.providerId)),...g]}function Ye(v){return v.map(g=>{var{providerId:_}=g,C=(0,re._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function dt(){return(dt=(0,s.Z)(function*(v,g){const _=yield Gn(v,{},(0,s.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:N}=v.config,Q=to(v,A,"/v1/token",`key=${N}`),pe=yield v._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",gn.fetch()(Q,{method:"POST",headers:pe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){G(g.idToken,"internal-error"),G(typeof g.idToken<"u","internal-error"),G(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Is(v){const g=Rt(v);return G(g,"internal-error"),G(typeof g.exp<"u","internal-error"),G(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,s.Z)(function*(){return G(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,s.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:Q}=yield function Ie(v,g){return dt.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(A,N,Number(Q))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:A,expirationTime:N}=_,Q=new Ot;return C&&(G("string"==typeof C,"internal-error",{appName:g}),Q.refreshToken=C),A&&(G("string"==typeof A,"internal-error",{appName:g}),Q.accessToken=A),N&&(G("number"==typeof N,"internal-error",{appName:g}),Q.expirationTime=N),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function Vt(v,g){G("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class Gt{constructor(g){var{uid:_,auth:C,stsTokenManager:A}=g,N=(0,re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new pa(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,s.Z)(function*(){const C=yield jn(_,_.stsTokenManager.getToken(_.auth,g));return G(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function io(v){return Ut.apply(this,arguments)}(this,g)}reload(){return function an(v){return $i.apply(this,arguments)}(this)}_assign(g){this!==g&&(G(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Gt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,s.Z)(function*(){let A=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),A=!0),_&&(yield fn(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,s.Z)(function*(){const _=yield g.getIdToken();return yield jn(g,function no(v,g){return In.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,A,N,Q,pe,Je,ht,Pt;const It=null!==(C=_.displayName)&&void 0!==C?C:void 0,ki=null!==(A=_.email)&&void 0!==A?A:void 0,Ns=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,Mh=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,km=null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,hd=null!==(Je=_._redirectEventId)&&void 0!==Je?Je:void 0,Ps=null!==(ht=_.createdAt)&&void 0!==ht?ht:void 0,$c=null!==(Pt=_.lastLoginAt)&&void 0!==Pt?Pt:void 0,{uid:vf,emailVerified:bf,isAnonymous:Rm,providerData:Om,stsTokenManager:Nm}=_;G(vf&&Nm,g,"internal-error");const Pm=Ot.fromJSON(this.name,Nm);G("string"==typeof vf,g,"internal-error"),Vt(It,g.name),Vt(ki,g.name),G("boolean"==typeof bf,g,"internal-error"),G("boolean"==typeof Rm,g,"internal-error"),Vt(Ns,g.name),Vt(Mh,g.name),Vt(km,g.name),Vt(hd,g.name),Vt(Ps,g.name),Vt($c,g.name);const Bl=new Gt({uid:vf,auth:g,email:ki,emailVerified:bf,displayName:It,isAnonymous:Rm,photoURL:Mh,phoneNumber:Ns,tenantId:km,stsTokenManager:Pm,createdAt:Ps,lastLoginAt:$c});return Om&&Array.isArray(Om)&&(Bl.providerData=Om.map(Fs=>Object.assign({},Fs))),hd&&(Bl._redirectEventId=hd),Bl}static _fromIdTokenResponse(g,_,C=!1){return(0,s.Z)(function*(){const A=new Ot;A.updateFromServerResponse(_);const N=new Gt({uid:_.localId,auth:g,stsTokenManager:A,isAnonymous:C});return yield fn(N),N})()}}const H=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,C){var A=this;return(0,s.Z)(function*(){A.storage[_]=C})()}_get(_){var C=this;return(0,s.Z)(function*(){const A=C.storage[_];return void 0===A?null:A})()}_remove(_){var C=this;return(0,s.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function Z(v,g,_){return`firebase:${v}:${g}:${_}`}class _e{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:A,name:N}=this.auth;this.fullUserKey=Z(this.userKey,A.apiKey,N),this.fullPersistenceKey=Z("persistence",A.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Gt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,s.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,s.Z)(function*(){if(!_.length)return new _e(Ct(H),g,C);const A=(yield Promise.all(_.map(function(){var ht=(0,s.Z)(function*(Pt){if(yield Pt._isAvailable())return Pt});return function(Pt){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let N=A[0]||Ct(H);const Q=Z(C,g.config.apiKey,g.name);let pe=null;for(const ht of _)try{const Pt=yield ht._get(Q);if(Pt){const It=Gt._fromJSON(g,Pt);ht!==N&&(pe=It),N=ht;break}}catch{}const Je=A.filter(ht=>ht._shouldAllowMigration);return N._shouldAllowMigration&&Je.length?(N=Je[0],pe&&(yield N._set(Q,pe.toJSON())),yield Promise.all(_.map(function(){var ht=(0,s.Z)(function*(Pt){if(Pt!==N)try{yield Pt._remove(Q)}catch{}});return function(Pt){return ht.apply(this,arguments)}}())),new _e(N,g,C)):new _e(N,g,C)})()}}function ie(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(qn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ft(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(xi(g))return"Blackberry";if(Zt(g))return"Webos";if($t(g))return"Safari";if((g.includes("chrome/")||rn(g))&&!g.includes("edge/"))return"Chrome";if(At(g))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ft(v=(0,L.z$)()){return/firefox\//i.test(v)}function $t(v=(0,L.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function rn(v=(0,L.z$)()){return/crios\//i.test(v)}function qn(v=(0,L.z$)()){return/iemobile/i.test(v)}function At(v=(0,L.z$)()){return/android/i.test(v)}function xi(v=(0,L.z$)()){return/blackberry/i.test(v)}function Zt(v=(0,L.z$)()){return/webos/i.test(v)}function vi(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Fp(v=(0,L.z$)()){return vi(v)||At(v)||Zt(v)||xi(v)||/windows phone/i.test(v)||qn(v)}function nc(v,g=[]){let _;switch(v){case"Browser":_=ie((0,L.z$)());break;case"Worker":_=`${ie((0,L.z$)())}-${v}`;break;default:_=v}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${se.SDK_VERSION}/${C}`}class wu{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=N=>new Promise((Q,pe)=>{try{Q(g(N))}catch(Je){pe(Je)}});C.onAbort=_,this.queue.push(C);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===g)return;const C=[];try{for(const A of _.queue)yield A(g),A.onAbort&&C.push(A.onAbort)}catch(A){C.reverse();for(const N of C)try{N()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class eh{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new th(this),this.idTokenSubscription=new th(this),this.beforeStateQueue=new wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=Ct(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var A,N;if(!C._deleted&&(C.persistenceManager=yield _e.create(C,g),!C._deleted)){if(null!==(A=C._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,s.Z)(function*(){var C;const A=yield _.assertedPersistence.getCurrentUser();let N=A,Q=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const pe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Je=N?._redirectEventId,ht=yield _.tryRedirectSignIn(g);(!pe||pe===Je)&&ht?.user&&(N=ht.user,Q=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(N)}catch(pe){N=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(pe))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return G(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var _=this;return(0,s.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,s.Z)(function*(){try{yield fn(g)}catch(C){if("auth/network-request-failed"!==C?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Qe(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){const C=g?(0,L.m9)(g):null;return C&&G(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return g&&G(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(Ct(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,s.Z)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(_);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&Ct(g)||_._popupRedirectResolver;G(C,_,"argument-error"),_.redirectPersistenceManager=yield _e.create(_,[Ct(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,s.Z)(function*(){var C,A;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,s.Z)(function*(){if(g===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,A){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return G(Q,this,"internal-error"),Q.then(()=>N(this.currentUser)),"function"==typeof _?g.addObserver(_,C,A):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=nc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(C["X-Firebase-Client"]=A),C})()}}function Wn(v){return(0,L.m9)(v)}class th{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cl(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ln(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class ii{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,_){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function li(v,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:resetPassword",ct(v,g))})).apply(this,arguments)}function xr(v,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function gt(v,g){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",ct(v,g))})).apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithPassword",ct(v,g))})).apply(this,arguments)}function ci(v,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:sendOobCode",ct(v,g))})).apply(this,arguments)}function Kn(v,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(v,g){return ci(v,g)})).apply(this,arguments)}function Dn(v,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(v,g){return ci(v,g)})).apply(this,arguments)}function Tu(v,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(v,g){return ci(v,g)})).apply(this,arguments)}function Eu(v,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,s.Z)(function*(v,g){return ci(v,g)})).apply(this,arguments)}function ma(){return(ma=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithEmailLink",ct(v,g))})).apply(this,arguments)}function Ar(){return(Ar=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithEmailLink",ct(v,g))})).apply(this,arguments)}class Cn extends ii{constructor(g,_,C,A=null){super("password",C),this._email=g,this._password=_,this._tenantId=A}static _fromEmailAndPassword(g,_){return new Cn(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new Cn(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function nr(v,g){return Ds.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Wi(v,g){return ma.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:De(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return xr(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Io(v,g){return Ar.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:De(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function xn(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithIdp",ct(v,g))})).apply(this,arguments)}class Mr extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Mr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):De("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:A}=_,N=(0,re._T)(_,["providerId","signInMethod"]);if(!C||!A)return null;const Q=new Mr(C,A);return Q.idToken=N.idToken||void 0,Q.accessToken=N.accessToken||void 0,Q.secret=N.secret,Q.nonce=N.nonce,Q.pendingToken=N.pendingToken||null,Q}_getIdTokenResponse(g){return xn(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,xn(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,xn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,L.xO)(_)}return g}}function nh(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:sendVerificationCode",ct(v,g))})).apply(this,arguments)}function ir(){return(ir=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,g))})).apply(this,arguments)}function ih(){return(ih=(0,s.Z)(function*(v,g){const _=yield Bn(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,g));if(_.temporaryProof)throw tr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const gr={USER_NOT_FOUND:"user-not-found"};function dl(){return(dl=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),gr)})).apply(this,arguments)}class jr extends ii{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new jr({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new jr({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Do(v,g){return ir.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Ki(v,g){return ih.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function $r(v,g){return dl.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:A}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:A,temporaryProof:N}=g;return C||_||A||N?new jr({verificationId:_,verificationCode:C,phoneNumber:A,temporaryProof:N}):null}}class hl{constructor(g){var _,C,A,N,Q,pe;const Je=(0,L.zd)((0,L.pd)(g)),ht=null!==(_=Je.apiKey)&&void 0!==_?_:null,Pt=null!==(C=Je.oobCode)&&void 0!==C?C:null,It=function Su(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Je.mode)&&void 0!==A?A:null);G(ht&&Pt&&It,"argument-error"),this.apiKey=ht,this.operation=It,this.code=Pt,this.continueUrl=null!==(N=Je.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Q=Je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(pe=Je.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const _=function rr(v){const g=(0,L.zd)((0,L.pd)(v)).link,_=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||_||g||v}(g);try{return new hl(_)}catch{return null}}}let Iu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return Cn._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const A=hl.parseLink(C);return G(A,"argument-error"),Cn._fromEmailAndCode(_,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class cs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ya extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class pl extends ya{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return G("providerId"in _&&"signInMethod"in _,"argument-error"),Mr._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return G(g.idToken||g.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return pl.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return pl.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:N,nonce:Q,providerId:pe}=g;if(!C&&!A&&!_&&!N||!pe)return null;try{return new pl(pe)._credential({idToken:_,accessToken:C,nonce:Q,pendingToken:N})}catch{return null}}}let Du=(()=>{class v extends ya{constructor(){super("facebook.com")}static credential(_){return Mr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Vp=(()=>{class v extends ya{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Mr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:A}=_;if(!C&&!A)return null;try{return v.credential(C,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Bp=(()=>{class v extends ya{constructor(){super("github.com")}static credential(_){return Mr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class va extends ii{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return xn(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,xn(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,xn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:A,pendingToken:N}=_;return C&&A&&N&&C===A?new va(C,N):null}static _create(g,_){return new va(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class us extends cs{constructor(g){G(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return us.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return us.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=va.fromJSON(g);return G(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return va._create(C,_)}catch{return null}}}let im=(()=>{class v extends ya{constructor(){super("twitter.com")}static credential(_,C){return Mr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=_;if(!C||!A)return null;try{return v.credential(C,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function vn(v,g){return xu.apply(this,arguments)}function xu(){return(xu=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signUp",ct(v,g))})).apply(this,arguments)}class sr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,A=!1){return(0,s.Z)(function*(){const N=yield Gt._fromIdTokenResponse(g,C,A),Q=Au(C);return new sr({user:N,providerId:Q,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const A=Au(C);return new sr({user:g,providerId:A,_tokenResponse:C,operationType:_})})()}}function Au(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Up(){return(Up=(0,s.Z)(function*(v){var g;const _=Wn(v);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new sr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield vn(_,{returnSecureToken:!0}),A=yield sr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class ic extends L.ZR{constructor(g,_,C,A){var N;super(_.code,_.message),this.operationType=C,this.user=A,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,A){return new ic(g,_,C,A)}}function Ao(v,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ic._fromErrorAndOperation(v,N,g,C):N})}function Mo(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function ba(){return(ba=(0,s.Z)(function*(v,g){const _=(0,L.m9)(v);yield ko(!0,_,g);const{providerUserInfo:C}=yield fr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),A=Mo(C||[]);return _.providerData=_.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function sc(v,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(v,g,_=!1){const C=yield jn(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return sr._forOperation(v,"link",C)})).apply(this,arguments)}function ko(v,g,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(v,g,_){yield fn(g);const A=!1===v?"provider-already-linked":"no-such-provider";G(Mo(g.providerData).has(_)===v,g.auth,A)})).apply(this,arguments)}function sh(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(v,g,_=!1){const{auth:C}=v,A="reauthenticate";try{const N=yield jn(v,Ao(C,A,g,v),_);G(N.idToken,C,"internal-error");const Q=Rt(N.idToken);G(Q,C,"internal-error");const{sub:pe}=Q;return G(v.uid===pe,C,"user-mismatch"),sr._forOperation(v,A,N)}catch(N){throw"auth/user-not-found"===N?.code&&De(C,"user-mismatch"),N}})).apply(this,arguments)}function Ta(v,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(v,g,_=!1){const C="signIn",A=yield Ao(v,C,g),N=yield sr._fromIdTokenResponse(v,C,A);return _||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Jn(v,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(v,g){return Ta(Wn(v),g)})).apply(this,arguments)}function si(v,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(v,g){const _=(0,L.m9)(v);return yield ko(!1,_,g.providerId),sc(_,g)})).apply(this,arguments)}function Ro(v,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(v,g){return sh((0,L.m9)(v),g)})).apply(this,arguments)}function Mu(v,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,s.Z)(function*(v,g){return Bn(v,"POST","/v1/accounts:signInWithCustomToken",ct(v,g))})).apply(this,arguments)}function Ai(){return(Ai=(0,s.Z)(function*(v,g){const _=Wn(v),C=yield Mu(_,{token:g,returnSecureToken:!0}),A=yield sr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class gl{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Sa._fromServerResponse(g,_):De(g,"internal-error")}}class Sa extends gl{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Sa(_)}}function lc(v,g,_){var C;G((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),G(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(G(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(G(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function ml(){return(ml=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v),A={requestType:"PASSWORD_RESET",email:g};_&&lc(C,A,_),yield Dn(C,A)})).apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(v,g,_){yield li((0,L.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function oh(){return(oh=(0,s.Z)(function*(v,g){yield gt((0,L.m9)(v),{oobCode:g})})).apply(this,arguments)}function uc(v,g){return ku.apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(v,g){const _=(0,L.m9)(v),C=yield li(_,{oobCode:g}),A=C.requestType;switch(G(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(C.mfaInfo,_,"internal-error");default:G(C.email,_,"internal-error")}let N=null;return C.mfaInfo&&(N=gl._fromServerResponse(Wn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function dc(){return(dc=(0,s.Z)(function*(v,g){const{data:_}=yield uc((0,L.m9)(v),g);return _.email})).apply(this,arguments)}function Ou(){return(Ou=(0,s.Z)(function*(v,g,_){const C=Wn(v),A=yield vn(C,{returnSecureToken:!0,email:g,password:_}),N=yield sr._fromIdTokenResponse(C,"signIn",A);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function Nu(){return(Nu=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v),A={requestType:"EMAIL_SIGNIN",email:g};G(_.handleCodeInApp,C,"argument-error"),_&&lc(C,A,_),yield Tu(C,A)})).apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v),A=Iu.credentialWithLink(g,_||he());return G(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Jn(C,A)})).apply(this,arguments)}function hc(v,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:createAuthUri",ct(v,g))})).apply(this,arguments)}function fc(){return(fc=(0,s.Z)(function*(v,g){const C={identifier:g,continueUri:we()?he():"http://localhost"},{signinMethods:A}=yield hc((0,L.m9)(v),C);return A||[]})).apply(this,arguments)}function Pu(){return(Pu=(0,s.Z)(function*(v,g){const _=(0,L.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&lc(_.auth,A,g);const{email:N}=yield Kn(_.auth,A);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&lc(C.auth,N,_);const{email:Q}=yield Eu(C.auth,N);Q!==v.email&&(yield v.reload())})).apply(this,arguments)}function yr(v,g){return so.apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(v,g){return Ht(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,L.m9)(v),N={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Q=yield jn(C,yr(C.auth,N));C.displayName=Q.displayName||null,C.photoURL=Q.photoUrl||null;const pe=C.providerData.find(({providerId:Je})=>"password"===Je);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Q)})).apply(this,arguments)}function uh(v,g,_){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(v,g,_){const{auth:C}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(N.email=g),_&&(N.password=_);const Q=yield jn(v,xr(C,N));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class As{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class dh extends As{constructor(g,_,C,A){super(g,_,C),this.username=A}}class Vu extends As{constructor(g,_){super(g,"facebook.com",_)}}class hh extends dh{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class zp extends As{constructor(g,_){super(g,"google.com",_)}}class mc extends dh{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Gp(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Lu(v){var g,_;if(!v)return null;const{providerId:C}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const Q=null===(_=null===(g=Rt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new As(N,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!C)return null;switch(C){case"facebook.com":return new Vu(N,A);case"github.com":return new hh(N,A);case"google.com":return new zp(N,A);case"twitter.com":return new mc(N,A,v.screenName||null);case"custom":case"anonymous":return new As(N,null);default:return new As(N,C,A)}}(_)}class Da{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new Da("enroll",g,_)}static _fromMfaPendingCredential(g){return new Da("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Da._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return Da._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Uu{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=Wn(g),A=_.customData._serverResponse,N=(A.mfaInfo||[]).map(pe=>gl._fromServerResponse(C,pe));G(A.mfaPendingCredential,C,"internal-error");const Q=Da._fromMfaPendingCredential(A.mfaPendingCredential);return new Uu(Q,N,function(){var pe=(0,s.Z)(function*(Je){const ht=yield Je._process(C,Q);delete A.mfaInfo,delete A.mfaPendingCredential;const Pt=Object.assign(Object.assign({},A),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(_.operationType){case"signIn":const It=yield sr._fromIdTokenResponse(C,_.operationType,Pt);return yield C._updateCurrentUser(It.user),It;case"reauthenticate":return G(_.user,C,"internal-error"),sr._forOperation(_.user,_.operationType,Pt);default:De(C,"internal-error")}});return function(Je){return pe.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,s.Z)(function*(){return _.signInResolver(g)})()}}function $p(v,g){return Ht(v,"POST","/v2/accounts/mfaEnrollment:start",ct(v,g))}class bl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>gl._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new bl(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Da._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,s.Z)(function*(){const A=g,N=yield C.getSession(),Q=yield jn(C.user,A._process(C.user.auth,N,_));return yield C.user._updateTokensIfNecessary(Q),C.user.reload()})()}unenroll(g){var _=this;return(0,s.Z)(function*(){const C="string"==typeof g?g:g.uid,A=yield _.user.getIdToken();try{const N=yield jn(_.user,function am(v,g){return Ht(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(v,g))}(_.user.auth,{idToken:A,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Q})=>Q!==C),yield _.user._updateTokensIfNecessary(N),yield _.user.reload()}catch(N){throw N}})()}}const oo=new WeakMap,kr="__sak";class Hu{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(kr,"1"),this.storage.removeItem(kr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const zu=(()=>{class v extends Hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _c(){const v=(0,L.z$)();return $t(v)||vi(v)}()&&function ll(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fp(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),N=this.localCache[C];A!==N&&_(C,N,A)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((pe,Je,ht)=>{this.notifyListeners(pe,ht)});const A=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(A);if(_.newValue!==pe)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!C)return}const N=()=>{const pe=this.storage.getItem(A);!C&&this.localCache[A]===pe||this.notifyListeners(A,pe)},Q=this.storage.getItem(A);!function al(){return(0,L.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,C){this.localCache[_]=C;const A=this.listeners[_];if(A)for(const N of Array.from(A))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var A=()=>super._set,N=this;return(0,s.Z)(function*(){yield A().call(N,_,C),N.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,A=this;return(0,s.Z)(function*(){const N=yield C().call(A,_);return A.localCache[_]=JSON.stringify(N),N})()}_remove(_){var C=()=>super._remove,A=this;return(0,s.Z)(function*(){yield C().call(A,_),delete A.localCache[_]})()}}return v.type="LOCAL",v})(),Po=(()=>{class v extends Hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let yc=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(N=>N.isListeningto(_));if(C)return C;const A=new v(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,s.Z)(function*(){const A=_,{eventId:N,eventType:Q,data:pe}=A.data,Je=C.handlersMap[Q];if(!Je?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:Q});const ht=Array.from(Je).map(function(){var It=(0,s.Z)(function*(ki){return ki(A.origin,pe)});return function(ki){return It.apply(this,arguments)}}()),Pt=yield function wl(v){return Promise.all(v.map(function(){var g=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(ht);A.ports[0].postMessage({status:"done",eventId:N,eventType:Q,response:Pt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Cl(v="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return v+_}class Gu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var A=this;return(0,s.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Q,pe;return new Promise((Je,ht)=>{const Pt=Cl("",20);N.port1.start();const It=setTimeout(()=>{ht(new Error("unsupported_event"))},C);pe={messageChannel:N,onMessage(ki){const Ns=ki;if(Ns.data.eventId===Pt)switch(Ns.data.status){case"ack":clearTimeout(It),Q=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Je(Ns.data.response);break;default:clearTimeout(It),clearTimeout(Q),ht(new Error("invalid_response"))}}},A.handlers.add(pe),N.port1.addEventListener("message",pe.onMessage),A.target.postMessage({eventType:g,eventId:Pt,data:_},[N.port2])}).finally(()=>{pe&&A.removeMessageHandler(pe)})})()}}function An(){return window}function Fo(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function El(){return(El=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bc="firebaseLocalStorageDb",ao="firebaseLocalStorage",Lo="fbase_key";class Vo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function lo(v,g){return v.transaction([ao],g?"readwrite":"readonly").objectStore(ao)}function ju(){const v=indexedDB.open(bc,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(ao,{keyPath:Lo})}catch(A){_(A)}}),v.addEventListener("success",(0,s.Z)(function*(){const C=v.result;C.objectStoreNames.contains(ao)?g(C):(C.close(),yield function ka(){const v=indexedDB.deleteDatabase(bc);return new Vo(v).toPromise()}(),g(yield ju()))}))})}function ar(v,g,_){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(v,g,_){const C=lo(v,!0).put({[Lo]:g,value:_});return new Vo(C).toPromise()})).apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(v,g){const _=lo(v,!1).get(g),C=yield new Vo(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Tc(v,g){const _=lo(v,!0).delete(g);return new Vo(_).toPromise()}const Uo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield ju()),_.db})()}_withRetries(_){var C=this;return(0,s.Z)(function*(){let A=0;for(;;)try{const N=yield C._openDb();return yield _(N)}catch(N){if(A++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Fo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=yc._getInstance(function vc(){return Fo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(A,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(A,N){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var C,A;if(_.activeServiceWorker=yield function Ms(){return El.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Gu(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);N&&null!==(C=N[0])&&void 0!==C&&C.fulfilled&&null!==(A=N[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function $u(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ju();return yield ar(_,kr,"1"),yield Tc(_,kr),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(N=>ar(N,_,C)),A.localCache[_]=C,A.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,s.Z)(function*(){const A=yield C._withRetries(N=>function Ra(v,g){return Bo.apply(this,arguments)}(N,_));return C.localCache[_]=A,A})()}_remove(_){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(A=>Tc(A,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const C=yield _._withRetries(Q=>{const pe=lo(Q,!1).getAll();return new Vo(pe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:Q,value:pe}of C)N.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(pe)&&(_.notifyListeners(Q,pe),A.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!N.has(Q)&&(_.notifyListeners(Q,null),A.push(Q));return A})()}notifyListeners(_,C){this.localCache[_]=C;const A=this.listeners[_];if(A)for(const N of Array.from(A))N(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Oa(v,g){return Ht(v,"POST","/v2/accounts/mfaSignIn:start",ct(v,g))}function Il(){return(Il=(0,s.Z)(function*(v){return(yield Ht(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qr(v){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=g,C.onerror=A=>{const N=Te("internal-error");N.customData=A,_(N)},C.type="text/javascript",C.charset="UTF-8",function Ec(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(C)})}function Wu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Kr=1e12;class qp{constructor(g){this.auth=g,this.counter=Kr,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Zu(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Kr;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Kr))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,s.Z)(function*(){var C;return null===(C=_._widgets.get(g||Kr))||void 0===C||C.execute(),""})()}}class Zu{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;G(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sc(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qu=Wu("rcb"),Wp=new st(3e4,6e4);class Ho{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=An().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return G(function Dl(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(An().grecaptcha):new Promise((C,A)=>{const N=An().setTimeout(()=>{A(Te(g,"network-request-failed"))},Wp.get());An()[Qu]=()=>{An().clearTimeout(N),delete An()[Qu];const pe=An().grecaptcha;if(!pe)return void A(Te(g,"internal-error"));const Je=pe.render;pe.render=(ht,Pt)=>{const It=Je(ht,Pt);return this.counter++,It},this.hostLanguage=_,C(pe)},qr(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Qu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),A(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=An().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Na{load(g){return(0,s.Z)(function*(){return new qp(g)})()}clearedOneInstance(){}}const mh="recaptcha",_h={theme:"light",type:"image"};class Ic{constructor(g,_=Object.assign({},_h),C){this.parameters=_,this.type=mh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(C),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;G(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Na:new Ho,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(N=>{const Q=pe=>{pe&&(g.tokenChangeListeners.delete(Q),N(pe))};g.tokenChangeListeners.add(Q),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=An()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){G(we()&&!Fo(),g.auth,"internal-error"),yield function lv(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ks(v){return Il.apply(this,arguments)}(g.auth);G(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ju{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=jr._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Xu(){return(Xu=(0,s.Z)(function*(v,g,_){const C=Wn(v),A=yield yh(C,g,(0,L.m9)(_));return new Ju(A,N=>Jn(C,N))})).apply(this,arguments)}function Dc(){return(Dc=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v);yield ko(!1,C,"phone");const A=yield yh(C.auth,g,(0,L.m9)(_));return new Ju(A,N=>si(C,N))})).apply(this,arguments)}function Zp(){return(Zp=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v),A=yield yh(C.auth,g,(0,L.m9)(_));return new Ju(A,N=>Ro(C,N))})).apply(this,arguments)}function yh(v,g,_){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,s.Z)(function*(v,g,_){var C;const A=yield _.verify();try{let N;if(G("string"==typeof A,v,"argument-error"),G(_.type===mh,v,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const Q=N.session;if("phoneNumber"in N)return G("enroll"===Q.type,v,"internal-error"),(yield $p(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{G("signin"===Q.type,v,"internal-error");const pe=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return G(pe,v,"missing-multi-factor-info"),(yield Oa(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield nh(v,{phoneNumber:N.phoneNumber,recaptchaToken:A});return Q}}finally{_._reset()}})).apply(this,arguments)}function Yp(){return(Yp=(0,s.Z)(function*(v,g){yield sc((0,L.m9)(v),g)})).apply(this,arguments)}let ed=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Wn(_)}verifyPhoneNumber(_,C){return yh(this.auth,_,(0,L.m9)(C))}static credential(_,C){return jr._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:A}=_;return C&&A?jr._fromTokenResponse(C,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Mn(v,g){return g?Ct(g):(G(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ac extends ii{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return xn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return xn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return xn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Mc(v){return Ta(v.auth,new Ac(v),v.bypassAuthState)}function td(v){const{auth:g,user:_}=v;return G(_,g,"internal-error"),sh(_,new Ac(v),v.bypassAuthState)}function vr(v){return hs.apply(this,arguments)}function hs(){return(hs=(0,s.Z)(function*(v){const{auth:g,user:_}=v;return G(_,g,"internal-error"),sc(_,new Ac(v),v.bypassAuthState)})).apply(this,arguments)}class kc{constructor(g,_,C,A,N=!1){this.auth=g,this.resolver=C,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,s.Z)(function*(C,A){g.pendingPromise={resolve:C,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(C,A){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:N,tenantId:Q,error:pe,type:Je}=g;if(pe)return void _.reject(pe);const ht={auth:_.auth,requestUri:C,sessionId:A,tenantId:Q||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Je)(ht))}catch(Pt){_.reject(Pt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Mc;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return td;default:De(this.auth,"internal-error")}}resolve(g){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new st(2e3,1e4);function Rc(){return(Rc=(0,s.Z)(function*(v,g,_){const C=Wn(v);Ue(v,g,cs);const A=Mn(C,_);return new Zn(C,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Jp(){return(Jp=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v);Ue(C.auth,g,cs);const A=Mn(C.auth,_);return new Zn(C.auth,"reauthViaPopup",g,A,C).executeNotNull()})).apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v);Ue(C.auth,g,cs);const A=Mn(C.auth,_);return new Zn(C.auth,"linkViaPopup",g,A,C).executeNotNull()})).apply(this,arguments)}let Zn=(()=>{class v extends kc{constructor(_,C,A,N,Q){super(_,C,N,Q),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const C=yield _.execute();return G(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,s.Z)(function*(){Ke(1===_.filter.length,"Popup operations only handle one event");const C=Cl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,A;this.pollId=null!==(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,xl.get())};_()}}return v.currentPopupAction=null,v})();const Fa=new Map;class Oc extends kc{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,s.Z)(function*(){let C=Fa.get(_.auth._key());if(!C){try{const N=(yield function Xp(v,g){return Xn.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(N)}catch(A){C=()=>Promise.reject(A)}Fa.set(_.auth._key(),C)}return _.bypassAuthState||Fa.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const A=yield C.auth._redirectUserForId(g.eventId);if(A)return C.user=A,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Xn(){return(Xn=(0,s.Z)(function*(v,g){const _=La(g),C=ei(v);if(!(yield C._isAvailable()))return!1;const A="true"===(yield C._get(_));return yield C._remove(_),A})).apply(this,arguments)}function Nc(v,g){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(v,g){return ei(v)._set(La(g),"true")})).apply(this,arguments)}function ef(v,g){Fa.set(v._key(),g)}function ei(v){return Ct(v._redirectPersistence)}function La(v){return Z("pendingRedirect",v.config.apiKey,v.name)}function I(){return(I=(0,s.Z)(function*(v,g,_){const C=Wn(v);Ue(v,g,cs),yield C._initializationPromise;const A=Mn(C,_);return yield Nc(A,C),A._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v);Ue(C.auth,g,cs),yield C.auth._initializationPromise;const A=Mn(C.auth,_);yield Nc(A,C.auth);const N=yield ke(C);return A._openRedirect(C.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(v,g,_){const C=(0,L.m9)(v);Ue(C.auth,g,cs),yield C.auth._initializationPromise;const A=Mn(C.auth,_);yield ko(!1,C,g.providerId),yield Nc(A,C.auth);const N=yield ke(C);return A._openRedirect(C.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(v,g){return yield Wn(v)._initializationPromise,We(v,g,!1)})).apply(this,arguments)}function We(v,g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(v,g,_=!1){const C=Wn(v),A=Mn(C,g),Q=yield new Oc(C,A,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield C._persistUserIfCurrent(Q.user),yield C._setRedirectUser(null,g)),Q})).apply(this,arguments)}function ke(v){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,s.Z)(function*(v){const g=Cl(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class uo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Zr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Va(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!Va(g)){const A=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,A))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cr(g))}saveEventToCache(g){this.cachedEventUids.add(cr(g)),this.lastProcessedEventTime=Date.now()}}function cr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Va({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function Rs(v){return zo.apply(this,arguments)}function zo(){return(zo=(0,s.Z)(function*(v,g={}){return Ht(v,"GET","/v1/projects",g)})).apply(this,arguments)}const tf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uv=/^https?/;function bt(){return(bt=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Rs(v);for(const _ of g)try{if(um(_))return}catch{}De(v,"unauthorized-domain")})).apply(this,arguments)}function um(v){const g=he(),{protocol:_,hostname:C}=new URL(g);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===C}if(!uv.test(_))return!1;if(tf.test(v))return C===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const v0=new st(3e4,6e4);function nf(){const v=An().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let kn=null;function b0(v){return kn=kn||function dm(v){return new Promise((g,_)=>{var C,A,N;function Q(){nf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{nf(),_(Te(v,"network-request-failed"))},timeout:v0.get()})}if(null!==(A=null===(C=An().gapi)||void 0===C?void 0:C.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(N=An().gapi)||void 0===N||!N.load){const pe=Wu("iframefcb");return An()[pe]=()=>{gapi.load?Q():_(Te(v,"network-request-failed"))},qr(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Je=>_(Je))}Q()}}).catch(g=>{throw kn=null,g})}(v),kn}const dv=new st(5e3,15e3),vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hm(v){const g=v.config;G(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?tt(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:v.name,v:se.SDK_VERSION},A=w0.get(v.config.apiHost);A&&(C.eid=A);const N=v._getFrameworks();return N.length&&(C.fw=N.join(",")),`${_}?${(0,L.xO)(C).slice(1)}`}function bh(){return bh=(0,s.Z)(function*(v){const g=yield b0(v),_=An().gapi;return G(_,v,"internal-error"),g.open({where:document.body,url:hm(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},C=>new Promise(function(){var A=(0,s.Z)(function*(N,Q){yield C.restyle({setHideOnLeave:!1});const pe=Te(v,"network-request-failed"),Je=An().setTimeout(()=>{Q(pe)},dv.get());function ht(){An().clearTimeout(Je),N(C)}C.ping(ht).then(ht,()=>{Q(pe)})});return function(N,Q){return A.apply(this,arguments)}}()))}),bh.apply(this,arguments)}const pm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bn{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ba(v,g,_,C,A,N){G(v.config.authDomain,v,"auth-domain-config-required"),G(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:se.SDK_VERSION,eventId:A};if(g instanceof cs){g.setDefaultLanguage(v.languageCode),Q.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(Q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Je,ht]of Object.entries(N||{}))Q[Je]=ht}if(g instanceof ya){const Je=g.getScopes().filter(ht=>""!==ht);Je.length>0&&(Q.scopes=Je.join(","))}v.tenantId&&(Q.tid=v.tenantId);const pe=Q;for(const Je of Object.keys(pe))void 0===pe[Je]&&delete pe[Je];return`${function ps({config:v}){return v.emulator?tt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(pe).slice(1)}`}const Zi="webStorageSupport",Ch=class wh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=We,this._overrideRedirectResult=ef}_openPopup(g,_,C,A){var N=this;return(0,s.Z)(function*(){var Q;Ke(null===(Q=N.eventManagers[g._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const pe=Ba(g,_,C,he(),A);return function af(v,g,_,C=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),Q=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const Je=Object.assign(Object.assign({},pm),{width:C.toString(),height:A.toString(),top:N,left:Q}),ht=(0,L.z$)().toLowerCase();_&&(pe=rn(ht)?"_blank":_),ft(ht)&&(g=g||"http://localhost",Je.scrollbars="yes");const Pt=Object.entries(Je).reduce((ki,[Ns,Mh])=>`${ki}${Ns}=${Mh},`,"");if(function ji(v=(0,L.z$)()){var g;return vi(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ht)&&"_self"!==pe)return function fm(v,g){const _=document.createElement("a");_.href=v,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",pe),new bn(null);const It=window.open(g||"",pe,Pt);G(It,v,"popup-blocked");try{It.focus()}catch{}return new bn(It)}(g,pe,Cl())})()}_openRedirect(g,_,C,A){var N=this;return(0,s.Z)(function*(){return yield N._originValidation(g),function Tl(v){An().location.href=v}(Ba(g,_,C,he(),A)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:A,promise:N}=this.eventManagers[_];return A?Promise.resolve(A):(Ke(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,s.Z)(function*(){const C=yield function id(v){return bh.apply(this,arguments)}(g),A=new uo(g);return C.register("authEvent",N=>(G(N?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:A},_.iframes[g._key()]=C,A})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Zi,{type:Zi},A=>{var N;const Q=null===(N=A?.[0])||void 0===N?void 0:N[Zi];void 0!==Q&&_(!!Q),De(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ml(v){return bt.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Fp()||$t()||vi()}};class pv{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return Ce("unexpected MultiFactorSessionType")}}}class Os extends pv{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Os(g)}_finalizeEnroll(g,_,C){return function om(v,g){return Ht(v,"POST","/v2/accounts/mfaEnrollment:finalize",ct(v,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function jp(v,g){return Ht(v,"POST","/v2/accounts/mfaSignIn:finalize",ct(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ti=(()=>{class v{constructor(){}static assertion(_){return Os._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Mi="@firebase/auth";class lf{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fs(){return window}function uf(){return(uf=(0,s.Z)(function*(v,g,_){var C;const{BuildInfo:A}=fs();Ke(g.sessionId,"AuthEvent did not contain a session ID");const N=yield Qi(g.sessionId),Q={};return vi()?Q.ibi=A.packageName:At()?Q.apn=A.packageName:De(v,"operation-not-supported-in-this-environment"),A.displayName&&(Q.appDisplayName=A.displayName),Q.sessionId=N,Ba(v,_,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,Q)})).apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(v){const{BuildInfo:g}=fs(),_={};vi()?_.iosBundleId=g.packageName:At()?_.androidPackageName=g.packageName:De(v,"operation-not-supported-in-this-environment"),yield Rs(v,_)})).apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(v,g,_){const{cordova:C}=fs();let A=()=>{};try{yield new Promise((N,Q)=>{let pe=null;function Je(){var It;N();const ki=null===(It=C.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof ki&&ki(),"function"==typeof _?.close&&_.close()}function ht(){pe||(pe=window.setTimeout(()=>{Q(Te(v,"redirect-cancelled-by-user"))},2e3))}function Pt(){"visible"===document?.visibilityState&&ht()}g.addPassiveListener(Je),document.addEventListener("resume",ht,!1),At()&&document.addEventListener("visibilitychange",Pt,!1),A=()=>{g.removePassiveListener(Je),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",Pt,!1),pe&&window.clearTimeout(pe)}})}finally{A()}})).apply(this,arguments)}function Qi(v){return gs.apply(this,arguments)}function gs(){return(gs=(0,s.Z)(function*(v){const g=Lc(v),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Lc(v){if(Ke(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),_=new Uint8Array(g);for(let C=0;C<v.length;C++)_[C]=v.charCodeAt(C);return _}(0,L.Pz)("authIdTokenMaxAge"),function kl(v){(0,se._registerComponent)(new me.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:N,authDomain:Q}=C.options;return((pe,Je)=>{G(N&&!N.includes(":"),"invalid-api-key",{appName:pe.name}),G(!Q?.includes(":"),"argument-error",{appName:pe.name});const ht={apiKey:N,authDomain:Q,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nc(v)},Pt=new eh(pe,Je,ht);return function le(v,g){const _=g?.persistence||[],C=(Array.isArray(_)?_:[_]).map(Ct);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(C,g?.popupRedirectResolver)}(Pt,_),Pt})(C,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new me.wA("auth-internal",g=>{const _=Wn(g.getProvider("auth").getImmediate());return new lf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Mi,"0.21.3",function oi(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,se.registerVersion)(Mi,"0.21.3","esm2017")}("Browser");class Ol extends uo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function df(v){return sd.apply(this,arguments)}function sd(){return(sd=(0,s.Z)(function*(v){const g=yield Vc()._get($o(v));return g&&(yield Vc()._remove($o(v))),g})).apply(this,arguments)}function wm(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*g.length);v.push(g.charAt(C))}return v.join("")}function Vc(){return Ct(zu)}function $o(v){return Z("authEvent",v.config.apiKey,v.name)}function ad(v){if(!v?.includes("?"))return{};const[g,..._]=v.split("?");return(0,L.zd)(_.join("?"))}const Nl=class Cm{constructor(){this._redirectPersistence=Po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=We,this._overrideRedirectResult=ef}_initialize(g){var _=this;return(0,s.Z)(function*(){const C=g._key();let A=_.eventManagers.get(C);return A||(A=new Ol(g),_.eventManagers.set(C,A),_.attachCallbackListeners(g,A)),A})()}_openPopup(g){De(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,C,A){var N=this;return(0,s.Z)(function*(){!function C0(v){var g,_,C,A,N,Q,pe,Je,ht,Pt;const It=fs();G("function"==typeof(null===(g=It?.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof(null===(_=It?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(N=null===(A=null===(C=It?.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Je=null===(pe=null===(Q=It?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Je?void 0:Je.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Pt=null===(ht=It?.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===Pt?void 0:Pt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Q=yield N._initialize(g);yield Q.initialized(),Q.resetRedirect(),function cm(){Fa.clear()}(),yield N._originValidation(g);const pe=function Sh(v,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:wm(),postBody:null,tenantId:v.tenantId,error:Te(v,"no-auth-event")}}(g,C,A);yield function vm(v,g){return Vc()._set($o(v),g)}(g,pe);const Je=yield function Rl(v,g,_){return uf.apply(this,arguments)}(g,pe,_),ht=yield function Eh(v){const{cordova:g}=fs();return new Promise(_=>{g.plugins.browsertab.isAvailable(C=>{let A=null;C?g.plugins.browsertab.openUrl(v):A=g.InAppBrowser.open(v,function fa(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(A)})})}(Je);return function _m(v,g,_){return Ua.apply(this,arguments)}(g,Q,ht)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function gv(v){return Or.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:C,handleOpenURL:A,BuildInfo:N}=fs(),Q=setTimeout((0,s.Z)(function*(){yield df(g),_.onEvent(Ih())}),500),pe=function(){var Pt=(0,s.Z)(function*(It){clearTimeout(Q);const ki=yield df(g);let Ns=null;ki&&It?.url&&(Ns=function bm(v,g){var _,C;const A=function od(v){const g=ad(v),_=g.link?decodeURIComponent(g.link):void 0,C=ad(_).link,A=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return ad(A).link||A||C||_||v}(g);if(A.includes("/__/auth/callback")){const N=ad(A),Q=N.firebaseError?function en(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,pe=null===(C=null===(_=Q?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Je=pe?Te(pe):null;return Je?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(ki,It.url)),_.onEvent(Ns||Ih())});return function(ki){return Pt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,pe);const Je=A,ht=`${N.packageName.toLowerCase()}://`;fs().handleOpenURL=function(){var Pt=(0,s.Z)(function*(It){if(It.toLowerCase().startsWith(ht)&&pe({url:It}),"function"==typeof Je)try{Je(It)}catch(ki){console.error(ki)}});return function(It){return Pt.apply(this,arguments)}}()}};function Ih(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function qo(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Dh(v=(0,L.z$)()){return!("file:"!==qo()&&"ionic:"!==qo()&&"capacitor:"!==qo()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function pf(){try{const v=self.localStorage,g=Cl();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Sm(v=(0,L.z$)()){return function cd(){return(0,L.w1)()&&11===document?.documentMode}()||function Em(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch{return xh()&&(0,L.hl)()}return!1}function xh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function za(){return(function Tm(){return"http:"===qo()||"https:"===qo()}()||(0,L.ru)()||Dh())&&!function hf(){return(0,L.b$)()||(0,L.UG)()}()&&pf()&&!xh()}function ff(){return Dh()&&typeof document<"u"}function Uc(){return(Uc=(0,s.Z)(function*(){return!!ff()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const br={LOCAL:"local",NONE:"none",SESSION:"session"},Wo=G,Pl="persistence";function Ko(v){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(v){yield v._initializationPromise;const g=Dm(),_=Z(Pl,v.config.apiKey,v.name);g&&g.setItem(_,v._getPersistence())})).apply(this,arguments)}function Dm(){var v;try{return(null===(v=function Im(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const _v=G;class Zo{constructor(){this.browserResolver=Ct(Ch),this.cordovaResolver=Ct(Nl),this.underlyingResolver=null,this._redirectPersistence=Po,this._completeRedirectFn=We,this._overrideRedirectResult=ef}_initialize(g){var _=this;return(0,s.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,C,A){var N=this;return(0,s.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(g,_,C,A)})()}_openRedirect(g,_,C,A){var N=this;return(0,s.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(g,_,C,A)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ff()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _v(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const _=yield function Ah(){return Uc.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Fl(v){return v.unwrap()}function $a(v){return gf(v)}function gf(v){const{_tokenResponse:g}=v instanceof L.ZR?v.customData:v;if(!g)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return ed.credentialFromResult(v);const _=g.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=Vp;break;case"facebook.com":C=Du;break;case"github.com":C=Bp;break;case"twitter.com":C=im;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:Q,pendingToken:pe,nonce:Je}=g;return N||Q||A||pe?pe?_.startsWith("saml.")?va._create(_,pe):Mr._fromParams({providerId:_,signInMethod:_,pendingToken:pe,idToken:A,accessToken:N}):new pl(_).credential({idToken:A,accessToken:N,rawNonce:Je}):null}return v instanceof L.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function wr(v,g){return g.catch(_=>{throw _ instanceof L.ZR&&function ja(v,g){var _;const C=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new _f(v,function Fi(v,g){var _;const C=(0,L.m9)(v),A=g;return G(g.customData.operationType,C,"argument-error"),G(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Uu._fromError(C,A)}(v,g));else if(C){const A=gf(g),N=g;A&&(N.credential=A,N.tenantId=C.tenantId||void 0,N.email=C.email||void 0,N.phoneNumber=C.phoneNumber||void 0)}}(v,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:$a(_),additionalUserInfo:Gp(_),user:po.getOrCreate(A)}})}function Ll(v,g){return mf.apply(this,arguments)}function mf(){return(mf=(0,s.Z)(function*(v,g){const _=yield g;return{verificationId:_.verificationId,confirm:C=>wr(v,_.confirm(C))}})).apply(this,arguments)}class _f{constructor(g,_){this.resolver=_,this.auth=function Ga(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return wr(Fl(this.auth),this.resolver.resolveSignIn(g))}}class po{constructor(g){this._delegate=g,this.multiFactor=function xa(v){const g=(0,L.m9)(v);return oo.has(g)||oo.set(g,bl._fromUser(g)),oo.get(g)}(g)}static getOrCreate(g){return po.USER_MAP.has(g)||po.USER_MAP.set(g,new po(g)),po.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,s.Z)(function*(){return wr(_.auth,si(_._delegate,g))})()}linkWithPhoneNumber(g,_){var C=this;return(0,s.Z)(function*(){return Ll(C.auth,function lm(v,g,_){return Dc.apply(this,arguments)}(C._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,s.Z)(function*(){return wr(_.auth,function cv(v,g,_){return lr.apply(this,arguments)}(_._delegate,g,Zo))})()}linkWithRedirect(g){var _=this;return(0,s.Z)(function*(){return yield Ko(Wn(_.auth)),function J(v,g,_){return function ee(v,g,_){return ve.apply(this,arguments)}(v,g,_)}(_._delegate,g,Zo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,s.Z)(function*(){return wr(_.auth,Ro(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Ll(this.auth,function Kp(v,g,_){return Zp.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return wr(this.auth,function y0(v,g,_){return Jp.apply(this,arguments)}(this._delegate,g,Zo))}reauthenticateWithRedirect(g){var _=this;return(0,s.Z)(function*(){return yield Ko(Wn(_.auth)),function D(v,g,_){return function k(v,g,_){return U.apply(this,arguments)}(v,g,_)}(_._delegate,g,Zo)})()}sendEmailVerification(g){return function lh(v,g){return Pu.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,s.Z)(function*(){return yield function rc(v,g){return ba.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function ch(v,g){return uh((0,L.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function vl(v,g){return uh((0,L.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function xc(v,g){return Yp.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function No(v,g){return ds.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function gc(v,g,_){return wi.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}po.USER_MAP=new WeakMap;const zc=G;let Vl=(()=>{class v{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;zc(A,"invalid-api-key",{appName:_.name}),zc(A,"invalid-api-key",{appName:_.name});const N=typeof window<"u"?Zo:void 0;this._delegate=C.initialize({options:{persistence:xm(A,_.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function Cu(v,g,_){const C=Wn(v);G(C._canInitEmulator,C,"emulator-config-failed"),G(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const A=!!_?.disableWarnings,N=cl(g),{host:Q,port:pe}=function ul(v){const g=cl(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const N=A[1];return{host:N,port:ln(C.substr(N.length+1))}}{const[N,Q]=C.split(":");return{host:N,port:ln(Q)}}}(g);C.config.emulator={url:`${N}//${Q}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Q,port:pe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function bi(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,C)}applyActionCode(_){return function cc(v,g){return oh.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return uc(this._delegate,_)}confirmPasswordReset(_,C){return function _l(v,g,_){return Bt.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var A=this;return(0,s.Z)(function*(){return wr(A._delegate,function Hp(v,g,_){return Ou.apply(this,arguments)}(A._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function pc(v,g){return fc.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function ah(v,g){return"EMAIL_SIGNIN"===hl.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,s.Z)(function*(){zc(za(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function et(v,g){return wt.apply(this,arguments)}(_._delegate,Zo);return C?wr(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function mv(v,g){Wn(v)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,C,A){const{next:N,error:Q,complete:pe}=Qo(_,C,A);return this._delegate.onAuthStateChanged(N,Q,pe)}onIdTokenChanged(_,C,A){const{next:N,error:Q,complete:pe}=Qo(_,C,A);return this._delegate.onIdTokenChanged(N,Q,pe)}sendSignInLinkToEmail(_,C){return function cn(v,g,_){return Nu.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function xs(v,g,_){return ml.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,s.Z)(function*(){let A;switch(function ud(v,g){Wo(Object.values(br).includes(g),v,"invalid-persistence-type"),(0,L.b$)()?Wo(g!==br.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?Wo(g===br.NONE,v,"unsupported-persistence-type"):xh()?Wo(g===br.NONE||g===br.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):Wo(g===br.NONE||pf(),v,"unsupported-persistence-type")}(C._delegate,_),_){case br.SESSION:A=Po;break;case br.LOCAL:A=(yield Ct(Uo)._isAvailable())?Uo:zu;break;case br.NONE:A=H;break;default:return De("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return wr(this._delegate,function rh(v){return Up.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return wr(this._delegate,Jn(this._delegate,_))}signInWithCustomToken(_){return wr(this._delegate,function Oo(v,g){return Ai.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return wr(this._delegate,function ye(v,g,_){return Jn((0,L.m9)(v),Iu.credential(g,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return wr(this._delegate,function Pi(v,g,_){return yl.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return Ll(this._delegate,function sn(v,g,_){return Xu.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,s.Z)(function*(){return zc(za(),C._delegate,"operation-not-supported-in-this-environment"),wr(C._delegate,function Pa(v,g,_){return Rc.apply(this,arguments)}(C._delegate,_,Zo))})()}signInWithRedirect(_){var C=this;return(0,s.Z)(function*(){return zc(za(),C._delegate,"operation-not-supported-in-this-environment"),yield Ko(C._delegate),function Al(v,g,_){return function nd(v,g,_){return I.apply(this,arguments)}(v,g,_)}(C._delegate,_,Zo)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Ru(v,g){return dc.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=br,v})();function Qo(v,g,_){let C=v;"function"!=typeof v&&({next:C,error:g,complete:_}=v);const A=C;return{next:Q=>A(Q&&po.getOrCreate(Q)),error:g,complete:_}}function xm(v,g){const _=function T0(v,g){const _=Dm();if(!_)return[];const C=Z(Pl,v,g);switch(_.getItem(C)){case br.NONE:return[H];case br.LOCAL:return[Uo,Po];case br.SESSION:return[Po];default:return[]}}(v,g);if(typeof self<"u"&&!_.includes(Uo)&&_.push(Uo),typeof window<"u")for(const C of[zu,Po])_.includes(C)||_.push(C);return _.includes(H)||_.push(H),_}class Gc{constructor(){this.providerId="phone",this._delegate=new ed(Fl(te.Z.auth()))}static credential(g,_){return ed.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Gc.PHONE_SIGN_IN_METHOD=ed.PHONE_SIGN_IN_METHOD,Gc.PROVIDER_ID=ed.PROVIDER_ID;const Am=G;class yf{constructor(g,_,C=te.Z.app()){var A;Am(null===(A=C.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ic(g,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dd(v){v.INTERNAL.registerComponent(new me.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new Vl(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Iu,FacebookAuthProvider:Du,GithubAuthProvider:Bp,GoogleAuthProvider:Vp,OAuthProvider:pl,SAMLAuthProvider:us,PhoneAuthProvider:Gc,PhoneMultiFactorGenerator:Ti,RecaptchaVerifier:yf,TwitterAuthProvider:im,Auth:Vl,AuthCredential:ii,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.3.3")}(te.Z)},8766:(vt,Se,V)=>{V.d(Se,{Lj:()=>De,X3:()=>$e});var s=V(5861);let L,se;const me=new WeakMap,de=new WeakMap,ue=new WeakMap,j=new WeakMap,q=new WeakMap;let xe={get(G,Ce,Ke){if(G instanceof IDBTransaction){if("done"===Ce)return de.get(G);if("objectStoreNames"===Ce)return G.objectStoreNames||ue.get(G);if("store"===Ce)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return Me(G[Ce])},set:(G,Ce,Ke)=>(G[Ce]=Ke,!0),has:(G,Ce)=>G instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in G};function fe(G){return"function"==typeof G?function _t(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ce){return G.apply(Ae(this),Ce),Me(me.get(this))}:function(...Ce){return Me(G.apply(Ae(this),Ce))}:function(Ce,...Ke){const nt=G.call(Ae(this),Ce,...Ke);return ue.set(nt,Ce.sort?Ce.sort():[Ce]),Me(nt)}}(G):(G instanceof IDBTransaction&&function Ze(G){if(de.has(G))return;const Ce=new Promise((Ke,nt)=>{const Ct=()=>{G.removeEventListener("complete",lt),G.removeEventListener("error",le),G.removeEventListener("abort",le)},lt=()=>{Ke(),Ct()},le=()=>{nt(G.error||new DOMException("AbortError","AbortError")),Ct()};G.addEventListener("complete",lt),G.addEventListener("error",le),G.addEventListener("abort",le)});de.set(G,Ce)}(G),((G,Ce)=>Ce.some(Ke=>G instanceof Ke))(G,function oe(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,xe):G)}function Me(G){if(G instanceof IDBRequest)return function Y(G){const Ce=new Promise((Ke,nt)=>{const Ct=()=>{G.removeEventListener("success",lt),G.removeEventListener("error",le)},lt=()=>{Ke(Me(G.result)),Ct()},le=()=>{nt(G.error),Ct()};G.addEventListener("success",lt),G.addEventListener("error",le)});return Ce.then(Ke=>{Ke instanceof IDBCursor&&me.set(Ke,G)}).catch(()=>{}),q.set(Ce,G),Ce}(G);if(j.has(G))return j.get(G);const Ce=fe(G);return Ce!==G&&(j.set(G,Ce),q.set(Ce,G)),Ce}const Ae=G=>q.get(G);function $e(G,Ce,{blocked:Ke,upgrade:nt,blocking:Ct,terminated:lt}={}){const le=indexedDB.open(G,Ce),he=Me(le);return nt&&le.addEventListener("upgradeneeded",we=>{nt(Me(le.result),we.oldVersion,we.newVersion,Me(le.transaction))}),Ke&&le.addEventListener("blocked",()=>Ke()),he.then(we=>{lt&&we.addEventListener("close",()=>lt()),Ct&&we.addEventListener("versionchange",()=>Ct())}).catch(()=>{}),he}function De(G,{blocked:Ce}={}){const Ke=indexedDB.deleteDatabase(G);return Ce&&Ke.addEventListener("blocked",()=>Ce()),Me(Ke).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Ue=new Map;function Be(G,Ce){if(!(G instanceof IDBDatabase)||Ce in G||"string"!=typeof Ce)return;if(Ue.get(Ce))return Ue.get(Ce);const Ke=Ce.replace(/FromIndex$/,""),nt=Ce!==Ke,Ct=Re.includes(Ke);if(!(Ke in(nt?IDBIndex:IDBObjectStore).prototype)||!Ct&&!Te.includes(Ke))return;const lt=function(){var le=(0,s.Z)(function*(he,...we){const Oe=this.transaction(he,Ct?"readwrite":"readonly");let je=Oe.store;return nt&&(je=je.index(we.shift())),(yield Promise.all([je[Ke](...we),Ct&&Oe.done]))[0]});return function(we){return le.apply(this,arguments)}}();return Ue.set(Ce,lt),lt}!function Xe(G){xe=G(xe)}(G=>({...G,get:(Ce,Ke,nt)=>Be(Ce,Ke)||G.get(Ce,Ke,nt),has:(Ce,Ke)=>!!Be(Ce,Ke)||G.has(Ce,Ke)}))},5861:(vt,Se,V)=>{function s(L,se,oe,re,me,de,ue){try{var j=L[de](ue),q=j.value}catch(Y){return void oe(Y)}j.done?se(q):Promise.resolve(q).then(re,me)}function te(L){return function(){var se=this,oe=arguments;return new Promise(function(re,me){var de=L.apply(se,oe);function ue(q){s(de,re,me,ue,j,"next",q)}function j(q){s(de,re,me,ue,j,"throw",q)}ue(void 0)})}}V.d(Se,{Z:()=>te})}},vt=>{vt(vt.s=5910)}]);